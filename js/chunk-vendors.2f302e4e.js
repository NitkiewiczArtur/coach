(self["webpackChunkcoach"]=self["webpackChunkcoach"]||[]).push([[998],{9662:function(t,e,i){var n=i(7854),r=i(614),s=i(6330),a=n.TypeError;t.exports=function(t){if(r(t))return t;throw a(s(t)+" is not a function")}},6077:function(t,e,i){var n=i(7854),r=i(614),s=n.String,a=n.TypeError;t.exports=function(t){if("object"==typeof t||r(t))return t;throw a("Can't set "+s(t)+" as a prototype")}},1223:function(t,e,i){var n=i(5112),r=i(30),s=i(3070),a=n("unscopables"),o=Array.prototype;void 0==o[a]&&s.f(o,a,{configurable:!0,value:r(null)}),t.exports=function(t){o[a][t]=!0}},5787:function(t,e,i){var n=i(7854),r=i(7976),s=n.TypeError;t.exports=function(t,e){if(r(e,t))return t;throw s("Incorrect invocation")}},9670:function(t,e,i){var n=i(7854),r=i(111),s=n.String,a=n.TypeError;t.exports=function(t){if(r(t))return t;throw a(s(t)+" is not an object")}},4019:function(t){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},260:function(t,e,i){"use strict";var n,r,s,a=i(4019),o=i(9781),l=i(7854),c=i(614),h=i(111),u=i(2597),d=i(648),f=i(6330),p=i(8880),g=i(1320),m=i(3070).f,v=i(7976),y=i(9518),x=i(7674),b=i(5112),w=i(9711),k=l.Int8Array,A=k&&k.prototype,S=l.Uint8ClampedArray,C=S&&S.prototype,E=k&&y(k),I=A&&y(A),T=Object.prototype,_=l.TypeError,P=b("toStringTag"),L=w("TYPED_ARRAY_TAG"),R=w("TYPED_ARRAY_CONSTRUCTOR"),O=a&&!!x&&"Opera"!==d(l.opera),N=!1,M={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},D={BigInt64Array:8,BigUint64Array:8},F=function(t){if(!h(t))return!1;var e=d(t);return"DataView"===e||u(M,e)||u(D,e)},z=function(t){if(!h(t))return!1;var e=d(t);return u(M,e)||u(D,e)},V=function(t){if(z(t))return t;throw _("Target is not a typed array")},H=function(t){if(c(t)&&(!x||v(E,t)))return t;throw _(f(t)+" is not a typed array constructor")},X=function(t,e,i,n){if(o){if(i)for(var r in M){var s=l[r];if(s&&u(s.prototype,t))try{delete s.prototype[t]}catch(a){try{s.prototype[t]=e}catch(c){}}}I[t]&&!i||g(I,t,i?e:O&&A[t]||e,n)}},B=function(t,e,i){var n,r;if(o){if(x){if(i)for(n in M)if(r=l[n],r&&u(r,t))try{delete r[t]}catch(s){}if(E[t]&&!i)return;try{return g(E,t,i?e:O&&E[t]||e)}catch(s){}}for(n in M)r=l[n],!r||r[t]&&!i||g(r,t,e)}};for(n in M)r=l[n],s=r&&r.prototype,s?p(s,R,r):O=!1;for(n in D)r=l[n],s=r&&r.prototype,s&&p(s,R,r);if((!O||!c(E)||E===Function.prototype)&&(E=function(){throw _("Incorrect invocation")},O))for(n in M)l[n]&&x(l[n],E);if((!O||!I||I===T)&&(I=E.prototype,O))for(n in M)l[n]&&x(l[n].prototype,I);if(O&&y(C)!==I&&x(C,I),o&&!u(I,P))for(n in N=!0,m(I,P,{get:function(){return h(this)?this[L]:void 0}}),M)l[n]&&p(l[n],L,n);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:O,TYPED_ARRAY_CONSTRUCTOR:R,TYPED_ARRAY_TAG:N&&L,aTypedArray:V,aTypedArrayConstructor:H,exportTypedArrayMethod:X,exportTypedArrayStaticMethod:B,isView:F,isTypedArray:z,TypedArray:E,TypedArrayPrototype:I}},1318:function(t,e,i){var n=i(5656),r=i(1400),s=i(6244),a=function(t){return function(e,i,a){var o,l=n(e),c=s(l),h=r(a,c);if(t&&i!=i){while(c>h)if(o=l[h++],o!=o)return!0}else for(;c>h;h++)if((t||h in l)&&l[h]===i)return t||h||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},4326:function(t,e,i){var n=i(1702),r=n({}.toString),s=n("".slice);t.exports=function(t){return s(r(t),8,-1)}},648:function(t,e,i){var n=i(7854),r=i(1694),s=i(614),a=i(4326),o=i(5112),l=o("toStringTag"),c=n.Object,h="Arguments"==a(function(){return arguments}()),u=function(t,e){try{return t[e]}catch(i){}};t.exports=r?a:function(t){var e,i,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=u(e=c(t),l))?i:h?a(e):"Object"==(n=a(e))&&s(e.callee)?"Arguments":n}},7741:function(t,e,i){var n=i(1702),r=n("".replace),s=function(t){return String(Error(t).stack)}("zxcasd"),a=/\n\s*at [^:]*:[^\n]*/,o=a.test(s);t.exports=function(t,e){if(o&&"string"==typeof t)while(e--)t=r(t,a,"");return t}},9920:function(t,e,i){var n=i(2597),r=i(3887),s=i(1236),a=i(3070);t.exports=function(t,e,i){for(var o=r(e),l=a.f,c=s.f,h=0;h<o.length;h++){var u=o[h];n(t,u)||i&&n(i,u)||l(t,u,c(e,u))}}},8544:function(t,e,i){var n=i(7293);t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},8880:function(t,e,i){var n=i(9781),r=i(3070),s=i(9114);t.exports=n?function(t,e,i){return r.f(t,e,s(1,i))}:function(t,e,i){return t[e]=i,t}},9114:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},9781:function(t,e,i){var n=i(7293);t.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:function(t,e,i){var n=i(7854),r=i(111),s=n.document,a=r(s)&&r(s.createElement);t.exports=function(t){return a?s.createElement(t):{}}},3678:function(t){t.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},8113:function(t,e,i){var n=i(5005);t.exports=n("navigator","userAgent")||""},7392:function(t,e,i){var n,r,s=i(7854),a=i(8113),o=s.process,l=s.Deno,c=o&&o.versions||l&&l.version,h=c&&c.v8;h&&(n=h.split("."),r=n[0]>0&&n[0]<4?1:+(n[0]+n[1])),!r&&a&&(n=a.match(/Edge\/(\d+)/),(!n||n[1]>=74)&&(n=a.match(/Chrome\/(\d+)/),n&&(r=+n[1]))),t.exports=r},748:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2914:function(t,e,i){var n=i(7293),r=i(9114);t.exports=!n((function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",r(1,7)),7!==t.stack)}))},2109:function(t,e,i){var n=i(7854),r=i(1236).f,s=i(8880),a=i(1320),o=i(3505),l=i(9920),c=i(4705);t.exports=function(t,e){var i,h,u,d,f,p,g=t.target,m=t.global,v=t.stat;if(h=m?n:v?n[g]||o(g,{}):(n[g]||{}).prototype,h)for(u in e){if(f=e[u],t.noTargetGet?(p=r(h,u),d=p&&p.value):d=h[u],i=c(m?u:g+(v?".":"#")+u,t.forced),!i&&void 0!==d){if(typeof f==typeof d)continue;l(f,d)}(t.sham||d&&d.sham)&&s(f,"sham",!0),a(h,u,f,t)}}},7293:function(t){t.exports=function(t){try{return!!t()}catch(e){return!0}}},2104:function(t,e,i){var n=i(4374),r=Function.prototype,s=r.apply,a=r.call;t.exports="object"==typeof Reflect&&Reflect.apply||(n?a.bind(s):function(){return a.apply(s,arguments)})},4374:function(t,e,i){var n=i(7293);t.exports=!n((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},6916:function(t,e,i){var n=i(4374),r=Function.prototype.call;t.exports=n?r.bind(r):function(){return r.apply(r,arguments)}},6530:function(t,e,i){var n=i(9781),r=i(2597),s=Function.prototype,a=n&&Object.getOwnPropertyDescriptor,o=r(s,"name"),l=o&&"something"===function(){}.name,c=o&&(!n||n&&a(s,"name").configurable);t.exports={EXISTS:o,PROPER:l,CONFIGURABLE:c}},1702:function(t,e,i){var n=i(4374),r=Function.prototype,s=r.bind,a=r.call,o=n&&s.bind(a,a);t.exports=n?function(t){return t&&o(t)}:function(t){return t&&function(){return a.apply(t,arguments)}}},5005:function(t,e,i){var n=i(7854),r=i(614),s=function(t){return r(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?s(n[t]):n[t]&&n[t][e]}},8173:function(t,e,i){var n=i(9662);t.exports=function(t,e){var i=t[e];return null==i?void 0:n(i)}},7854:function(t,e,i){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof i.g&&i.g)||function(){return this}()||Function("return this")()},2597:function(t,e,i){var n=i(1702),r=i(7908),s=n({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return s(r(t),e)}},3501:function(t){t.exports={}},490:function(t,e,i){var n=i(5005);t.exports=n("document","documentElement")},4664:function(t,e,i){var n=i(9781),r=i(7293),s=i(317);t.exports=!n&&!r((function(){return 7!=Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}))},8361:function(t,e,i){var n=i(7854),r=i(1702),s=i(7293),a=i(4326),o=n.Object,l=r("".split);t.exports=s((function(){return!o("z").propertyIsEnumerable(0)}))?function(t){return"String"==a(t)?l(t,""):o(t)}:o},9587:function(t,e,i){var n=i(614),r=i(111),s=i(7674);t.exports=function(t,e,i){var a,o;return s&&n(a=e.constructor)&&a!==i&&r(o=a.prototype)&&o!==i.prototype&&s(t,o),t}},2788:function(t,e,i){var n=i(1702),r=i(614),s=i(5465),a=n(Function.toString);r(s.inspectSource)||(s.inspectSource=function(t){return a(t)}),t.exports=s.inspectSource},8340:function(t,e,i){var n=i(111),r=i(8880);t.exports=function(t,e){n(e)&&"cause"in e&&r(t,"cause",e.cause)}},9909:function(t,e,i){var n,r,s,a=i(8536),o=i(7854),l=i(1702),c=i(111),h=i(8880),u=i(2597),d=i(5465),f=i(6200),p=i(3501),g="Object already initialized",m=o.TypeError,v=o.WeakMap,y=function(t){return s(t)?r(t):n(t,{})},x=function(t){return function(e){var i;if(!c(e)||(i=r(e)).type!==t)throw m("Incompatible receiver, "+t+" required");return i}};if(a||d.state){var b=d.state||(d.state=new v),w=l(b.get),k=l(b.has),A=l(b.set);n=function(t,e){if(k(b,t))throw new m(g);return e.facade=t,A(b,t,e),e},r=function(t){return w(b,t)||{}},s=function(t){return k(b,t)}}else{var S=f("state");p[S]=!0,n=function(t,e){if(u(t,S))throw new m(g);return e.facade=t,h(t,S,e),e},r=function(t){return u(t,S)?t[S]:{}},s=function(t){return u(t,S)}}t.exports={set:n,get:r,has:s,enforce:y,getterFor:x}},614:function(t){t.exports=function(t){return"function"==typeof t}},4705:function(t,e,i){var n=i(7293),r=i(614),s=/#|\.prototype\./,a=function(t,e){var i=l[o(t)];return i==h||i!=c&&(r(e)?n(e):!!e)},o=a.normalize=function(t){return String(t).replace(s,".").toLowerCase()},l=a.data={},c=a.NATIVE="N",h=a.POLYFILL="P";t.exports=a},111:function(t,e,i){var n=i(614);t.exports=function(t){return"object"==typeof t?null!==t:n(t)}},1913:function(t){t.exports=!1},2190:function(t,e,i){var n=i(7854),r=i(5005),s=i(614),a=i(7976),o=i(3307),l=n.Object;t.exports=o?function(t){return"symbol"==typeof t}:function(t){var e=r("Symbol");return s(e)&&a(e.prototype,l(t))}},6244:function(t,e,i){var n=i(7466);t.exports=function(t){return n(t.length)}},133:function(t,e,i){var n=i(7392),r=i(7293);t.exports=!!Object.getOwnPropertySymbols&&!r((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},8536:function(t,e,i){var n=i(7854),r=i(614),s=i(2788),a=n.WeakMap;t.exports=r(a)&&/native code/.test(s(a))},6277:function(t,e,i){var n=i(1340);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:n(t)}},30:function(t,e,i){var n,r=i(9670),s=i(6048),a=i(748),o=i(3501),l=i(490),c=i(317),h=i(6200),u=">",d="<",f="prototype",p="script",g=h("IE_PROTO"),m=function(){},v=function(t){return d+p+u+t+d+"/"+p+u},y=function(t){t.write(v("")),t.close();var e=t.parentWindow.Object;return t=null,e},x=function(){var t,e=c("iframe"),i="java"+p+":";return e.style.display="none",l.appendChild(e),e.src=String(i),t=e.contentWindow.document,t.open(),t.write(v("document.F=Object")),t.close(),t.F},b=function(){try{n=new ActiveXObject("htmlfile")}catch(e){}b="undefined"!=typeof document?document.domain&&n?y(n):x():y(n);var t=a.length;while(t--)delete b[f][a[t]];return b()};o[g]=!0,t.exports=Object.create||function(t,e){var i;return null!==t?(m[f]=r(t),i=new m,m[f]=null,i[g]=t):i=b(),void 0===e?i:s.f(i,e)}},6048:function(t,e,i){var n=i(9781),r=i(3353),s=i(3070),a=i(9670),o=i(5656),l=i(1956);e.f=n&&!r?Object.defineProperties:function(t,e){a(t);var i,n=o(e),r=l(e),c=r.length,h=0;while(c>h)s.f(t,i=r[h++],n[i]);return t}},3070:function(t,e,i){var n=i(7854),r=i(9781),s=i(4664),a=i(3353),o=i(9670),l=i(4948),c=n.TypeError,h=Object.defineProperty,u=Object.getOwnPropertyDescriptor,d="enumerable",f="configurable",p="writable";e.f=r?a?function(t,e,i){if(o(t),e=l(e),o(i),"function"===typeof t&&"prototype"===e&&"value"in i&&p in i&&!i[p]){var n=u(t,e);n&&n[p]&&(t[e]=i.value,i={configurable:f in i?i[f]:n[f],enumerable:d in i?i[d]:n[d],writable:!1})}return h(t,e,i)}:h:function(t,e,i){if(o(t),e=l(e),o(i),s)try{return h(t,e,i)}catch(n){}if("get"in i||"set"in i)throw c("Accessors not supported");return"value"in i&&(t[e]=i.value),t}},1236:function(t,e,i){var n=i(9781),r=i(6916),s=i(5296),a=i(9114),o=i(5656),l=i(4948),c=i(2597),h=i(4664),u=Object.getOwnPropertyDescriptor;e.f=n?u:function(t,e){if(t=o(t),e=l(e),h)try{return u(t,e)}catch(i){}if(c(t,e))return a(!r(s.f,t,e),t[e])}},8006:function(t,e,i){var n=i(6324),r=i(748),s=r.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,s)}},5181:function(t,e){e.f=Object.getOwnPropertySymbols},9518:function(t,e,i){var n=i(7854),r=i(2597),s=i(614),a=i(7908),o=i(6200),l=i(8544),c=o("IE_PROTO"),h=n.Object,u=h.prototype;t.exports=l?h.getPrototypeOf:function(t){var e=a(t);if(r(e,c))return e[c];var i=e.constructor;return s(i)&&e instanceof i?i.prototype:e instanceof h?u:null}},7976:function(t,e,i){var n=i(1702);t.exports=n({}.isPrototypeOf)},6324:function(t,e,i){var n=i(1702),r=i(2597),s=i(5656),a=i(1318).indexOf,o=i(3501),l=n([].push);t.exports=function(t,e){var i,n=s(t),c=0,h=[];for(i in n)!r(o,i)&&r(n,i)&&l(h,i);while(e.length>c)r(n,i=e[c++])&&(~a(h,i)||l(h,i));return h}},1956:function(t,e,i){var n=i(6324),r=i(748);t.exports=Object.keys||function(t){return n(t,r)}},5296:function(t,e){"use strict";var i={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,r=n&&!i.call({1:2},1);e.f=r?function(t){var e=n(this,t);return!!e&&e.enumerable}:i},7674:function(t,e,i){var n=i(1702),r=i(9670),s=i(6077);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,i={};try{t=n(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),t(i,[]),e=i instanceof Array}catch(a){}return function(i,n){return r(i),s(n),e?t(i,n):i.__proto__=n,i}}():void 0)},2140:function(t,e,i){var n=i(7854),r=i(6916),s=i(614),a=i(111),o=n.TypeError;t.exports=function(t,e){var i,n;if("string"===e&&s(i=t.toString)&&!a(n=r(i,t)))return n;if(s(i=t.valueOf)&&!a(n=r(i,t)))return n;if("string"!==e&&s(i=t.toString)&&!a(n=r(i,t)))return n;throw o("Can't convert object to primitive value")}},3887:function(t,e,i){var n=i(5005),r=i(1702),s=i(8006),a=i(5181),o=i(9670),l=r([].concat);t.exports=n("Reflect","ownKeys")||function(t){var e=s.f(o(t)),i=a.f;return i?l(e,i(t)):e}},1320:function(t,e,i){var n=i(7854),r=i(614),s=i(2597),a=i(8880),o=i(3505),l=i(2788),c=i(9909),h=i(6530).CONFIGURABLE,u=c.get,d=c.enforce,f=String(String).split("String");(t.exports=function(t,e,i,l){var c,u=!!l&&!!l.unsafe,p=!!l&&!!l.enumerable,g=!!l&&!!l.noTargetGet,m=l&&void 0!==l.name?l.name:e;r(i)&&("Symbol("===String(m).slice(0,7)&&(m="["+String(m).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!s(i,"name")||h&&i.name!==m)&&a(i,"name",m),c=d(i),c.source||(c.source=f.join("string"==typeof m?m:""))),t!==n?(u?!g&&t[e]&&(p=!0):delete t[e],p?t[e]=i:a(t,e,i)):p?t[e]=i:o(e,i)})(Function.prototype,"toString",(function(){return r(this)&&u(this).source||l(this)}))},4488:function(t,e,i){var n=i(7854),r=n.TypeError;t.exports=function(t){if(void 0==t)throw r("Can't call method on "+t);return t}},3505:function(t,e,i){var n=i(7854),r=Object.defineProperty;t.exports=function(t,e){try{r(n,t,{value:e,configurable:!0,writable:!0})}catch(i){n[t]=e}return e}},6200:function(t,e,i){var n=i(2309),r=i(9711),s=n("keys");t.exports=function(t){return s[t]||(s[t]=r(t))}},5465:function(t,e,i){var n=i(7854),r=i(3505),s="__core-js_shared__",a=n[s]||r(s,{});t.exports=a},2309:function(t,e,i){var n=i(1913),r=i(5465);(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.21.1",mode:n?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"})},1400:function(t,e,i){var n=i(9303),r=Math.max,s=Math.min;t.exports=function(t,e){var i=n(t);return i<0?r(i+e,0):s(i,e)}},5656:function(t,e,i){var n=i(8361),r=i(4488);t.exports=function(t){return n(r(t))}},9303:function(t){var e=Math.ceil,i=Math.floor;t.exports=function(t){var n=+t;return n!==n||0===n?0:(n>0?i:e)(n)}},7466:function(t,e,i){var n=i(9303),r=Math.min;t.exports=function(t){return t>0?r(n(t),9007199254740991):0}},7908:function(t,e,i){var n=i(7854),r=i(4488),s=n.Object;t.exports=function(t){return s(r(t))}},4590:function(t,e,i){var n=i(7854),r=i(3002),s=n.RangeError;t.exports=function(t,e){var i=r(t);if(i%e)throw s("Wrong offset");return i}},3002:function(t,e,i){var n=i(7854),r=i(9303),s=n.RangeError;t.exports=function(t){var e=r(t);if(e<0)throw s("The argument can't be less than 0");return e}},7593:function(t,e,i){var n=i(7854),r=i(6916),s=i(111),a=i(2190),o=i(8173),l=i(2140),c=i(5112),h=n.TypeError,u=c("toPrimitive");t.exports=function(t,e){if(!s(t)||a(t))return t;var i,n=o(t,u);if(n){if(void 0===e&&(e="default"),i=r(n,t,e),!s(i)||a(i))return i;throw h("Can't convert object to primitive value")}return void 0===e&&(e="number"),l(t,e)}},4948:function(t,e,i){var n=i(7593),r=i(2190);t.exports=function(t){var e=n(t,"string");return r(e)?e:e+""}},1694:function(t,e,i){var n=i(5112),r=n("toStringTag"),s={};s[r]="z",t.exports="[object z]"===String(s)},1340:function(t,e,i){var n=i(7854),r=i(648),s=n.String;t.exports=function(t){if("Symbol"===r(t))throw TypeError("Cannot convert a Symbol value to a string");return s(t)}},6330:function(t,e,i){var n=i(7854),r=n.String;t.exports=function(t){try{return r(t)}catch(e){return"Object"}}},9711:function(t,e,i){var n=i(1702),r=0,s=Math.random(),a=n(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+a(++r+s,36)}},3307:function(t,e,i){var n=i(133);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:function(t,e,i){var n=i(9781),r=i(7293);t.exports=n&&r((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},5112:function(t,e,i){var n=i(7854),r=i(2309),s=i(2597),a=i(9711),o=i(133),l=i(3307),c=r("wks"),h=n.Symbol,u=h&&h["for"],d=l?h:h&&h.withoutSetter||a;t.exports=function(t){if(!s(c,t)||!o&&"string"!=typeof c[t]){var e="Symbol."+t;o&&s(h,t)?c[t]=h[t]:c[t]=l&&u?u(e):d(e)}return c[t]}},9191:function(t,e,i){"use strict";var n=i(5005),r=i(2597),s=i(8880),a=i(7976),o=i(7674),l=i(9920),c=i(9587),h=i(6277),u=i(8340),d=i(7741),f=i(2914),p=i(1913);t.exports=function(t,e,i,g){var m=g?2:1,v=t.split("."),y=v[v.length-1],x=n.apply(null,v);if(x){var b=x.prototype;if(!p&&r(b,"cause")&&delete b.cause,!i)return x;var w=n("Error"),k=e((function(t,e){var i=h(g?e:t,void 0),n=g?new x(t):new x;return void 0!==i&&s(n,"message",i),f&&s(n,"stack",d(n.stack,2)),this&&a(b,this)&&c(n,this,k),arguments.length>m&&u(n,arguments[m]),n}));if(k.prototype=b,"Error"!==y&&(o?o(k,w):l(k,w,{name:!0})),l(k,x),!p)try{b.name!==y&&s(b,"name",y),b.constructor=k}catch(A){}return k}}},2262:function(t,e,i){"use strict";var n=i(2109),r=i(7908),s=i(6244),a=i(9303),o=i(1223);n({target:"Array",proto:!0},{at:function(t){var e=r(this),i=s(e),n=a(t),o=n>=0?n:i+n;return o<0||o>=i?void 0:e[o]}}),o("at")},1703:function(t,e,i){var n=i(2109),r=i(7854),s=i(2104),a=i(9191),o="WebAssembly",l=r[o],c=7!==Error("e",{cause:7}).cause,h=function(t,e){var i={};i[t]=a(t,e,c),n({global:!0,forced:c},i)},u=function(t,e){if(l&&l[t]){var i={};i[t]=a(o+"."+t,e,c),n({target:o,stat:!0,forced:c},i)}};h("Error",(function(t){return function(e){return s(t,this,arguments)}})),h("EvalError",(function(t){return function(e){return s(t,this,arguments)}})),h("RangeError",(function(t){return function(e){return s(t,this,arguments)}})),h("ReferenceError",(function(t){return function(e){return s(t,this,arguments)}})),h("SyntaxError",(function(t){return function(e){return s(t,this,arguments)}})),h("TypeError",(function(t){return function(e){return s(t,this,arguments)}})),h("URIError",(function(t){return function(e){return s(t,this,arguments)}})),u("CompileError",(function(t){return function(e){return s(t,this,arguments)}})),u("LinkError",(function(t){return function(e){return s(t,this,arguments)}})),u("RuntimeError",(function(t){return function(e){return s(t,this,arguments)}}))},4506:function(t,e,i){"use strict";var n=i(2109),r=i(1702),s=i(4488),a=i(9303),o=i(1340),l=i(7293),c=r("".charAt),h=l((function(){return"\ud842"!=="𠮷".at(-2)}));n({target:"String",proto:!0,forced:h},{at:function(t){var e=o(s(this)),i=e.length,n=a(t),r=n>=0?n:i+n;return r<0||r>=i?void 0:c(e,r)}})},8675:function(t,e,i){"use strict";var n=i(260),r=i(6244),s=i(9303),a=n.aTypedArray,o=n.exportTypedArrayMethod;o("at",(function(t){var e=a(this),i=r(e),n=s(t),o=n>=0?n:i+n;return o<0||o>=i?void 0:e[o]}))},3462:function(t,e,i){"use strict";var n=i(7854),r=i(6916),s=i(260),a=i(6244),o=i(4590),l=i(7908),c=i(7293),h=n.RangeError,u=n.Int8Array,d=u&&u.prototype,f=d&&d.set,p=s.aTypedArray,g=s.exportTypedArrayMethod,m=!c((function(){var t=new Uint8ClampedArray(2);return r(f,t,{length:1,0:3},1),3!==t[1]})),v=m&&s.NATIVE_ARRAY_BUFFER_VIEWS&&c((function(){var t=new u(2);return t.set(1),t.set("2",1),0!==t[0]||2!==t[1]}));g("set",(function(t){p(this);var e=o(arguments.length>1?arguments[1]:void 0,1),i=l(t);if(m)return r(f,this,i,e);var n=this.length,s=a(i),c=0;if(s+e>n)throw h("Wrong length");while(c<s)this[e+c]=i[c++]}),!m||v)},2801:function(t,e,i){"use strict";var n=i(2109),r=i(5005),s=i(9114),a=i(3070).f,o=i(2597),l=i(5787),c=i(9587),h=i(6277),u=i(3678),d=i(7741),f=i(1913),p="DOMException",g=r("Error"),m=r(p),v=function(){l(this,y);var t=arguments.length,e=h(t<1?void 0:arguments[0]),i=h(t<2?void 0:arguments[1],"Error"),n=new m(e,i),r=g(e);return r.name=p,a(n,"stack",s(1,d(r.stack,1))),c(n,this,v),n},y=v.prototype=m.prototype,x="stack"in g(p),b="stack"in new m(1,2),w=x&&!b;n({global:!0,forced:f||w},{DOMException:w?v:m});var k=r(p),A=k.prototype;if(A.constructor!==k)for(var S in f||a(A,"constructor",s(1,k)),u)if(o(u,S)){var C=u[S],E=C.s;o(k,E)||a(k,E,s(6,C.c))}},223:function(t,e,i){"use strict";i.d(e,{BH:function(){return o},LL:function(){return v},ZR:function(){return m},tV:function(){return a},ne:function(){return E},vZ:function(){return w},pd:function(){return C},m9:function(){return P},z$:function(){return l},ru:function(){return h},d:function(){return d},xb:function(){return b},w1:function(){return f},uI:function(){return c},b$:function(){return u},Mn:function(){return p},xO:function(){return A},zd:function(){return S}});i(1703),i(2801);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const n=function(t){const e=[];let i=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e[i++]=r:r<2048?(e[i++]=r>>6|192,e[i++]=63&r|128):55296===(64512&r)&&n+1<t.length&&56320===(64512&t.charCodeAt(n+1))?(r=65536+((1023&r)<<10)+(1023&t.charCodeAt(++n)),e[i++]=r>>18|240,e[i++]=r>>12&63|128,e[i++]=r>>6&63|128,e[i++]=63&r|128):(e[i++]=r>>12|224,e[i++]=r>>6&63|128,e[i++]=63&r|128)}return e},r=function(t){const e=[];let i=0,n=0;while(i<t.length){const r=t[i++];if(r<128)e[n++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[i++];e[n++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const s=t[i++],a=t[i++],o=t[i++],l=((7&r)<<18|(63&s)<<12|(63&a)<<6|63&o)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(1023&l))}else{const s=t[i++],a=t[i++];e[n++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&a)}}return e.join("")},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let r=0;r<t.length;r+=3){const e=t[r],s=r+1<t.length,a=s?t[r+1]:0,o=r+2<t.length,l=o?t[r+2]:0,c=e>>2,h=(3&e)<<4|a>>4;let u=(15&a)<<2|l>>6,d=63&l;o||(d=64,s||(u=64)),n.push(i[c],i[h],i[u],i[d])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(n(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):r(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let r=0;r<t.length;){const e=i[t.charAt(r++)],s=r<t.length,a=s?i[t.charAt(r)]:0;++r;const o=r<t.length,l=o?i[t.charAt(r)]:64;++r;const c=r<t.length,h=c?i[t.charAt(r)]:64;if(++r,null==e||null==a||null==l||null==h)throw Error();const u=e<<2|a>>4;if(n.push(u),64!==l){const t=a<<4&240|l>>2;if(n.push(t),64!==h){const t=l<<6&192|h;n.push(t)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},a=function(t){try{return s.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class o{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),"function"===typeof t&&(this.promise.catch((()=>{})),1===t.length?t(e):t(e,i))}}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function l(){return"undefined"!==typeof navigator&&"string"===typeof navigator["userAgent"]?navigator["userAgent"]:""}function c(){return"undefined"!==typeof window&&!!(window["cordova"]||window["phonegap"]||window["PhoneGap"])&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(l())}function h(){const t="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof t&&void 0!==t.id}function u(){return"object"===typeof navigator&&"ReactNative"===navigator["product"]}function d(){return l().indexOf("Electron/")>=0}function f(){const t=l();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function p(){return l().indexOf("MSAppHost/")>=0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const g="FirebaseError";class m extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=g,Object.setPrototypeOf(this,m.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,v.prototype.create)}}class v{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},n=`${this.service}/${t}`,r=this.errors[t],s=r?y(r,i):"Error",a=`${this.serviceName}: ${s} (${n}).`,o=new m(n,a,i);return o}}function y(t,e){return t.replace(x,((t,i)=>{const n=e[i];return null!=n?String(n):`<${i}?>`}))}const x=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function w(t,e){if(t===e)return!0;const i=Object.keys(t),n=Object.keys(e);for(const r of i){if(!n.includes(r))return!1;const i=t[r],s=e[r];if(k(i)&&k(s)){if(!w(i,s))return!1}else if(i!==s)return!1}for(const r of n)if(!i.includes(r))return!1;return!0}function k(t){return null!==t&&"object"===typeof t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A(t){const e=[];for(const[i,n]of Object.entries(t))Array.isArray(n)?n.forEach((t=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(t))})):e.push(encodeURIComponent(i)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function S(t){const e={},i=t.replace(/^\?/,"").split("&");return i.forEach((t=>{if(t){const[i,n]=t.split("=");e[decodeURIComponent(i)]=decodeURIComponent(n)}})),e}function C(t){const e=t.indexOf("?");if(!e)return"";const i=t.indexOf("#",e);return t.substring(e,i>0?i:void 0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E(t,e){const i=new I(t,e);return i.subscribe.bind(i)}class I{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((()=>{t(this)})).catch((t=>{this.error(t)}))}next(t){this.forEachObserver((e=>{e.next(t)}))}error(t){this.forEachObserver((e=>{e.error(t)})),this.close(t)}complete(){this.forEachObserver((t=>{t.complete()})),this.close()}subscribe(t,e,i){let n;if(void 0===t&&void 0===e&&void 0===i)throw new Error("Missing Observer.");n=T(t,["next","error","complete"])?t:{next:t,error:e,complete:i},void 0===n.next&&(n.next=_),void 0===n.error&&(n.error=_),void 0===n.complete&&(n.complete=_);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?n.error(this.finalError):n.complete()}catch(t){}})),this.observers.push(n),r}unsubscribeOne(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(i){"undefined"!==typeof console&&console.error&&console.error(i)}}))}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function T(t,e){if("object"!==typeof t||null===t)return!1;for(const i of e)if(i in t&&"function"===typeof t[i])return!0;return!1}function _(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function P(t){return t&&t._delegate?t._delegate:t}},4870:function(t,e,i){"use strict";i.d(e,{Bj:function(){return s},qq:function(){return k},Fl:function(){return ne},ZM:function(){return Zt},cE:function(){return S},B:function(){return a},nZ:function(){return l},X3:function(){return Mt},PG:function(){return Rt},$y:function(){return Ot},dq:function(){return Bt},yT:function(){return Nt},Xl:function(){return Ft},EB:function(){return c},Jd:function(){return T},WL:function(){return Kt},qj:function(){return It},OT:function(){return _t},iH:function(){return Yt},lk:function(){return _},Um:function(){return Tt},YS:function(){return Pt},XI:function(){return Ut},sT:function(){return C},IU:function(){return Dt},Vh:function(){return ee},BK:function(){return Qt},j:function(){return P},X$:function(){return R},oR:function(){return Gt},SU:function(){return qt}});var n=i(7139);let r;class s{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&r&&(this.parent=r,this.index=(r.scopes||(r.scopes=[])).push(this)-1)}run(t){if(this.active)try{return r=this,t()}finally{r=this.parent}else 0}on(){r=this}off(){r=this.parent}stop(t){if(this.active){let e,i;for(e=0,i=this.effects.length;e<i;e++)this.effects[e].stop();for(e=0,i=this.cleanups.length;e<i;e++)this.cleanups[e]();if(this.scopes)for(e=0,i=this.scopes.length;e<i;e++)this.scopes[e].stop(!0);if(this.parent&&!t){const t=this.parent.scopes.pop();t&&t!==this&&(this.parent.scopes[this.index]=t,t.index=this.index)}this.active=!1}}}function a(t){return new s(t)}function o(t,e=r){e&&e.active&&e.effects.push(t)}function l(){return r}function c(t){r&&r.cleanups.push(t)}const h=t=>{const e=new Set(t);return e.w=0,e.n=0,e},u=t=>(t.w&v)>0,d=t=>(t.n&v)>0,f=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=v},p=t=>{const{deps:e}=t;if(e.length){let i=0;for(let n=0;n<e.length;n++){const r=e[n];u(r)&&!d(r)?r.delete(t):e[i++]=r,r.w&=~v,r.n&=~v}e.length=i}},g=new WeakMap;let m=0,v=1;const y=30;let x;const b=Symbol(""),w=Symbol("");class k{constructor(t,e=null,i){this.fn=t,this.scheduler=e,this.active=!0,this.deps=[],this.parent=void 0,o(this,i)}run(){if(!this.active)return this.fn();let t=x,e=E;while(t){if(t===this)return;t=t.parent}try{return this.parent=x,x=this,E=!0,v=1<<++m,m<=y?f(this):A(this),this.fn()}finally{m<=y&&p(this),v=1<<--m,x=this.parent,E=e,this.parent=void 0}}stop(){this.active&&(A(this),this.onStop&&this.onStop(),this.active=!1)}}function A(t){const{deps:e}=t;if(e.length){for(let i=0;i<e.length;i++)e[i].delete(t);e.length=0}}function S(t,e){t.effect&&(t=t.effect.fn);const i=new k(t);e&&((0,n.l7)(i,e),e.scope&&o(i,e.scope)),e&&e.lazy||i.run();const r=i.run.bind(i);return r.effect=i,r}function C(t){t.effect.stop()}let E=!0;const I=[];function T(){I.push(E),E=!1}function _(){const t=I.pop();E=void 0===t||t}function P(t,e,i){if(E&&x){let e=g.get(t);e||g.set(t,e=new Map);let n=e.get(i);n||e.set(i,n=h());const r=void 0;L(n,r)}}function L(t,e){let i=!1;m<=y?d(t)||(t.n|=v,i=!u(t)):i=!t.has(x),i&&(t.add(x),x.deps.push(t))}function R(t,e,i,r,s,a){const o=g.get(t);if(!o)return;let l=[];if("clear"===e)l=[...o.values()];else if("length"===i&&(0,n.kJ)(t))o.forEach(((t,e)=>{("length"===e||e>=r)&&l.push(t)}));else switch(void 0!==i&&l.push(o.get(i)),e){case"add":(0,n.kJ)(t)?(0,n.S0)(i)&&l.push(o.get("length")):(l.push(o.get(b)),(0,n._N)(t)&&l.push(o.get(w)));break;case"delete":(0,n.kJ)(t)||(l.push(o.get(b)),(0,n._N)(t)&&l.push(o.get(w)));break;case"set":(0,n._N)(t)&&l.push(o.get(b));break}if(1===l.length)l[0]&&O(l[0]);else{const t=[];for(const e of l)e&&t.push(...e);O(h(t))}}function O(t,e){for(const i of(0,n.kJ)(t)?t:[...t])(i!==x||i.allowRecurse)&&(i.scheduler?i.scheduler():i.run())}const N=(0,n.fY)("__proto__,__v_isRef,__isVue"),M=new Set(Object.getOwnPropertyNames(Symbol).map((t=>Symbol[t])).filter(n.yk)),D=B(),F=B(!1,!0),z=B(!0),V=B(!0,!0),H=X();function X(){const t={};return["includes","indexOf","lastIndexOf"].forEach((e=>{t[e]=function(...t){const i=Dt(this);for(let e=0,r=this.length;e<r;e++)P(i,"get",e+"");const n=i[e](...t);return-1===n||!1===n?i[e](...t.map(Dt)):n}})),["push","pop","shift","unshift","splice"].forEach((e=>{t[e]=function(...t){T();const i=Dt(this)[e].apply(this,t);return _(),i}})),t}function B(t=!1,e=!1){return function(i,r,s){if("__v_isReactive"===r)return!t;if("__v_isReadonly"===r)return t;if("__v_isShallow"===r)return e;if("__v_raw"===r&&s===(t?e?St:At:e?kt:wt).get(i))return i;const a=(0,n.kJ)(i);if(!t&&a&&(0,n.RI)(H,r))return Reflect.get(H,r,s);const o=Reflect.get(i,r,s);if((0,n.yk)(r)?M.has(r):N(r))return o;if(t||P(i,"get",r),e)return o;if(Bt(o)){const t=!a||!(0,n.S0)(r);return t?o.value:o}return(0,n.Kn)(o)?t?_t(o):It(o):o}}const Y=W(),U=W(!0);function W(t=!1){return function(e,i,r,s){let a=e[i];if(Ot(a)&&Bt(a)&&!Bt(r))return!1;if(!t&&!Ot(r)&&(Nt(r)||(r=Dt(r),a=Dt(a)),!(0,n.kJ)(e)&&Bt(a)&&!Bt(r)))return a.value=r,!0;const o=(0,n.kJ)(e)&&(0,n.S0)(i)?Number(i)<e.length:(0,n.RI)(e,i),l=Reflect.set(e,i,r,s);return e===Dt(s)&&(o?(0,n.aU)(r,a)&&R(e,"set",i,r,a):R(e,"add",i,r)),l}}function j(t,e){const i=(0,n.RI)(t,e),r=t[e],s=Reflect.deleteProperty(t,e);return s&&i&&R(t,"delete",e,void 0,r),s}function G(t,e){const i=Reflect.has(t,e);return(0,n.yk)(e)&&M.has(e)||P(t,"has",e),i}function q(t){return P(t,"iterate",(0,n.kJ)(t)?"length":b),Reflect.ownKeys(t)}const $={get:D,set:Y,deleteProperty:j,has:G,ownKeys:q},K={get:z,set(t,e){return!0},deleteProperty(t,e){return!0}},J=(0,n.l7)({},$,{get:F,set:U}),Z=(0,n.l7)({},K,{get:V}),Q=t=>t,tt=t=>Reflect.getPrototypeOf(t);function et(t,e,i=!1,n=!1){t=t["__v_raw"];const r=Dt(t),s=Dt(e);e!==s&&!i&&P(r,"get",e),!i&&P(r,"get",s);const{has:a}=tt(r),o=n?Q:i?Vt:zt;return a.call(r,e)?o(t.get(e)):a.call(r,s)?o(t.get(s)):void(t!==r&&t.get(e))}function it(t,e=!1){const i=this["__v_raw"],n=Dt(i),r=Dt(t);return t!==r&&!e&&P(n,"has",t),!e&&P(n,"has",r),t===r?i.has(t):i.has(t)||i.has(r)}function nt(t,e=!1){return t=t["__v_raw"],!e&&P(Dt(t),"iterate",b),Reflect.get(t,"size",t)}function rt(t){t=Dt(t);const e=Dt(this),i=tt(e),n=i.has.call(e,t);return n||(e.add(t),R(e,"add",t,t)),this}function st(t,e){e=Dt(e);const i=Dt(this),{has:r,get:s}=tt(i);let a=r.call(i,t);a||(t=Dt(t),a=r.call(i,t));const o=s.call(i,t);return i.set(t,e),a?(0,n.aU)(e,o)&&R(i,"set",t,e,o):R(i,"add",t,e),this}function at(t){const e=Dt(this),{has:i,get:n}=tt(e);let r=i.call(e,t);r||(t=Dt(t),r=i.call(e,t));const s=n?n.call(e,t):void 0,a=e.delete(t);return r&&R(e,"delete",t,void 0,s),a}function ot(){const t=Dt(this),e=0!==t.size,i=void 0,n=t.clear();return e&&R(t,"clear",void 0,void 0,i),n}function lt(t,e){return function(i,n){const r=this,s=r["__v_raw"],a=Dt(s),o=e?Q:t?Vt:zt;return!t&&P(a,"iterate",b),s.forEach(((t,e)=>i.call(n,o(t),o(e),r)))}}function ct(t,e,i){return function(...r){const s=this["__v_raw"],a=Dt(s),o=(0,n._N)(a),l="entries"===t||t===Symbol.iterator&&o,c="keys"===t&&o,h=s[t](...r),u=i?Q:e?Vt:zt;return!e&&P(a,"iterate",c?w:b),{next(){const{value:t,done:e}=h.next();return e?{value:t,done:e}:{value:l?[u(t[0]),u(t[1])]:u(t),done:e}},[Symbol.iterator](){return this}}}}function ht(t){return function(...e){return"delete"!==t&&this}}function ut(){const t={get(t){return et(this,t)},get size(){return nt(this)},has:it,add:rt,set:st,delete:at,clear:ot,forEach:lt(!1,!1)},e={get(t){return et(this,t,!1,!0)},get size(){return nt(this)},has:it,add:rt,set:st,delete:at,clear:ot,forEach:lt(!1,!0)},i={get(t){return et(this,t,!0)},get size(){return nt(this,!0)},has(t){return it.call(this,t,!0)},add:ht("add"),set:ht("set"),delete:ht("delete"),clear:ht("clear"),forEach:lt(!0,!1)},n={get(t){return et(this,t,!0,!0)},get size(){return nt(this,!0)},has(t){return it.call(this,t,!0)},add:ht("add"),set:ht("set"),delete:ht("delete"),clear:ht("clear"),forEach:lt(!0,!0)},r=["keys","values","entries",Symbol.iterator];return r.forEach((r=>{t[r]=ct(r,!1,!1),i[r]=ct(r,!0,!1),e[r]=ct(r,!1,!0),n[r]=ct(r,!0,!0)})),[t,i,e,n]}const[dt,ft,pt,gt]=ut();function mt(t,e){const i=e?t?gt:pt:t?ft:dt;return(e,r,s)=>"__v_isReactive"===r?!t:"__v_isReadonly"===r?t:"__v_raw"===r?e:Reflect.get((0,n.RI)(i,r)&&r in e?i:e,r,s)}const vt={get:mt(!1,!1)},yt={get:mt(!1,!0)},xt={get:mt(!0,!1)},bt={get:mt(!0,!0)};const wt=new WeakMap,kt=new WeakMap,At=new WeakMap,St=new WeakMap;function Ct(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Et(t){return t["__v_skip"]||!Object.isExtensible(t)?0:Ct((0,n.W7)(t))}function It(t){return Ot(t)?t:Lt(t,!1,$,vt,wt)}function Tt(t){return Lt(t,!1,J,yt,kt)}function _t(t){return Lt(t,!0,K,xt,At)}function Pt(t){return Lt(t,!0,Z,bt,St)}function Lt(t,e,i,r,s){if(!(0,n.Kn)(t))return t;if(t["__v_raw"]&&(!e||!t["__v_isReactive"]))return t;const a=s.get(t);if(a)return a;const o=Et(t);if(0===o)return t;const l=new Proxy(t,2===o?r:i);return s.set(t,l),l}function Rt(t){return Ot(t)?Rt(t["__v_raw"]):!(!t||!t["__v_isReactive"])}function Ot(t){return!(!t||!t["__v_isReadonly"])}function Nt(t){return!(!t||!t["__v_isShallow"])}function Mt(t){return Rt(t)||Ot(t)}function Dt(t){const e=t&&t["__v_raw"];return e?Dt(e):t}function Ft(t){return(0,n.Nj)(t,"__v_skip",!0),t}const zt=t=>(0,n.Kn)(t)?It(t):t,Vt=t=>(0,n.Kn)(t)?_t(t):t;function Ht(t){E&&x&&(t=Dt(t),L(t.dep||(t.dep=h())))}function Xt(t,e){t=Dt(t),t.dep&&O(t.dep)}function Bt(t){return!(!t||!0!==t.__v_isRef)}function Yt(t){return Wt(t,!1)}function Ut(t){return Wt(t,!0)}function Wt(t,e){return Bt(t)?t:new jt(t,e)}class jt{constructor(t,e){this.__v_isShallow=e,this.dep=void 0,this.__v_isRef=!0,this._rawValue=e?t:Dt(t),this._value=e?t:zt(t)}get value(){return Ht(this),this._value}set value(t){t=this.__v_isShallow?t:Dt(t),(0,n.aU)(t,this._rawValue)&&(this._rawValue=t,this._value=this.__v_isShallow?t:zt(t),Xt(this,t))}}function Gt(t){Xt(t,void 0)}function qt(t){return Bt(t)?t.value:t}const $t={get:(t,e,i)=>qt(Reflect.get(t,e,i)),set:(t,e,i,n)=>{const r=t[e];return Bt(r)&&!Bt(i)?(r.value=i,!0):Reflect.set(t,e,i,n)}};function Kt(t){return Rt(t)?t:new Proxy(t,$t)}class Jt{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:e,set:i}=t((()=>Ht(this)),(()=>Xt(this)));this._get=e,this._set=i}get value(){return this._get()}set value(t){this._set(t)}}function Zt(t){return new Jt(t)}function Qt(t){const e=(0,n.kJ)(t)?new Array(t.length):{};for(const i in t)e[i]=ee(t,i);return e}class te{constructor(t,e,i){this._object=t,this._key=e,this._defaultValue=i,this.__v_isRef=!0}get value(){const t=this._object[this._key];return void 0===t?this._defaultValue:t}set value(t){this._object[this._key]=t}}function ee(t,e,i){const n=t[e];return Bt(n)?n:new te(t,e,i)}class ie{constructor(t,e,i,n){this._setter=e,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new k(t,(()=>{this._dirty||(this._dirty=!0,Xt(this))})),this.effect.computed=this,this.effect.active=this._cacheable=!n,this["__v_isReadonly"]=i}get value(){const t=Dt(this);return Ht(t),!t._dirty&&t._cacheable||(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function ne(t,e,i=!1){let r,s;const a=(0,n.mf)(t);a?(r=t,s=n.dG):(r=t.get,s=t.set);const o=new ie(r,s,a||!s,i);return o}Promise.resolve()},3396:function(t,e,i){"use strict";i.d(e,{Bj:function(){return n.Bj},qq:function(){return n.qq},ZM:function(){return n.ZM},cE:function(){return n.cE},B:function(){return n.B},nZ:function(){return n.nZ},X3:function(){return n.X3},PG:function(){return n.PG},$y:function(){return n.$y},dq:function(){return n.dq},yT:function(){return n.yT},Xl:function(){return n.Xl},EB:function(){return n.EB},WL:function(){return n.WL},qj:function(){return n.qj},OT:function(){return n.OT},iH:function(){return n.iH},Um:function(){return n.Um},YS:function(){return n.YS},XI:function(){return n.XI},sT:function(){return n.sT},IU:function(){return n.IU},Vh:function(){return n.Vh},BK:function(){return n.BK},oR:function(){return n.oR},SU:function(){return n.SU},_A:function(){return r._A},kC:function(){return r.kC},C_:function(){return r.C_},vs:function(){return r.vs},j5:function(){return r.j5},zw:function(){return r.zw},hR:function(){return r.hR},P$:function(){return Nt},sv:function(){return Ci},HY:function(){return Ai},Ob:function(){return Gt},qG:function(){return Ei},n4:function(){return ht},lR:function(){return pi},xv:function(){return Si},$d:function(){return f},KU:function(){return d},Ho:function(){return Gi},ry:function(){return rr},Fl:function(){return Fn},j4:function(){return Di},kq:function(){return Ki},iD:function(){return Mi},_:function(){return Yi},Eo:function(){return ii},p1:function(){return jn},Us:function(){return ei},Nv:function(){return rn},uE:function(){return $i},Uk:function(){return qi},Wm:function(){return Ui},RC:function(){return Yt},aZ:function(){return Xt},Bz:function(){return Vn},WY:function(){return Hn},MW:function(){return zn},mW:function(){return X},FN:function(){return mn},Q6:function(){return Ht},F4:function(){return ji},h:function(){return qn},S3:function(){return p},Mr:function(){return Jn},f3:function(){return wt},nQ:function(){return Qn},of:function(){return In},lA:function(){return Fi},u_:function(){return Wn},dG:function(){return tn},Y3:function(){return _},dl:function(){return $t},wF:function(){return ne},Jd:function(){return oe},Xn:function(){return se},se:function(){return Kt},d1:function(){return de},bv:function(){return re},bT:function(){return ue},Yq:function(){return he},vl:function(){return ce},Ah:function(){return le},ic:function(){return ae},wg:function(){return _i},Cn:function(){return Z},JJ:function(){return bt},dD:function(){return J},qb:function(){return D},Y1:function(){return En},Ko:function(){return nn},WI:function(){return sn},up:function(){return vi},Q2:function(){return bi},LL:function(){return xi},eq:function(){return nr},U2:function(){return Dt},qZ:function(){return Oi},ec:function(){return U},nK:function(){return Vt},Uc:function(){return $n},G:function(){return ir},mx:function(){return on},C3:function(){return Vi},l1:function(){return Yn},Zq:function(){return Kn},Rr:function(){return Bn},Y8:function(){return Lt},i8:function(){return tr},ZK:function(){return a},YP:function(){return Et},m0:function(){return kt},Rh:function(){return At},yX:function(){return St},mv:function(){return Gn},w5:function(){return tt},b9:function(){return Xn},wy:function(){return Ye},MX:function(){return Zn},HX:function(){return Q}});i(1703);var n=i(4870),r=i(7139);const s=[];function a(t,...e){(0,n.Jd)();const i=s.length?s[s.length-1].component:null,r=i&&i.appContext.config.warnHandler,a=o();if(r)d(r,i,11,[t+e.join(""),i&&i.proxy,a.map((({vnode:t})=>`at <${Mn(i,t.type)}>`)).join("\n"),a]);else{const i=[`[Vue warn]: ${t}`,...e];a.length&&i.push("\n",...l(a)),console.warn(...i)}(0,n.lk)()}function o(){let t=s[s.length-1];if(!t)return[];const e=[];while(t){const i=e[0];i&&i.vnode===t?i.recurseCount++:e.push({vnode:t,recurseCount:0});const n=t.component&&t.component.parent;t=n&&n.vnode}return e}function l(t){const e=[];return t.forEach(((t,i)=>{e.push(...0===i?[]:["\n"],...c(t))})),e}function c({vnode:t,recurseCount:e}){const i=e>0?`... (${e} recursive calls)`:"",n=!!t.component&&null==t.component.parent,r=` at <${Mn(t.component,t.type,n)}`,s=">"+i;return t.props?[r,...h(t.props),s]:[r+s]}function h(t){const e=[],i=Object.keys(t);return i.slice(0,3).forEach((i=>{e.push(...u(i,t[i]))})),i.length>3&&e.push(" ..."),e}function u(t,e,i){return(0,r.HD)(e)?(e=JSON.stringify(e),i?e:[`${t}=${e}`]):"number"===typeof e||"boolean"===typeof e||null==e?i?e:[`${t}=${e}`]:(0,n.dq)(e)?(e=u(t,(0,n.IU)(e.value),!0),i?e:[`${t}=Ref<`,e,">"]):(0,r.mf)(e)?[`${t}=fn${e.name?`<${e.name}>`:""}`]:(e=(0,n.IU)(e),i?e:[`${t}=`,e])}function d(t,e,i,n){let r;try{r=n?t(...n):t()}catch(s){p(s,e,i)}return r}function f(t,e,i,n){if((0,r.mf)(t)){const s=d(t,e,i,n);return s&&(0,r.tI)(s)&&s.catch((t=>{p(t,e,i)})),s}const s=[];for(let r=0;r<t.length;r++)s.push(f(t[r],e,i,n));return s}function p(t,e,i,n=!0){const r=e?e.vnode:null;if(e){let n=e.parent;const r=e.proxy,s=i;while(n){const e=n.ec;if(e)for(let i=0;i<e.length;i++)if(!1===e[i](t,r,s))return;n=n.parent}const a=e.appContext.config.errorHandler;if(a)return void d(a,null,10,[t,r,s])}g(t,i,r,n)}function g(t,e,i,n=!0){console.error(t)}let m=!1,v=!1;const y=[];let x=0;const b=[];let w=null,k=0;const A=[];let S=null,C=0;const E=Promise.resolve();let I=null,T=null;function _(t){const e=I||E;return t?e.then(this?t.bind(this):t):e}function P(t){let e=x+1,i=y.length;while(e<i){const n=e+i>>>1,r=V(y[n]);r<t?e=n+1:i=n}return e}function L(t){y.length&&y.includes(t,m&&t.allowRecurse?x+1:x)||t===T||(null==t.id?y.push(t):y.splice(P(t.id),0,t),R())}function R(){m||v||(v=!0,I=E.then(H))}function O(t){const e=y.indexOf(t);e>x&&y.splice(e,1)}function N(t,e,i,n){(0,r.kJ)(t)?i.push(...t):e&&e.includes(t,t.allowRecurse?n+1:n)||i.push(t),R()}function M(t){N(t,w,b,k)}function D(t){N(t,S,A,C)}function F(t,e=null){if(b.length){for(T=e,w=[...new Set(b)],b.length=0,k=0;k<w.length;k++)w[k]();w=null,k=0,T=null,F(t,e)}}function z(t){if(A.length){const t=[...new Set(A)];if(A.length=0,S)return void S.push(...t);for(S=t,S.sort(((t,e)=>V(t)-V(e))),C=0;C<S.length;C++)S[C]();S=null,C=0}}const V=t=>null==t.id?1/0:t.id;function H(t){v=!1,m=!0,F(t),y.sort(((t,e)=>V(t)-V(e)));r.dG;try{for(x=0;x<y.length;x++){const t=y[x];t&&!1!==t.active&&d(t,null,14)}}finally{x=0,y.length=0,z(t),m=!1,I=null,(y.length||b.length||A.length)&&H(t)}}new Set;new Map;let X,B=[],Y=!1;function U(t,e){var i,n;if(X=t,X)X.enabled=!0,B.forEach((({event:t,args:e})=>X.emit(t,...e))),B=[];else if("undefined"!==typeof window&&window.HTMLElement&&!(null===(n=null===(i=window.navigator)||void 0===i?void 0:i.userAgent)||void 0===n?void 0:n.includes("jsdom"))){const t=e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[];t.push((t=>{U(t,e)})),setTimeout((()=>{X||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Y=!0,B=[])}),3e3)}else Y=!0,B=[]}function W(t,e,...i){const n=t.vnode.props||r.kT;let s=i;const a=e.startsWith("update:"),o=a&&e.slice(7);if(o&&o in n){const t=`${"modelValue"===o?"model":o}Modifiers`,{number:e,trim:a}=n[t]||r.kT;a?s=i.map((t=>t.trim())):e&&(s=i.map(r.He))}let l;let c=n[l=(0,r.hR)(e)]||n[l=(0,r.hR)((0,r._A)(e))];!c&&a&&(c=n[l=(0,r.hR)((0,r.rs)(e))]),c&&f(c,t,6,s);const h=n[l+"Once"];if(h){if(t.emitted){if(t.emitted[l])return}else t.emitted={};t.emitted[l]=!0,f(h,t,6,s)}}function j(t,e,i=!1){const n=e.emitsCache,s=n.get(t);if(void 0!==s)return s;const a=t.emits;let o={},l=!1;if(!(0,r.mf)(t)){const n=t=>{const i=j(t,e,!0);i&&(l=!0,(0,r.l7)(o,i))};!i&&e.mixins.length&&e.mixins.forEach(n),t.extends&&n(t.extends),t.mixins&&t.mixins.forEach(n)}return a||l?((0,r.kJ)(a)?a.forEach((t=>o[t]=null)):(0,r.l7)(o,a),n.set(t,o),o):(n.set(t,null),null)}function G(t,e){return!(!t||!(0,r.F7)(e))&&(e=e.slice(2).replace(/Once$/,""),(0,r.RI)(t,e[0].toLowerCase()+e.slice(1))||(0,r.RI)(t,(0,r.rs)(e))||(0,r.RI)(t,e))}let q=null,$=null;function K(t){const e=q;return q=t,$=t&&t.type.__scopeId||null,e}function J(t){$=t}function Z(){$=null}const Q=t=>tt;function tt(t,e=q,i){if(!e)return t;if(t._n)return t;const n=(...i)=>{n._d&&Oi(-1);const r=K(e),s=t(...i);return K(r),n._d&&Oi(1),s};return n._n=!0,n._c=!0,n._d=!0,n}function et(t){const{type:e,vnode:i,proxy:n,withProxy:s,props:a,propsOptions:[o],slots:l,attrs:c,emit:h,render:u,renderCache:d,data:f,setupState:g,ctx:m,inheritAttrs:v}=t;let y,x;const b=K(t);try{if(4&i.shapeFlag){const t=s||n;y=Ji(u.call(t,t,d,a,g,f,m)),x=c}else{const t=e;0,y=Ji(t.length>1?t(a,{attrs:c,slots:l,emit:h}):t(a,null)),x=e.props?c:nt(c)}}catch(k){Ii.length=0,p(k,t,1),y=Ui(Ci)}let w=y;if(x&&!1!==v){const t=Object.keys(x),{shapeFlag:e}=w;t.length&&7&e&&(o&&t.some(r.tR)&&(x=rt(x,o)),w=Gi(w,x))}return i.dirs&&(w.dirs=w.dirs?w.dirs.concat(i.dirs):i.dirs),i.transition&&(w.transition=i.transition),y=w,K(b),y}function it(t){let e;for(let i=0;i<t.length;i++){const n=t[i];if(!Fi(n))return;if(n.type!==Ci||"v-if"===n.children){if(e)return;e=n}}return e}const nt=t=>{let e;for(const i in t)("class"===i||"style"===i||(0,r.F7)(i))&&((e||(e={}))[i]=t[i]);return e},rt=(t,e)=>{const i={};for(const n in t)(0,r.tR)(n)&&n.slice(9)in e||(i[n]=t[n]);return i};function st(t,e,i){const{props:n,children:r,component:s}=t,{props:a,children:o,patchFlag:l}=e,c=s.emitsOptions;if(e.dirs||e.transition)return!0;if(!(i&&l>=0))return!(!r&&!o||o&&o.$stable)||n!==a&&(n?!a||at(n,a,c):!!a);if(1024&l)return!0;if(16&l)return n?at(n,a,c):!!a;if(8&l){const t=e.dynamicProps;for(let e=0;e<t.length;e++){const i=t[e];if(a[i]!==n[i]&&!G(c,i))return!0}}return!1}function at(t,e,i){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let r=0;r<n.length;r++){const s=n[r];if(e[s]!==t[s]&&!G(i,s))return!0}return!1}function ot({vnode:t,parent:e},i){while(e&&e.subTree===t)(t=e.vnode).el=i,e=e.parent}const lt=t=>t.__isSuspense,ct={name:"Suspense",__isSuspense:!0,process(t,e,i,n,r,s,a,o,l,c){null==t?dt(e,i,n,r,s,a,o,l,c):ft(t,e,i,n,r,a,o,l,c)},hydrate:gt,create:pt,normalize:mt},ht=ct;function ut(t,e){const i=t.props&&t.props[e];(0,r.mf)(i)&&i()}function dt(t,e,i,n,r,s,a,o,l){const{p:c,o:{createElement:h}}=l,u=h("div"),d=t.suspense=pt(t,r,n,e,u,i,s,a,o,l);c(null,d.pendingBranch=t.ssContent,u,null,n,d,s,a),d.deps>0?(ut(t,"onPending"),ut(t,"onFallback"),c(null,t.ssFallback,e,i,n,null,s,a),xt(d,t.ssFallback)):d.resolve()}function ft(t,e,i,n,r,s,a,o,{p:l,um:c,o:{createElement:h}}){const u=e.suspense=t.suspense;u.vnode=e,e.el=t.el;const d=e.ssContent,f=e.ssFallback,{activeBranch:p,pendingBranch:g,isInFallback:m,isHydrating:v}=u;if(g)u.pendingBranch=d,zi(d,g)?(l(g,d,u.hiddenContainer,null,r,u,s,a,o),u.deps<=0?u.resolve():m&&(l(p,f,i,n,r,null,s,a,o),xt(u,f))):(u.pendingId++,v?(u.isHydrating=!1,u.activeBranch=g):c(g,r,u),u.deps=0,u.effects.length=0,u.hiddenContainer=h("div"),m?(l(null,d,u.hiddenContainer,null,r,u,s,a,o),u.deps<=0?u.resolve():(l(p,f,i,n,r,null,s,a,o),xt(u,f))):p&&zi(d,p)?(l(p,d,i,n,r,u,s,a,o),u.resolve(!0)):(l(null,d,u.hiddenContainer,null,r,u,s,a,o),u.deps<=0&&u.resolve()));else if(p&&zi(d,p))l(p,d,i,n,r,u,s,a,o),xt(u,d);else if(ut(e,"onPending"),u.pendingBranch=d,u.pendingId++,l(null,d,u.hiddenContainer,null,r,u,s,a,o),u.deps<=0)u.resolve();else{const{timeout:t,pendingId:e}=u;t>0?setTimeout((()=>{u.pendingId===e&&u.fallback(f)}),t):0===t&&u.fallback(f)}}function pt(t,e,i,n,s,a,o,l,c,h,u=!1){const{p:d,m:f,um:g,n:m,o:{parentNode:v,remove:y}}=h,x=(0,r.He)(t.props&&t.props.timeout),b={vnode:t,parent:e,parentComponent:i,isSVG:o,container:n,hiddenContainer:s,anchor:a,deps:0,pendingId:0,timeout:"number"===typeof x?x:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:u,isUnmounted:!1,effects:[],resolve(t=!1){const{vnode:e,activeBranch:i,pendingBranch:n,pendingId:r,effects:s,parentComponent:a,container:o}=b;if(b.isHydrating)b.isHydrating=!1;else if(!t){const t=i&&n.transition&&"out-in"===n.transition.mode;t&&(i.transition.afterLeave=()=>{r===b.pendingId&&f(n,o,e,0)});let{anchor:e}=b;i&&(e=m(i),g(i,a,b,!0)),t||f(n,o,e,0)}xt(b,n),b.pendingBranch=null,b.isInFallback=!1;let l=b.parent,c=!1;while(l){if(l.pendingBranch){l.effects.push(...s),c=!0;break}l=l.parent}c||D(s),b.effects=[],ut(e,"onResolve")},fallback(t){if(!b.pendingBranch)return;const{vnode:e,activeBranch:i,parentComponent:n,container:r,isSVG:s}=b;ut(e,"onFallback");const a=m(i),o=()=>{b.isInFallback&&(d(null,t,r,a,n,null,s,l,c),xt(b,t))},h=t.transition&&"out-in"===t.transition.mode;h&&(i.transition.afterLeave=o),b.isInFallback=!0,g(i,n,null,!0),h||o()},move(t,e,i){b.activeBranch&&f(b.activeBranch,t,e,i),b.container=t},next(){return b.activeBranch&&m(b.activeBranch)},registerDep(t,e){const i=!!b.pendingBranch;i&&b.deps++;const n=t.vnode.el;t.asyncDep.catch((e=>{p(e,t,0)})).then((r=>{if(t.isUnmounted||b.isUnmounted||b.pendingId!==t.suspenseId)return;t.asyncResolved=!0;const{vnode:s}=t;Cn(t,r,!1),n&&(s.el=n);const a=!n&&t.subTree.el;e(t,s,v(n||t.subTree.el),n?null:m(t.subTree),b,o,c),a&&y(a),ot(t,s.el),i&&0===--b.deps&&b.resolve()}))},unmount(t,e){b.isUnmounted=!0,b.activeBranch&&g(b.activeBranch,i,t,e),b.pendingBranch&&g(b.pendingBranch,i,t,e)}};return b}function gt(t,e,i,n,r,s,a,o,l){const c=e.suspense=pt(e,n,i,t.parentNode,document.createElement("div"),null,r,s,a,o,!0),h=l(t,c.pendingBranch=e.ssContent,i,c,s,a);return 0===c.deps&&c.resolve(),h}function mt(t){const{shapeFlag:e,children:i}=t,n=32&e;t.ssContent=vt(n?i.default:i),t.ssFallback=n?vt(i.fallback):Ui(Ci)}function vt(t){let e;if((0,r.mf)(t)){const i=Ri&&t._c;i&&(t._d=!1,_i()),t=t(),i&&(t._d=!0,e=Ti,Pi())}if((0,r.kJ)(t)){const e=it(t);0,t=e}return t=Ji(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter((e=>e!==t))),t}function yt(t,e){e&&e.pendingBranch?(0,r.kJ)(t)?e.effects.push(...t):e.effects.push(t):D(t)}function xt(t,e){t.activeBranch=e;const{vnode:i,parentComponent:n}=t,r=i.el=e.el;n&&n.subTree===i&&(n.vnode.el=r,ot(n,r))}function bt(t,e){if(gn){let i=gn.provides;const n=gn.parent&&gn.parent.provides;n===i&&(i=gn.provides=Object.create(n)),i[t]=e}else 0}function wt(t,e,i=!1){const n=gn||q;if(n){const s=null==n.parent?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides;if(s&&t in s)return s[t];if(arguments.length>1)return i&&(0,r.mf)(e)?e.call(n.proxy):e}else 0}function kt(t,e){return It(t,null,e)}function At(t,e){return It(t,null,{flush:"post"})}function St(t,e){return It(t,null,{flush:"sync"})}const Ct={};function Et(t,e,i){return It(t,e,i)}function It(t,e,{immediate:i,deep:s,flush:a,onTrack:o,onTrigger:l}=r.kT){const c=gn;let h,u,p=!1,g=!1;if((0,n.dq)(t)?(h=()=>t.value,p=(0,n.yT)(t)):(0,n.PG)(t)?(h=()=>t,s=!0):(0,r.kJ)(t)?(g=!0,p=t.some(n.PG),h=()=>t.map((t=>(0,n.dq)(t)?t.value:(0,n.PG)(t)?Pt(t):(0,r.mf)(t)?d(t,c,2):void 0))):h=(0,r.mf)(t)?e?()=>d(t,c,2):()=>{if(!c||!c.isUnmounted)return u&&u(),f(t,c,3,[m])}:r.dG,e&&s){const t=h;h=()=>Pt(t())}let m=t=>{u=b.onStop=()=>{d(t,c,4)}};if(kn)return m=r.dG,e?i&&f(e,c,3,[h(),g?[]:void 0,m]):h(),r.dG;let v=g?[]:Ct;const y=()=>{if(b.active)if(e){const t=b.run();(s||p||(g?t.some(((t,e)=>(0,r.aU)(t,v[e]))):(0,r.aU)(t,v)))&&(u&&u(),f(e,c,3,[t,v===Ct?void 0:v,m]),v=t)}else b.run()};let x;y.allowRecurse=!!e,x="sync"===a?y:"post"===a?()=>ti(y,c&&c.suspense):()=>{!c||c.isMounted?M(y):y()};const b=new n.qq(h,x);return e?i?y():v=b.run():"post"===a?ti(b.run.bind(b),c&&c.suspense):b.run(),()=>{b.stop(),c&&c.scope&&(0,r.Od)(c.scope.effects,b)}}function Tt(t,e,i){const n=this.proxy,s=(0,r.HD)(t)?t.includes(".")?_t(n,t):()=>n[t]:t.bind(n,n);let a;(0,r.mf)(e)?a=e:(a=e.handler,i=e);const o=gn;vn(this);const l=It(s,a.bind(n),i);return o?vn(o):yn(),l}function _t(t,e){const i=e.split(".");return()=>{let e=t;for(let t=0;t<i.length&&e;t++)e=e[i[t]];return e}}function Pt(t,e){if(!(0,r.Kn)(t)||t["__v_skip"])return t;if(e=e||new Set,e.has(t))return t;if(e.add(t),(0,n.dq)(t))Pt(t.value,e);else if((0,r.kJ)(t))for(let i=0;i<t.length;i++)Pt(t[i],e);else if((0,r.DM)(t)||(0,r._N)(t))t.forEach((t=>{Pt(t,e)}));else if((0,r.PO)(t))for(const i in t)Pt(t[i],e);return t}function Lt(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return re((()=>{t.isMounted=!0})),oe((()=>{t.isUnmounting=!0})),t}const Rt=[Function,Array],Ot={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Rt,onEnter:Rt,onAfterEnter:Rt,onEnterCancelled:Rt,onBeforeLeave:Rt,onLeave:Rt,onAfterLeave:Rt,onLeaveCancelled:Rt,onBeforeAppear:Rt,onAppear:Rt,onAfterAppear:Rt,onAppearCancelled:Rt},setup(t,{slots:e}){const i=mn(),r=Lt();let s;return()=>{const a=e.default&&Ht(e.default(),!0);if(!a||!a.length)return;const o=(0,n.IU)(t),{mode:l}=o;const c=a[0];if(r.isLeaving)return Ft(c);const h=zt(c);if(!h)return Ft(c);const u=Dt(h,o,r,i);Vt(h,u);const d=i.subTree,f=d&&zt(d);let p=!1;const{getTransitionKey:g}=h.type;if(g){const t=g();void 0===s?s=t:t!==s&&(s=t,p=!0)}if(f&&f.type!==Ci&&(!zi(h,f)||p)){const t=Dt(f,o,r,i);if(Vt(f,t),"out-in"===l)return r.isLeaving=!0,t.afterLeave=()=>{r.isLeaving=!1,i.update()},Ft(c);"in-out"===l&&h.type!==Ci&&(t.delayLeave=(t,e,i)=>{const n=Mt(r,f);n[String(f.key)]=f,t._leaveCb=()=>{e(),t._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=i})}return c}}},Nt=Ot;function Mt(t,e){const{leavingVNodes:i}=t;let n=i.get(e.type);return n||(n=Object.create(null),i.set(e.type,n)),n}function Dt(t,e,i,n){const{appear:r,mode:s,persisted:a=!1,onBeforeEnter:o,onEnter:l,onAfterEnter:c,onEnterCancelled:h,onBeforeLeave:u,onLeave:d,onAfterLeave:p,onLeaveCancelled:g,onBeforeAppear:m,onAppear:v,onAfterAppear:y,onAppearCancelled:x}=e,b=String(t.key),w=Mt(i,t),k=(t,e)=>{t&&f(t,n,9,e)},A={mode:s,persisted:a,beforeEnter(e){let n=o;if(!i.isMounted){if(!r)return;n=m||o}e._leaveCb&&e._leaveCb(!0);const s=w[b];s&&zi(t,s)&&s.el._leaveCb&&s.el._leaveCb(),k(n,[e])},enter(t){let e=l,n=c,s=h;if(!i.isMounted){if(!r)return;e=v||l,n=y||c,s=x||h}let a=!1;const o=t._enterCb=e=>{a||(a=!0,k(e?s:n,[t]),A.delayedLeave&&A.delayedLeave(),t._enterCb=void 0)};e?(e(t,o),e.length<=1&&o()):o()},leave(e,n){const r=String(t.key);if(e._enterCb&&e._enterCb(!0),i.isUnmounting)return n();k(u,[e]);let s=!1;const a=e._leaveCb=i=>{s||(s=!0,n(),k(i?g:p,[e]),e._leaveCb=void 0,w[r]===t&&delete w[r])};w[r]=t,d?(d(e,a),d.length<=1&&a()):a()},clone(t){return Dt(t,e,i,n)}};return A}function Ft(t){if(Wt(t))return t=Gi(t),t.children=null,t}function zt(t){return Wt(t)?t.children?t.children[0]:void 0:t}function Vt(t,e){6&t.shapeFlag&&t.component?Vt(t.component.subTree,e):128&t.shapeFlag?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Ht(t,e=!1){let i=[],n=0;for(let r=0;r<t.length;r++){const s=t[r];s.type===Ai?(128&s.patchFlag&&n++,i=i.concat(Ht(s.children,e))):(e||s.type!==Ci)&&i.push(s)}if(n>1)for(let r=0;r<i.length;r++)i[r].patchFlag=-2;return i}function Xt(t){return(0,r.mf)(t)?{setup:t,name:t.name}:t}const Bt=t=>!!t.type.__asyncLoader;function Yt(t){(0,r.mf)(t)&&(t={loader:t});const{loader:e,loadingComponent:i,errorComponent:s,delay:a=200,timeout:o,suspensible:l=!0,onError:c}=t;let h,u=null,d=0;const f=()=>(d++,u=null,g()),g=()=>{let t;return u||(t=u=e().catch((t=>{if(t=t instanceof Error?t:new Error(String(t)),c)return new Promise(((e,i)=>{const n=()=>e(f()),r=()=>i(t);c(t,n,r,d+1)}));throw t})).then((e=>t!==u&&u?u:(e&&(e.__esModule||"Module"===e[Symbol.toStringTag])&&(e=e.default),h=e,e))))};return Xt({name:"AsyncComponentWrapper",__asyncLoader:g,get __asyncResolved(){return h},setup(){const t=gn;if(h)return()=>Ut(h,t);const e=e=>{u=null,p(e,t,13,!s)};if(l&&t.suspense||kn)return g().then((e=>()=>Ut(e,t))).catch((t=>(e(t),()=>s?Ui(s,{error:t}):null)));const r=(0,n.iH)(!1),c=(0,n.iH)(),d=(0,n.iH)(!!a);return a&&setTimeout((()=>{d.value=!1}),a),null!=o&&setTimeout((()=>{if(!r.value&&!c.value){const t=new Error(`Async component timed out after ${o}ms.`);e(t),c.value=t}}),o),g().then((()=>{r.value=!0,t.parent&&Wt(t.parent.vnode)&&L(t.parent.update)})).catch((t=>{e(t),c.value=t})),()=>r.value&&h?Ut(h,t):c.value&&s?Ui(s,{error:c.value}):i&&!d.value?Ui(i):void 0}})}function Ut(t,{vnode:{ref:e,props:i,children:n}}){const r=Ui(t,i,n);return r.ref=e,r}const Wt=t=>t.type.__isKeepAlive,jt={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const i=mn(),n=i.ctx;if(!n.renderer)return e.default;const s=new Map,a=new Set;let o=null;const l=i.suspense,{renderer:{p:c,m:h,um:u,o:{createElement:d}}}=n,f=d("div");function p(t){Qt(t),u(t,i,l,!0)}function g(t){s.forEach(((e,i)=>{const n=Nn(e.type);!n||t&&t(n)||m(i)}))}function m(t){const e=s.get(t);o&&e.type===o.type?o&&Qt(o):p(e),s.delete(t),a.delete(t)}n.activate=(t,e,i,n,s)=>{const a=t.component;h(t,e,i,0,l),c(a.vnode,t,e,i,a,l,n,t.slotScopeIds,s),ti((()=>{a.isDeactivated=!1,a.a&&(0,r.ir)(a.a);const e=t.props&&t.props.onVnodeMounted;e&&en(e,a.parent,t)}),l)},n.deactivate=t=>{const e=t.component;h(t,f,null,1,l),ti((()=>{e.da&&(0,r.ir)(e.da);const i=t.props&&t.props.onVnodeUnmounted;i&&en(i,e.parent,t),e.isDeactivated=!0}),l)},Et((()=>[t.include,t.exclude]),(([t,e])=>{t&&g((e=>qt(t,e))),e&&g((t=>!qt(e,t)))}),{flush:"post",deep:!0});let v=null;const y=()=>{null!=v&&s.set(v,te(i.subTree))};return re(y),ae(y),oe((()=>{s.forEach((t=>{const{subTree:e,suspense:n}=i,r=te(e);if(t.type!==r.type)p(t);else{Qt(r);const t=r.component.da;t&&ti(t,n)}}))})),()=>{if(v=null,!e.default)return null;const i=e.default(),n=i[0];if(i.length>1)return o=null,i;if(!Fi(n)||!(4&n.shapeFlag)&&!(128&n.shapeFlag))return o=null,n;let r=te(n);const l=r.type,c=Nn(Bt(r)?r.type.__asyncResolved||{}:l),{include:h,exclude:u,max:d}=t;if(h&&(!c||!qt(h,c))||u&&c&&qt(u,c))return o=r,n;const f=null==r.key?l:r.key,p=s.get(f);return r.el&&(r=Gi(r),128&n.shapeFlag&&(n.ssContent=r)),v=f,p?(r.el=p.el,r.component=p.component,r.transition&&Vt(r,r.transition),r.shapeFlag|=512,a.delete(f),a.add(f)):(a.add(f),d&&a.size>parseInt(d,10)&&m(a.values().next().value)),r.shapeFlag|=256,o=r,n}}},Gt=jt;function qt(t,e){return(0,r.kJ)(t)?t.some((t=>qt(t,e))):(0,r.HD)(t)?t.split(",").includes(e):!!t.test&&t.test(e)}function $t(t,e){Jt(t,"a",e)}function Kt(t,e){Jt(t,"da",e)}function Jt(t,e,i=gn){const n=t.__wdc||(t.__wdc=()=>{let e=i;while(e){if(e.isDeactivated)return;e=e.parent}return t()});if(ee(e,n,i),i){let t=i.parent;while(t&&t.parent)Wt(t.parent.vnode)&&Zt(n,e,i,t),t=t.parent}}function Zt(t,e,i,n){const s=ee(e,t,n,!0);le((()=>{(0,r.Od)(n[e],s)}),i)}function Qt(t){let e=t.shapeFlag;256&e&&(e-=256),512&e&&(e-=512),t.shapeFlag=e}function te(t){return 128&t.shapeFlag?t.ssContent:t}function ee(t,e,i=gn,r=!1){if(i){const s=i[t]||(i[t]=[]),a=e.__weh||(e.__weh=(...r)=>{if(i.isUnmounted)return;(0,n.Jd)(),vn(i);const s=f(e,i,t,r);return yn(),(0,n.lk)(),s});return r?s.unshift(a):s.push(a),a}}const ie=t=>(e,i=gn)=>(!kn||"sp"===t)&&ee(t,e,i),ne=ie("bm"),re=ie("m"),se=ie("bu"),ae=ie("u"),oe=ie("bum"),le=ie("um"),ce=ie("sp"),he=ie("rtg"),ue=ie("rtc");function de(t,e=gn){ee("ec",t,e)}let fe=!0;function pe(t){const e=ye(t),i=t.proxy,s=t.ctx;fe=!1,e.beforeCreate&&me(e.beforeCreate,t,"bc");const{data:a,computed:o,methods:l,watch:c,provide:h,inject:u,created:d,beforeMount:f,mounted:p,beforeUpdate:g,updated:m,activated:v,deactivated:y,beforeDestroy:x,beforeUnmount:b,destroyed:w,unmounted:k,render:A,renderTracked:S,renderTriggered:C,errorCaptured:E,serverPrefetch:I,expose:T,inheritAttrs:_,components:P,directives:L,filters:R}=e,O=null;if(u&&ge(u,s,O,t.appContext.config.unwrapInjectedRef),l)for(const n in l){const t=l[n];(0,r.mf)(t)&&(s[n]=t.bind(i))}if(a){0;const e=a.call(i,i);0,(0,r.Kn)(e)&&(t.data=(0,n.qj)(e))}if(fe=!0,o)for(const n in o){const t=o[n],e=(0,r.mf)(t)?t.bind(i,i):(0,r.mf)(t.get)?t.get.bind(i,i):r.dG;0;const a=!(0,r.mf)(t)&&(0,r.mf)(t.set)?t.set.bind(i):r.dG,l=Fn({get:e,set:a});Object.defineProperty(s,n,{enumerable:!0,configurable:!0,get:()=>l.value,set:t=>l.value=t})}if(c)for(const n in c)ve(c[n],s,i,n);if(h){const t=(0,r.mf)(h)?h.call(i):h;Reflect.ownKeys(t).forEach((e=>{bt(e,t[e])}))}function N(t,e){(0,r.kJ)(e)?e.forEach((e=>t(e.bind(i)))):e&&t(e.bind(i))}if(d&&me(d,t,"c"),N(ne,f),N(re,p),N(se,g),N(ae,m),N($t,v),N(Kt,y),N(de,E),N(ue,S),N(he,C),N(oe,b),N(le,k),N(ce,I),(0,r.kJ)(T))if(T.length){const e=t.exposed||(t.exposed={});T.forEach((t=>{Object.defineProperty(e,t,{get:()=>i[t],set:e=>i[t]=e})}))}else t.exposed||(t.exposed={});A&&t.render===r.dG&&(t.render=A),null!=_&&(t.inheritAttrs=_),P&&(t.components=P),L&&(t.directives=L)}function ge(t,e,i=r.dG,s=!1){(0,r.kJ)(t)&&(t=Ae(t));for(const a in t){const i=t[a];let o;o=(0,r.Kn)(i)?"default"in i?wt(i.from||a,i.default,!0):wt(i.from||a):wt(i),(0,n.dq)(o)&&s?Object.defineProperty(e,a,{enumerable:!0,configurable:!0,get:()=>o.value,set:t=>o.value=t}):e[a]=o}}function me(t,e,i){f((0,r.kJ)(t)?t.map((t=>t.bind(e.proxy))):t.bind(e.proxy),e,i)}function ve(t,e,i,n){const s=n.includes(".")?_t(i,n):()=>i[n];if((0,r.HD)(t)){const i=e[t];(0,r.mf)(i)&&Et(s,i)}else if((0,r.mf)(t))Et(s,t.bind(i));else if((0,r.Kn)(t))if((0,r.kJ)(t))t.forEach((t=>ve(t,e,i,n)));else{const n=(0,r.mf)(t.handler)?t.handler.bind(i):e[t.handler];(0,r.mf)(n)&&Et(s,n,t)}else 0}function ye(t){const e=t.type,{mixins:i,extends:n}=e,{mixins:r,optionsCache:s,config:{optionMergeStrategies:a}}=t.appContext,o=s.get(e);let l;return o?l=o:r.length||i||n?(l={},r.length&&r.forEach((t=>xe(l,t,a,!0))),xe(l,e,a)):l=e,s.set(e,l),l}function xe(t,e,i,n=!1){const{mixins:r,extends:s}=e;s&&xe(t,s,i,!0),r&&r.forEach((e=>xe(t,e,i,!0)));for(const a in e)if(n&&"expose"===a);else{const n=be[a]||i&&i[a];t[a]=n?n(t[a],e[a]):e[a]}return t}const be={data:we,props:Ce,emits:Ce,methods:Ce,computed:Ce,beforeCreate:Se,created:Se,beforeMount:Se,mounted:Se,beforeUpdate:Se,updated:Se,beforeDestroy:Se,beforeUnmount:Se,destroyed:Se,unmounted:Se,activated:Se,deactivated:Se,errorCaptured:Se,serverPrefetch:Se,components:Ce,directives:Ce,watch:Ee,provide:we,inject:ke};function we(t,e){return e?t?function(){return(0,r.l7)((0,r.mf)(t)?t.call(this,this):t,(0,r.mf)(e)?e.call(this,this):e)}:e:t}function ke(t,e){return Ce(Ae(t),Ae(e))}function Ae(t){if((0,r.kJ)(t)){const e={};for(let i=0;i<t.length;i++)e[t[i]]=t[i];return e}return t}function Se(t,e){return t?[...new Set([].concat(t,e))]:e}function Ce(t,e){return t?(0,r.l7)((0,r.l7)(Object.create(null),t),e):e}function Ee(t,e){if(!t)return e;if(!e)return t;const i=(0,r.l7)(Object.create(null),t);for(const n in e)i[n]=Se(t[n],e[n]);return i}function Ie(t,e,i,s=!1){const a={},o={};(0,r.Nj)(o,Hi,1),t.propsDefaults=Object.create(null),_e(t,e,a,o);for(const n in t.propsOptions[0])n in a||(a[n]=void 0);i?t.props=s?a:(0,n.Um)(a):t.type.props?t.props=a:t.props=o,t.attrs=o}function Te(t,e,i,s){const{props:a,attrs:o,vnode:{patchFlag:l}}=t,c=(0,n.IU)(a),[h]=t.propsOptions;let u=!1;if(!(s||l>0)||16&l){let n;_e(t,e,a,o)&&(u=!0);for(const s in c)e&&((0,r.RI)(e,s)||(n=(0,r.rs)(s))!==s&&(0,r.RI)(e,n))||(h?!i||void 0===i[s]&&void 0===i[n]||(a[s]=Pe(h,c,s,void 0,t,!0)):delete a[s]);if(o!==c)for(const t in o)e&&(0,r.RI)(e,t)||(delete o[t],u=!0)}else if(8&l){const i=t.vnode.dynamicProps;for(let n=0;n<i.length;n++){let s=i[n];const l=e[s];if(h)if((0,r.RI)(o,s))l!==o[s]&&(o[s]=l,u=!0);else{const e=(0,r._A)(s);a[e]=Pe(h,c,e,l,t,!1)}else l!==o[s]&&(o[s]=l,u=!0)}}u&&(0,n.X$)(t,"set","$attrs")}function _e(t,e,i,s){const[a,o]=t.propsOptions;let l,c=!1;if(e)for(let n in e){if((0,r.Gg)(n))continue;const h=e[n];let u;a&&(0,r.RI)(a,u=(0,r._A)(n))?o&&o.includes(u)?(l||(l={}))[u]=h:i[u]=h:G(t.emitsOptions,n)||n in s&&h===s[n]||(s[n]=h,c=!0)}if(o){const e=(0,n.IU)(i),s=l||r.kT;for(let n=0;n<o.length;n++){const l=o[n];i[l]=Pe(a,e,l,s[l],t,!(0,r.RI)(s,l))}}return c}function Pe(t,e,i,n,s,a){const o=t[i];if(null!=o){const t=(0,r.RI)(o,"default");if(t&&void 0===n){const t=o.default;if(o.type!==Function&&(0,r.mf)(t)){const{propsDefaults:r}=s;i in r?n=r[i]:(vn(s),n=r[i]=t.call(null,e),yn())}else n=t}o[0]&&(a&&!t?n=!1:!o[1]||""!==n&&n!==(0,r.rs)(i)||(n=!0))}return n}function Le(t,e,i=!1){const n=e.propsCache,s=n.get(t);if(s)return s;const a=t.props,o={},l=[];let c=!1;if(!(0,r.mf)(t)){const n=t=>{c=!0;const[i,n]=Le(t,e,!0);(0,r.l7)(o,i),n&&l.push(...n)};!i&&e.mixins.length&&e.mixins.forEach(n),t.extends&&n(t.extends),t.mixins&&t.mixins.forEach(n)}if(!a&&!c)return n.set(t,r.Z6),r.Z6;if((0,r.kJ)(a))for(let u=0;u<a.length;u++){0;const t=(0,r._A)(a[u]);Re(t)&&(o[t]=r.kT)}else if(a){0;for(const t in a){const e=(0,r._A)(t);if(Re(e)){const i=a[t],n=o[e]=(0,r.kJ)(i)||(0,r.mf)(i)?{type:i}:i;if(n){const t=Me(Boolean,n.type),i=Me(String,n.type);n[0]=t>-1,n[1]=i<0||t<i,(t>-1||(0,r.RI)(n,"default"))&&l.push(e)}}}}const h=[o,l];return n.set(t,h),h}function Re(t){return"$"!==t[0]}function Oe(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:null===t?"null":""}function Ne(t,e){return Oe(t)===Oe(e)}function Me(t,e){return(0,r.kJ)(e)?e.findIndex((e=>Ne(e,t))):(0,r.mf)(e)&&Ne(e,t)?0:-1}const De=t=>"_"===t[0]||"$stable"===t,Fe=t=>(0,r.kJ)(t)?t.map(Ji):[Ji(t)],ze=(t,e,i)=>{const n=tt(((...t)=>Fe(e(...t))),i);return n._c=!1,n},Ve=(t,e,i)=>{const n=t._ctx;for(const s in t){if(De(s))continue;const i=t[s];if((0,r.mf)(i))e[s]=ze(s,i,n);else if(null!=i){0;const t=Fe(i);e[s]=()=>t}}},He=(t,e)=>{const i=Fe(e);t.slots.default=()=>i},Xe=(t,e)=>{if(32&t.vnode.shapeFlag){const i=e._;i?(t.slots=(0,n.IU)(e),(0,r.Nj)(e,"_",i)):Ve(e,t.slots={})}else t.slots={},e&&He(t,e);(0,r.Nj)(t.slots,Hi,1)},Be=(t,e,i)=>{const{vnode:n,slots:s}=t;let a=!0,o=r.kT;if(32&n.shapeFlag){const t=e._;t?i&&1===t?a=!1:((0,r.l7)(s,e),i||1!==t||delete s._):(a=!e.$stable,Ve(e,s)),o=e}else e&&(He(t,e),o={default:1});if(a)for(const r in s)De(r)||r in o||delete s[r]};function Ye(t,e){const i=q;if(null===i)return t;const n=i.proxy,s=t.dirs||(t.dirs=[]);for(let a=0;a<e.length;a++){let[t,i,o,l=r.kT]=e[a];(0,r.mf)(t)&&(t={mounted:t,updated:t}),t.deep&&Pt(i),s.push({dir:t,instance:n,value:i,oldValue:void 0,arg:o,modifiers:l})}return t}function Ue(t,e,i,r){const s=t.dirs,a=e&&e.dirs;for(let o=0;o<s.length;o++){const l=s[o];a&&(l.oldValue=a[o].value);let c=l.dir[r];c&&((0,n.Jd)(),f(c,i,8,[t.el,l,t,e]),(0,n.lk)())}}function We(){return{app:null,config:{isNativeTag:r.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let je=0;function Ge(t,e){return function(i,n=null){null==n||(0,r.Kn)(n)||(n=null);const s=We(),a=new Set;let o=!1;const l=s.app={_uid:je++,_component:i,_props:n,_container:null,_context:s,_instance:null,version:tr,get config(){return s.config},set config(t){0},use(t,...e){return a.has(t)||(t&&(0,r.mf)(t.install)?(a.add(t),t.install(l,...e)):(0,r.mf)(t)&&(a.add(t),t(l,...e))),l},mixin(t){return s.mixins.includes(t)||s.mixins.push(t),l},component(t,e){return e?(s.components[t]=e,l):s.components[t]},directive(t,e){return e?(s.directives[t]=e,l):s.directives[t]},mount(r,a,c){if(!o){const h=Ui(i,n);return h.appContext=s,a&&e?e(h,r):t(h,r,c),o=!0,l._container=r,r.__vue_app__=l,Ln(h.component)||h.component.proxy}},unmount(){o&&(t(null,l._container),delete l._container.__vue_app__)},provide(t,e){return s.provides[t]=e,l}};return l}}function qe(t,e,i,s,a=!1){if((0,r.kJ)(t))return void t.forEach(((t,n)=>qe(t,e&&((0,r.kJ)(e)?e[n]:e),i,s,a)));if(Bt(s)&&!a)return;const o=4&s.shapeFlag?Ln(s.component)||s.component.proxy:s.el,l=a?null:o,{i:c,r:h}=t;const u=e&&e.r,f=c.refs===r.kT?c.refs={}:c.refs,p=c.setupState;if(null!=u&&u!==h&&((0,r.HD)(u)?(f[u]=null,(0,r.RI)(p,u)&&(p[u]=null)):(0,n.dq)(u)&&(u.value=null)),(0,r.mf)(h))d(h,c,12,[l,f]);else{const e=(0,r.HD)(h),s=(0,n.dq)(h);if(e||s){const s=()=>{if(t.f){const i=e?f[h]:h.value;a?(0,r.kJ)(i)&&(0,r.Od)(i,o):(0,r.kJ)(i)?i.includes(o)||i.push(o):e?f[h]=[o]:(h.value=[o],t.k&&(f[t.k]=h.value))}else e?(f[h]=l,(0,r.RI)(p,h)&&(p[h]=l)):(0,n.dq)(h)&&(h.value=l,t.k&&(f[t.k]=l))};l?(s.id=-1,ti(s,i)):s()}else 0}}let $e=!1;const Ke=t=>/svg/.test(t.namespaceURI)&&"foreignObject"!==t.tagName,Je=t=>8===t.nodeType;function Ze(t){const{mt:e,p:i,o:{patchProp:n,nextSibling:s,parentNode:a,remove:o,insert:l,createComment:c}}=t,h=(t,e)=>{if(!e.hasChildNodes())return i(null,t,e),void z();$e=!1,u(e.firstChild,t,null,null,null),z(),$e&&console.error("Hydration completed but contains mismatches.")},u=(i,n,r,o,l,c=!1)=>{const h=Je(i)&&"["===i.data,v=()=>g(i,n,r,o,l,h),{type:y,ref:x,shapeFlag:b}=n,w=i.nodeType;n.el=i;let k=null;switch(y){case Si:3!==w?k=v():(i.data!==n.children&&($e=!0,i.data=n.children),k=s(i));break;case Ci:k=8!==w||h?v():s(i);break;case Ei:if(1===w){k=i;const t=!n.children.length;for(let e=0;e<n.staticCount;e++)t&&(n.children+=k.outerHTML),e===n.staticCount-1&&(n.anchor=k),k=s(k);return k}k=v();break;case Ai:k=h?p(i,n,r,o,l,c):v();break;default:if(1&b)k=1!==w||n.type.toLowerCase()!==i.tagName.toLowerCase()?v():d(i,n,r,o,l,c);else if(6&b){n.slotScopeIds=l;const t=a(i);if(e(n,t,null,r,o,Ke(t),c),k=h?m(i):s(i),Bt(n)){let e;h?(e=Ui(Ai),e.anchor=k?k.previousSibling:t.lastChild):e=3===i.nodeType?qi(""):Ui("div"),e.el=i,n.component.subTree=e}}else 64&b?k=8!==w?v():n.type.hydrate(i,n,r,o,l,c,t,f):128&b&&(k=n.type.hydrate(i,n,r,o,Ke(a(i)),l,c,t,u))}return null!=x&&qe(x,null,o,n),k},d=(t,e,i,s,a,l)=>{l=l||!!e.dynamicChildren;const{type:c,props:h,patchFlag:u,shapeFlag:d,dirs:p}=e,g="input"===c&&p||"option"===c;if(g||-1!==u){if(p&&Ue(e,null,i,"created"),h)if(g||!l||48&u)for(const e in h)(g&&e.endsWith("value")||(0,r.F7)(e)&&!(0,r.Gg)(e))&&n(t,e,null,h[e],!1,void 0,i);else h.onClick&&n(t,"onClick",null,h.onClick,!1,void 0,i);let c;if((c=h&&h.onVnodeBeforeMount)&&en(c,i,e),p&&Ue(e,null,i,"beforeMount"),((c=h&&h.onVnodeMounted)||p)&&yt((()=>{c&&en(c,i,e),p&&Ue(e,null,i,"mounted")}),s),16&d&&(!h||!h.innerHTML&&!h.textContent)){let n=f(t.firstChild,e,t,i,s,a,l);while(n){$e=!0;const t=n;n=n.nextSibling,o(t)}}else 8&d&&t.textContent!==e.children&&($e=!0,t.textContent=e.children)}return t.nextSibling},f=(t,e,n,r,s,a,o)=>{o=o||!!e.dynamicChildren;const l=e.children,c=l.length;for(let h=0;h<c;h++){const e=o?l[h]:l[h]=Ji(l[h]);if(t)t=u(t,e,r,s,a,o);else{if(e.type===Si&&!e.children)continue;$e=!0,i(null,e,n,null,r,s,Ke(n),a)}}return t},p=(t,e,i,n,r,o)=>{const{slotScopeIds:h}=e;h&&(r=r?r.concat(h):h);const u=a(t),d=f(s(t),e,u,i,n,r,o);return d&&Je(d)&&"]"===d.data?s(e.anchor=d):($e=!0,l(e.anchor=c("]"),u,d),d)},g=(t,e,n,r,l,c)=>{if($e=!0,e.el=null,c){const e=m(t);while(1){const i=s(t);if(!i||i===e)break;o(i)}}const h=s(t),u=a(t);return o(t),i(null,e,u,h,n,r,Ke(u),l),h},m=t=>{let e=0;while(t)if(t=s(t),t&&Je(t)&&("["===t.data&&e++,"]"===t.data)){if(0===e)return s(t);e--}return t};return[h,u]}function Qe(){}const ti=yt;function ei(t){return ni(t)}function ii(t){return ni(t,Ze)}function ni(t,e){Qe();const i=(0,r.E9)();i.__VUE__=!0;const{insert:s,remove:a,patchProp:o,createElement:l,createText:c,createComment:h,setText:u,setElementText:d,parentNode:f,nextSibling:p,setScopeId:g=r.dG,cloneNode:m,insertStaticContent:v}=t,y=(t,e,i,n=null,r=null,s=null,a=!1,o=null,l=!!e.dynamicChildren)=>{if(t===e)return;t&&!zi(t,e)&&(n=K(t),W(t,r,s,!0),t=null),-2===e.patchFlag&&(l=!1,e.dynamicChildren=null);const{type:c,ref:h,shapeFlag:u}=e;switch(c){case Si:x(t,e,i,n);break;case Ci:b(t,e,i,n);break;case Ei:null==t&&w(e,i,n,a);break;case Ai:R(t,e,i,n,r,s,a,o,l);break;default:1&u?S(t,e,i,n,r,s,a,o,l):6&u?N(t,e,i,n,r,s,a,o,l):(64&u||128&u)&&c.process(t,e,i,n,r,s,a,o,l,Z)}null!=h&&r&&qe(h,t&&t.ref,s,e||t,!e)},x=(t,e,i,n)=>{if(null==t)s(e.el=c(e.children),i,n);else{const i=e.el=t.el;e.children!==t.children&&u(i,e.children)}},b=(t,e,i,n)=>{null==t?s(e.el=h(e.children||""),i,n):e.el=t.el},w=(t,e,i,n)=>{[t.el,t.anchor]=v(t.children,e,i,n,t.el,t.anchor)},k=({el:t,anchor:e},i,n)=>{let r;while(t&&t!==e)r=p(t),s(t,i,n),t=r;s(e,i,n)},A=({el:t,anchor:e})=>{let i;while(t&&t!==e)i=p(t),a(t),t=i;a(e)},S=(t,e,i,n,r,s,a,o,l)=>{a=a||"svg"===e.type,null==t?C(e,i,n,r,s,a,o,l):T(t,e,r,s,a,o,l)},C=(t,e,i,n,a,c,h,u)=>{let f,p;const{type:g,props:v,shapeFlag:y,transition:x,patchFlag:b,dirs:w}=t;if(t.el&&void 0!==m&&-1===b)f=t.el=m(t.el);else{if(f=t.el=l(t.type,c,v&&v.is,v),8&y?d(f,t.children):16&y&&I(t.children,f,null,n,a,c&&"foreignObject"!==g,h,u),w&&Ue(t,null,n,"created"),v){for(const e in v)"value"===e||(0,r.Gg)(e)||o(f,e,null,v[e],c,t.children,n,a,$);"value"in v&&o(f,"value",null,v.value),(p=v.onVnodeBeforeMount)&&en(p,n,t)}E(f,t,t.scopeId,h,n)}w&&Ue(t,null,n,"beforeMount");const k=(!a||a&&!a.pendingBranch)&&x&&!x.persisted;k&&x.beforeEnter(f),s(f,e,i),((p=v&&v.onVnodeMounted)||k||w)&&ti((()=>{p&&en(p,n,t),k&&x.enter(f),w&&Ue(t,null,n,"mounted")}),a)},E=(t,e,i,n,r)=>{if(i&&g(t,i),n)for(let s=0;s<n.length;s++)g(t,n[s]);if(r){let i=r.subTree;if(e===i){const e=r.vnode;E(t,e,e.scopeId,e.slotScopeIds,r.parent)}}},I=(t,e,i,n,r,s,a,o,l=0)=>{for(let c=l;c<t.length;c++){const l=t[c]=o?Zi(t[c]):Ji(t[c]);y(null,l,e,i,n,r,s,a,o)}},T=(t,e,i,n,s,a,l)=>{const c=e.el=t.el;let{patchFlag:h,dynamicChildren:u,dirs:f}=e;h|=16&t.patchFlag;const p=t.props||r.kT,g=e.props||r.kT;let m;i&&ri(i,!1),(m=g.onVnodeBeforeUpdate)&&en(m,i,e,t),f&&Ue(e,t,i,"beforeUpdate"),i&&ri(i,!0);const v=s&&"foreignObject"!==e.type;if(u?_(t.dynamicChildren,u,c,i,n,v,a):l||X(t,e,c,null,i,n,v,a,!1),h>0){if(16&h)P(c,e,p,g,i,n,s);else if(2&h&&p.class!==g.class&&o(c,"class",null,g.class,s),4&h&&o(c,"style",p.style,g.style,s),8&h){const r=e.dynamicProps;for(let e=0;e<r.length;e++){const a=r[e],l=p[a],h=g[a];h===l&&"value"!==a||o(c,a,l,h,s,t.children,i,n,$)}}1&h&&t.children!==e.children&&d(c,e.children)}else l||null!=u||P(c,e,p,g,i,n,s);((m=g.onVnodeUpdated)||f)&&ti((()=>{m&&en(m,i,e,t),f&&Ue(e,t,i,"updated")}),n)},_=(t,e,i,n,r,s,a)=>{for(let o=0;o<e.length;o++){const l=t[o],c=e[o],h=l.el&&(l.type===Ai||!zi(l,c)||70&l.shapeFlag)?f(l.el):i;y(l,c,h,null,n,r,s,a,!0)}},P=(t,e,i,n,s,a,l)=>{if(i!==n){for(const c in n){if((0,r.Gg)(c))continue;const h=n[c],u=i[c];h!==u&&"value"!==c&&o(t,c,u,h,l,e.children,s,a,$)}if(i!==r.kT)for(const c in i)(0,r.Gg)(c)||c in n||o(t,c,i[c],null,l,e.children,s,a,$);"value"in n&&o(t,"value",i.value,n.value)}},R=(t,e,i,n,r,a,o,l,h)=>{const u=e.el=t?t.el:c(""),d=e.anchor=t?t.anchor:c("");let{patchFlag:f,dynamicChildren:p,slotScopeIds:g}=e;g&&(l=l?l.concat(g):g),null==t?(s(u,i,n),s(d,i,n),I(e.children,i,d,r,a,o,l,h)):f>0&&64&f&&p&&t.dynamicChildren?(_(t.dynamicChildren,p,i,r,a,o,l),(null!=e.key||r&&e===r.subTree)&&si(t,e,!0)):X(t,e,i,d,r,a,o,l,h)},N=(t,e,i,n,r,s,a,o,l)=>{e.slotScopeIds=o,null==t?512&e.shapeFlag?r.ctx.activate(e,i,n,a,l):M(e,i,n,r,s,a,l):D(t,e,l)},M=(t,e,i,n,r,s,a)=>{const o=t.component=pn(t,n,r);if(Wt(t)&&(o.ctx.renderer=Z),An(o),o.asyncDep){if(r&&r.registerDep(o,V),!t.el){const t=o.subTree=Ui(Ci);b(null,t,e,i)}}else V(o,t,e,i,r,s,a)},D=(t,e,i)=>{const n=e.component=t.component;if(st(t,e,i)){if(n.asyncDep&&!n.asyncResolved)return void H(n,e,i);n.next=e,O(n.update),n.update()}else e.component=t.component,e.el=t.el,n.vnode=e},V=(t,e,i,s,a,o,l)=>{const c=()=>{if(t.isMounted){let e,{next:i,bu:n,u:s,parent:c,vnode:h}=t,u=i;0,ri(t,!1),i?(i.el=h.el,H(t,i,l)):i=h,n&&(0,r.ir)(n),(e=i.props&&i.props.onVnodeBeforeUpdate)&&en(e,c,i,h),ri(t,!0);const d=et(t);0;const p=t.subTree;t.subTree=d,y(p,d,f(p.el),K(p),t,a,o),i.el=d.el,null===u&&ot(t,d.el),s&&ti(s,a),(e=i.props&&i.props.onVnodeUpdated)&&ti((()=>en(e,c,i,h)),a)}else{let n;const{el:l,props:c}=e,{bm:h,m:u,parent:d}=t,f=Bt(e);if(ri(t,!1),h&&(0,r.ir)(h),!f&&(n=c&&c.onVnodeBeforeMount)&&en(n,d,e),ri(t,!0),l&&tt){const i=()=>{t.subTree=et(t),tt(l,t.subTree,t,a,null)};f?e.type.__asyncLoader().then((()=>!t.isUnmounted&&i())):i()}else{0;const n=t.subTree=et(t);0,y(null,n,i,s,t,a,o),e.el=n.el}if(u&&ti(u,a),!f&&(n=c&&c.onVnodeMounted)){const t=e;ti((()=>en(n,d,t)),a)}256&e.shapeFlag&&t.a&&ti(t.a,a),t.isMounted=!0,e=i=s=null}},h=t.effect=new n.qq(c,(()=>L(t.update)),t.scope),u=t.update=h.run.bind(h);u.id=t.uid,ri(t,!0),u()},H=(t,e,i)=>{e.component=t;const r=t.vnode.props;t.vnode=e,t.next=null,Te(t,e.props,r,i),Be(t,e.children,i),(0,n.Jd)(),F(void 0,t.update),(0,n.lk)()},X=(t,e,i,n,r,s,a,o,l=!1)=>{const c=t&&t.children,h=t?t.shapeFlag:0,u=e.children,{patchFlag:f,shapeFlag:p}=e;if(f>0){if(128&f)return void Y(c,u,i,n,r,s,a,o,l);if(256&f)return void B(c,u,i,n,r,s,a,o,l)}8&p?(16&h&&$(c,r,s),u!==c&&d(i,u)):16&h?16&p?Y(c,u,i,n,r,s,a,o,l):$(c,r,s,!0):(8&h&&d(i,""),16&p&&I(u,i,n,r,s,a,o,l))},B=(t,e,i,n,s,a,o,l,c)=>{t=t||r.Z6,e=e||r.Z6;const h=t.length,u=e.length,d=Math.min(h,u);let f;for(f=0;f<d;f++){const n=e[f]=c?Zi(e[f]):Ji(e[f]);y(t[f],n,i,null,s,a,o,l,c)}h>u?$(t,s,a,!0,!1,d):I(e,i,n,s,a,o,l,c,d)},Y=(t,e,i,n,s,a,o,l,c)=>{let h=0;const u=e.length;let d=t.length-1,f=u-1;while(h<=d&&h<=f){const n=t[h],r=e[h]=c?Zi(e[h]):Ji(e[h]);if(!zi(n,r))break;y(n,r,i,null,s,a,o,l,c),h++}while(h<=d&&h<=f){const n=t[d],r=e[f]=c?Zi(e[f]):Ji(e[f]);if(!zi(n,r))break;y(n,r,i,null,s,a,o,l,c),d--,f--}if(h>d){if(h<=f){const t=f+1,r=t<u?e[t].el:n;while(h<=f)y(null,e[h]=c?Zi(e[h]):Ji(e[h]),i,r,s,a,o,l,c),h++}}else if(h>f)while(h<=d)W(t[h],s,a,!0),h++;else{const p=h,g=h,m=new Map;for(h=g;h<=f;h++){const t=e[h]=c?Zi(e[h]):Ji(e[h]);null!=t.key&&m.set(t.key,h)}let v,x=0;const b=f-g+1;let w=!1,k=0;const A=new Array(b);for(h=0;h<b;h++)A[h]=0;for(h=p;h<=d;h++){const n=t[h];if(x>=b){W(n,s,a,!0);continue}let r;if(null!=n.key)r=m.get(n.key);else for(v=g;v<=f;v++)if(0===A[v-g]&&zi(n,e[v])){r=v;break}void 0===r?W(n,s,a,!0):(A[r-g]=h+1,r>=k?k=r:w=!0,y(n,e[r],i,null,s,a,o,l,c),x++)}const S=w?ai(A):r.Z6;for(v=S.length-1,h=b-1;h>=0;h--){const t=g+h,r=e[t],d=t+1<u?e[t+1].el:n;0===A[h]?y(null,r,i,d,s,a,o,l,c):w&&(v<0||h!==S[v]?U(r,i,d,2):v--)}}},U=(t,e,i,n,r=null)=>{const{el:a,type:o,transition:l,children:c,shapeFlag:h}=t;if(6&h)return void U(t.component.subTree,e,i,n);if(128&h)return void t.suspense.move(e,i,n);if(64&h)return void o.move(t,e,i,Z);if(o===Ai){s(a,e,i);for(let t=0;t<c.length;t++)U(c[t],e,i,n);return void s(t.anchor,e,i)}if(o===Ei)return void k(t,e,i);const u=2!==n&&1&h&&l;if(u)if(0===n)l.beforeEnter(a),s(a,e,i),ti((()=>l.enter(a)),r);else{const{leave:t,delayLeave:n,afterLeave:r}=l,o=()=>s(a,e,i),c=()=>{t(a,(()=>{o(),r&&r()}))};n?n(a,o,c):c()}else s(a,e,i)},W=(t,e,i,n=!1,r=!1)=>{const{type:s,props:a,ref:o,children:l,dynamicChildren:c,shapeFlag:h,patchFlag:u,dirs:d}=t;if(null!=o&&qe(o,null,i,t,!0),256&h)return void e.ctx.deactivate(t);const f=1&h&&d,p=!Bt(t);let g;if(p&&(g=a&&a.onVnodeBeforeUnmount)&&en(g,e,t),6&h)q(t.component,i,n);else{if(128&h)return void t.suspense.unmount(i,n);f&&Ue(t,null,e,"beforeUnmount"),64&h?t.type.remove(t,e,i,r,Z,n):c&&(s!==Ai||u>0&&64&u)?$(c,e,i,!1,!0):(s===Ai&&384&u||!r&&16&h)&&$(l,e,i),n&&j(t)}(p&&(g=a&&a.onVnodeUnmounted)||f)&&ti((()=>{g&&en(g,e,t),f&&Ue(t,null,e,"unmounted")}),i)},j=t=>{const{type:e,el:i,anchor:n,transition:r}=t;if(e===Ai)return void G(i,n);if(e===Ei)return void A(t);const s=()=>{a(i),r&&!r.persisted&&r.afterLeave&&r.afterLeave()};if(1&t.shapeFlag&&r&&!r.persisted){const{leave:e,delayLeave:n}=r,a=()=>e(i,s);n?n(t.el,s,a):a()}else s()},G=(t,e)=>{let i;while(t!==e)i=p(t),a(t),t=i;a(e)},q=(t,e,i)=>{const{bum:n,scope:s,update:a,subTree:o,um:l}=t;n&&(0,r.ir)(n),s.stop(),a&&(a.active=!1,W(o,t,e,i)),l&&ti(l,e),ti((()=>{t.isUnmounted=!0}),e),e&&e.pendingBranch&&!e.isUnmounted&&t.asyncDep&&!t.asyncResolved&&t.suspenseId===e.pendingId&&(e.deps--,0===e.deps&&e.resolve())},$=(t,e,i,n=!1,r=!1,s=0)=>{for(let a=s;a<t.length;a++)W(t[a],e,i,n,r)},K=t=>6&t.shapeFlag?K(t.component.subTree):128&t.shapeFlag?t.suspense.next():p(t.anchor||t.el),J=(t,e,i)=>{null==t?e._vnode&&W(e._vnode,null,null,!0):y(e._vnode||null,t,e,null,null,null,i),z(),e._vnode=t},Z={p:y,um:W,m:U,r:j,mt:M,mc:I,pc:X,pbc:_,n:K,o:t};let Q,tt;return e&&([Q,tt]=e(Z)),{render:J,hydrate:Q,createApp:Ge(J,Q)}}function ri({effect:t,update:e},i){t.allowRecurse=e.allowRecurse=i}function si(t,e,i=!1){const n=t.children,s=e.children;if((0,r.kJ)(n)&&(0,r.kJ)(s))for(let r=0;r<n.length;r++){const t=n[r];let e=s[r];1&e.shapeFlag&&!e.dynamicChildren&&((e.patchFlag<=0||32===e.patchFlag)&&(e=s[r]=Zi(s[r]),e.el=t.el),i||si(t,e))}}function ai(t){const e=t.slice(),i=[0];let n,r,s,a,o;const l=t.length;for(n=0;n<l;n++){const l=t[n];if(0!==l){if(r=i[i.length-1],t[r]<l){e[n]=r,i.push(n);continue}s=0,a=i.length-1;while(s<a)o=s+a>>1,t[i[o]]<l?s=o+1:a=o;l<t[i[s]]&&(s>0&&(e[n]=i[s-1]),i[s]=n)}}s=i.length,a=i[s-1];while(s-- >0)i[s]=a,a=e[a];return i}const oi=t=>t.__isTeleport,li=t=>t&&(t.disabled||""===t.disabled),ci=t=>"undefined"!==typeof SVGElement&&t instanceof SVGElement,hi=(t,e)=>{const i=t&&t.to;if((0,r.HD)(i)){if(e){const t=e(i);return t}return null}return i},ui={__isTeleport:!0,process(t,e,i,n,r,s,a,o,l,c){const{mc:h,pc:u,pbc:d,o:{insert:f,querySelector:p,createText:g,createComment:m}}=c,v=li(e.props);let{shapeFlag:y,children:x,dynamicChildren:b}=e;if(null==t){const t=e.el=g(""),c=e.anchor=g("");f(t,i,n),f(c,i,n);const u=e.target=hi(e.props,p),d=e.targetAnchor=g("");u&&(f(d,u),a=a||ci(u));const m=(t,e)=>{16&y&&h(x,t,e,r,s,a,o,l)};v?m(i,c):u&&m(u,d)}else{e.el=t.el;const n=e.anchor=t.anchor,h=e.target=t.target,f=e.targetAnchor=t.targetAnchor,g=li(t.props),m=g?i:h,y=g?n:f;if(a=a||ci(h),b?(d(t.dynamicChildren,b,m,r,s,a,o),si(t,e,!0)):l||u(t,e,m,y,r,s,a,o,!1),v)g||di(e,i,n,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const t=e.target=hi(e.props,p);t&&di(e,t,null,c,0)}else g&&di(e,h,f,c,1)}},remove(t,e,i,n,{um:r,o:{remove:s}},a){const{shapeFlag:o,children:l,anchor:c,targetAnchor:h,target:u,props:d}=t;if(u&&s(h),(a||!li(d))&&(s(c),16&o))for(let f=0;f<l.length;f++){const t=l[f];r(t,e,i,!0,!!t.dynamicChildren)}},move:di,hydrate:fi};function di(t,e,i,{o:{insert:n},m:r},s=2){0===s&&n(t.targetAnchor,e,i);const{el:a,anchor:o,shapeFlag:l,children:c,props:h}=t,u=2===s;if(u&&n(a,e,i),(!u||li(h))&&16&l)for(let d=0;d<c.length;d++)r(c[d],e,i,2);u&&n(o,e,i)}function fi(t,e,i,n,r,s,{o:{nextSibling:a,parentNode:o,querySelector:l}},c){const h=e.target=hi(e.props,l);if(h){const l=h._lpa||h.firstChild;16&e.shapeFlag&&(li(e.props)?(e.anchor=c(a(t),e,o(t),i,n,r,s),e.targetAnchor=l):(e.anchor=a(t),e.targetAnchor=c(l,e,h,i,n,r,s)),h._lpa=e.targetAnchor&&a(e.targetAnchor))}return e.anchor&&a(e.anchor)}const pi=ui,gi="components",mi="directives";function vi(t,e){return wi(gi,t,!0,e)||t}const yi=Symbol();function xi(t){return(0,r.HD)(t)?wi(gi,t,!1)||t:t||yi}function bi(t){return wi(mi,t)}function wi(t,e,i=!0,n=!1){const s=q||gn;if(s){const i=s.type;if(t===gi){const t=Nn(i);if(t&&(t===e||t===(0,r._A)(e)||t===(0,r.kC)((0,r._A)(e))))return i}const a=ki(s[t]||i[t],e)||ki(s.appContext[t],e);return!a&&n?i:a}}function ki(t,e){return t&&(t[e]||t[(0,r._A)(e)]||t[(0,r.kC)((0,r._A)(e))])}const Ai=Symbol(void 0),Si=Symbol(void 0),Ci=Symbol(void 0),Ei=Symbol(void 0),Ii=[];let Ti=null;function _i(t=!1){Ii.push(Ti=t?null:[])}function Pi(){Ii.pop(),Ti=Ii[Ii.length-1]||null}let Li,Ri=1;function Oi(t){Ri+=t}function Ni(t){return t.dynamicChildren=Ri>0?Ti||r.Z6:null,Pi(),Ri>0&&Ti&&Ti.push(t),t}function Mi(t,e,i,n,r,s){return Ni(Yi(t,e,i,n,r,s,!0))}function Di(t,e,i,n,r){return Ni(Ui(t,e,i,n,r,!0))}function Fi(t){return!!t&&!0===t.__v_isVNode}function zi(t,e){return t.type===e.type&&t.key===e.key}function Vi(t){Li=t}const Hi="__vInternal",Xi=({key:t})=>null!=t?t:null,Bi=({ref:t,ref_key:e,ref_for:i})=>null!=t?(0,r.HD)(t)||(0,n.dq)(t)||(0,r.mf)(t)?{i:q,r:t,k:e,f:!!i}:t:null;function Yi(t,e=null,i=null,n=0,s=null,a=(t===Ai?0:1),o=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Xi(e),ref:e&&Bi(e),scopeId:$,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:n,dynamicProps:s,dynamicChildren:null,appContext:null};return l?(Qi(c,i),128&a&&t.normalize(c)):i&&(c.shapeFlag|=(0,r.HD)(i)?8:16),Ri>0&&!o&&Ti&&(c.patchFlag>0||6&a)&&32!==c.patchFlag&&Ti.push(c),c}const Ui=Wi;function Wi(t,e=null,i=null,s=0,a=null,o=!1){if(t&&t!==yi||(t=Ci),Fi(t)){const n=Gi(t,e,!0);return i&&Qi(n,i),n}if(Dn(t)&&(t=t.__vccOpts),e){e=ji(e);let{class:t,style:i}=e;t&&!(0,r.HD)(t)&&(e.class=(0,r.C_)(t)),(0,r.Kn)(i)&&((0,n.X3)(i)&&!(0,r.kJ)(i)&&(i=(0,r.l7)({},i)),e.style=(0,r.j5)(i))}const l=(0,r.HD)(t)?1:lt(t)?128:oi(t)?64:(0,r.Kn)(t)?4:(0,r.mf)(t)?2:0;return Yi(t,e,i,s,a,l,o,!0)}function ji(t){return t?(0,n.X3)(t)||Hi in t?(0,r.l7)({},t):t:null}function Gi(t,e,i=!1){const{props:n,ref:s,patchFlag:a,children:o}=t,l=e?tn(n||{},e):n,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:l,key:l&&Xi(l),ref:e&&e.ref?i&&s?(0,r.kJ)(s)?s.concat(Bi(e)):[s,Bi(e)]:Bi(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ai?-1===a?16:16|a:a,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Gi(t.ssContent),ssFallback:t.ssFallback&&Gi(t.ssFallback),el:t.el,anchor:t.anchor};return c}function qi(t=" ",e=0){return Ui(Si,null,t,e)}function $i(t,e){const i=Ui(Ei,null,t);return i.staticCount=e,i}function Ki(t="",e=!1){return e?(_i(),Di(Ci,null,t)):Ui(Ci,null,t)}function Ji(t){return null==t||"boolean"===typeof t?Ui(Ci):(0,r.kJ)(t)?Ui(Ai,null,t.slice()):"object"===typeof t?Zi(t):Ui(Si,null,String(t))}function Zi(t){return null===t.el||t.memo?t:Gi(t)}function Qi(t,e){let i=0;const{shapeFlag:n}=t;if(null==e)e=null;else if((0,r.kJ)(e))i=16;else if("object"===typeof e){if(65&n){const i=e.default;return void(i&&(i._c&&(i._d=!1),Qi(t,i()),i._c&&(i._d=!0)))}{i=32;const n=e._;n||Hi in e?3===n&&q&&(1===q.slots._?e._=1:(e._=2,t.patchFlag|=1024)):e._ctx=q}}else(0,r.mf)(e)?(e={default:e,_ctx:q},i=32):(e=String(e),64&n?(i=16,e=[qi(e)]):i=8);t.children=e,t.shapeFlag|=i}function tn(...t){const e={};for(let i=0;i<t.length;i++){const n=t[i];for(const t in n)if("class"===t)e.class!==n.class&&(e.class=(0,r.C_)([e.class,n.class]));else if("style"===t)e.style=(0,r.j5)([e.style,n.style]);else if((0,r.F7)(t)){const i=e[t],s=n[t];!s||i===s||(0,r.kJ)(i)&&i.includes(s)||(e[t]=i?[].concat(i,s):s)}else""!==t&&(e[t]=n[t])}return e}function en(t,e,i,n=null){f(t,e,7,[i,n])}function nn(t,e,i,n){let s;const a=i&&i[n];if((0,r.kJ)(t)||(0,r.HD)(t)){s=new Array(t.length);for(let i=0,n=t.length;i<n;i++)s[i]=e(t[i],i,void 0,a&&a[i])}else if("number"===typeof t){0,s=new Array(t);for(let i=0;i<t;i++)s[i]=e(i+1,i,void 0,a&&a[i])}else if((0,r.Kn)(t))if(t[Symbol.iterator])s=Array.from(t,((t,i)=>e(t,i,void 0,a&&a[i])));else{const i=Object.keys(t);s=new Array(i.length);for(let n=0,r=i.length;n<r;n++){const r=i[n];s[n]=e(t[r],r,n,a&&a[n])}}else s=[];return i&&(i[n]=s),s}function rn(t,e){for(let i=0;i<e.length;i++){const n=e[i];if((0,r.kJ)(n))for(let e=0;e<n.length;e++)t[n[e].name]=n[e].fn;else n&&(t[n.name]=n.fn)}return t}function sn(t,e,i={},n,r){if(q.isCE)return Ui("slot","default"===e?null:{name:e},n&&n());let s=t[e];s&&s._c&&(s._d=!1),_i();const a=s&&an(s(i)),o=Di(Ai,{key:i.key||`_${e}`},a||(n?n():[]),a&&1===t._?64:-2);return!r&&o.scopeId&&(o.slotScopeIds=[o.scopeId+"-s"]),s&&s._c&&(s._d=!0),o}function an(t){return t.some((t=>!Fi(t)||t.type!==Ci&&!(t.type===Ai&&!an(t.children))))?t:null}function on(t){const e={};for(const i in t)e[(0,r.hR)(i)]=t[i];return e}const ln=t=>t?xn(t)?Ln(t)||t.proxy:ln(t.parent):null,cn=(0,r.l7)(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>ln(t.parent),$root:t=>ln(t.root),$emit:t=>t.emit,$options:t=>ye(t),$forceUpdate:t=>()=>L(t.update),$nextTick:t=>_.bind(t.proxy),$watch:t=>Tt.bind(t)}),hn={get({_:t},e){const{ctx:i,setupState:s,data:a,props:o,accessCache:l,type:c,appContext:h}=t;let u;if("$"!==e[0]){const n=l[e];if(void 0!==n)switch(n){case 1:return s[e];case 2:return a[e];case 4:return i[e];case 3:return o[e]}else{if(s!==r.kT&&(0,r.RI)(s,e))return l[e]=1,s[e];if(a!==r.kT&&(0,r.RI)(a,e))return l[e]=2,a[e];if((u=t.propsOptions[0])&&(0,r.RI)(u,e))return l[e]=3,o[e];if(i!==r.kT&&(0,r.RI)(i,e))return l[e]=4,i[e];fe&&(l[e]=0)}}const d=cn[e];let f,p;return d?("$attrs"===e&&(0,n.j)(t,"get",e),d(t)):(f=c.__cssModules)&&(f=f[e])?f:i!==r.kT&&(0,r.RI)(i,e)?(l[e]=4,i[e]):(p=h.config.globalProperties,(0,r.RI)(p,e)?p[e]:void 0)},set({_:t},e,i){const{data:n,setupState:s,ctx:a}=t;return s!==r.kT&&(0,r.RI)(s,e)?(s[e]=i,!0):n!==r.kT&&(0,r.RI)(n,e)?(n[e]=i,!0):!(0,r.RI)(t.props,e)&&(("$"!==e[0]||!(e.slice(1)in t))&&(a[e]=i,!0))},has({_:{data:t,setupState:e,accessCache:i,ctx:n,appContext:s,propsOptions:a}},o){let l;return!!i[o]||t!==r.kT&&(0,r.RI)(t,o)||e!==r.kT&&(0,r.RI)(e,o)||(l=a[0])&&(0,r.RI)(l,o)||(0,r.RI)(n,o)||(0,r.RI)(cn,o)||(0,r.RI)(s.config.globalProperties,o)},defineProperty(t,e,i){return null!=i.get?this.set(t,e,i.get(),null):null!=i.value&&this.set(t,e,i.value,null),Reflect.defineProperty(t,e,i)}};const un=(0,r.l7)({},hn,{get(t,e){if(e!==Symbol.unscopables)return hn.get(t,e,t)},has(t,e){const i="_"!==e[0]&&!(0,r.e1)(e);return i}});const dn=We();let fn=0;function pn(t,e,i){const s=t.type,a=(e?e.appContext:t.appContext)||dn,o={uid:fn++,vnode:t,type:s,parent:e,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,scope:new n.Bj(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(a.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Le(s,a),emitsOptions:j(s,a),emit:null,emitted:null,propsDefaults:r.kT,inheritAttrs:s.inheritAttrs,ctx:r.kT,data:r.kT,props:r.kT,attrs:r.kT,slots:r.kT,refs:r.kT,setupState:r.kT,setupContext:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=W.bind(null,o),t.ce&&t.ce(o),o}let gn=null;const mn=()=>gn||q,vn=t=>{gn=t,t.scope.on()},yn=()=>{gn&&gn.scope.off(),gn=null};function xn(t){return 4&t.vnode.shapeFlag}let bn,wn,kn=!1;function An(t,e=!1){kn=e;const{props:i,children:n}=t.vnode,r=xn(t);Ie(t,i,r,e),Xe(t,n);const s=r?Sn(t,e):void 0;return kn=!1,s}function Sn(t,e){const i=t.type;t.accessCache=Object.create(null),t.proxy=(0,n.Xl)(new Proxy(t.ctx,hn));const{setup:s}=i;if(s){const i=t.setupContext=s.length>1?Pn(t):null;vn(t),(0,n.Jd)();const a=d(s,t,0,[t.props,i]);if((0,n.lk)(),yn(),(0,r.tI)(a)){if(a.then(yn,yn),e)return a.then((i=>{Cn(t,i,e)})).catch((e=>{p(e,t,0)}));t.asyncDep=a}else Cn(t,a,e)}else Tn(t,e)}function Cn(t,e,i){(0,r.mf)(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:(0,r.Kn)(e)&&(t.setupState=(0,n.WL)(e)),Tn(t,i)}function En(t){bn=t,wn=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,un))}}const In=()=>!bn;function Tn(t,e,i){const s=t.type;if(!t.render){if(!e&&bn&&!s.render){const e=s.template;if(e){0;const{isCustomElement:i,compilerOptions:n}=t.appContext.config,{delimiters:a,compilerOptions:o}=s,l=(0,r.l7)((0,r.l7)({isCustomElement:i,delimiters:a},n),o);s.render=bn(e,l)}}t.render=s.render||r.dG,wn&&wn(t)}vn(t),(0,n.Jd)(),pe(t),(0,n.lk)(),yn()}function _n(t){return new Proxy(t.attrs,{get(e,i){return(0,n.j)(t,"get","$attrs"),e[i]}})}function Pn(t){const e=e=>{t.exposed=e||{}};let i;return{get attrs(){return i||(i=_n(t))},slots:t.slots,emit:t.emit,expose:e}}function Ln(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy((0,n.WL)((0,n.Xl)(t.exposed)),{get(e,i){return i in e?e[i]:i in cn?cn[i](t):void 0}}))}const Rn=/(?:^|[-_])(\w)/g,On=t=>t.replace(Rn,(t=>t.toUpperCase())).replace(/[-_]/g,"");function Nn(t){return(0,r.mf)(t)&&t.displayName||t.name}function Mn(t,e,i=!1){let n=Nn(e);if(!n&&e.__file){const t=e.__file.match(/([^/\\]+)\.\w+$/);t&&(n=t[1])}if(!n&&t&&t.parent){const i=t=>{for(const i in t)if(t[i]===e)return i};n=i(t.components||t.parent.type.components)||i(t.appContext.components)}return n?On(n):i?"App":"Anonymous"}function Dn(t){return(0,r.mf)(t)&&"__vccOpts"in t}const Fn=(t,e)=>(0,n.Fl)(t,e,kn);function zn(){return null}function Vn(){return null}function Hn(t){0}function Xn(t,e){return null}function Bn(){return Un().slots}function Yn(){return Un().attrs}function Un(){const t=mn();return t.setupContext||(t.setupContext=Pn(t))}function Wn(t,e){const i=(0,r.kJ)(t)?t.reduce(((t,e)=>(t[e]={},t)),{}):t;for(const n in e){const t=i[n];t?(0,r.kJ)(t)||(0,r.mf)(t)?i[n]={type:t,default:e[n]}:t.default=e[n]:null===t&&(i[n]={default:e[n]})}return i}function jn(t,e){const i={};for(const n in t)e.includes(n)||Object.defineProperty(i,n,{enumerable:!0,get:()=>t[n]});return i}function Gn(t){const e=mn();let i=t();return yn(),(0,r.tI)(i)&&(i=i.catch((t=>{throw vn(e),t}))),[i,()=>vn(e)]}function qn(t,e,i){const n=arguments.length;return 2===n?(0,r.Kn)(e)&&!(0,r.kJ)(e)?Fi(e)?Ui(t,null,[e]):Ui(t,e):Ui(t,null,e):(n>3?i=Array.prototype.slice.call(arguments,2):3===n&&Fi(i)&&(i=[i]),Ui(t,e,i))}const $n=Symbol(""),Kn=()=>{{const t=wt($n);return t||a("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),t}};function Jn(){return void 0}function Zn(t,e,i,n){const r=i[n];if(r&&Qn(r,t))return r;const s=e();return s.memo=t.slice(),i[n]=s}function Qn(t,e){const i=t.memo;if(i.length!=e.length)return!1;for(let n=0;n<i.length;n++)if(i[n]!==e[n])return!1;return Ri>0&&Ti&&Ti.push(t),!0}const tr="3.2.31",er={createComponentInstance:pn,setupComponent:An,renderComponentRoot:et,setCurrentRenderingInstance:K,isVNode:Fi,normalizeVNode:Ji},ir=er,nr=null,rr=null},9242:function(t,e,i){"use strict";i.d(e,{P$:function(){return r.P$},sv:function(){return r.sv},Bj:function(){return r.Bj},HY:function(){return r.HY},Ob:function(){return r.Ob},qq:function(){return r.qq},qG:function(){return r.qG},n4:function(){return r.n4},lR:function(){return r.lR},xv:function(){return r.xv},$d:function(){return r.$d},KU:function(){return r.KU},_A:function(){return r._A},kC:function(){return r.kC},Ho:function(){return r.Ho},ry:function(){return r.ry},Fl:function(){return r.Fl},j4:function(){return r.j4},kq:function(){return r.kq},iD:function(){return r.iD},_:function(){return r._},Eo:function(){return r.Eo},p1:function(){return r.p1},Us:function(){return r.Us},Nv:function(){return r.Nv},uE:function(){return r.uE},Uk:function(){return r.Uk},Wm:function(){return r.Wm},ZM:function(){return r.ZM},RC:function(){return r.RC},aZ:function(){return r.aZ},Bz:function(){return r.Bz},WY:function(){return r.WY},yb:function(){return r.MW},mW:function(){return r.mW},cE:function(){return r.cE},B:function(){return r.B},FN:function(){return r.FN},nZ:function(){return r.nZ},Q6:function(){return r.Q6},F4:function(){return r.F4},h:function(){return r.h},S3:function(){return r.S3},Mr:function(){return r.Mr},f3:function(){return r.f3},nQ:function(){return r.nQ},X3:function(){return r.X3},PG:function(){return r.PG},$y:function(){return r.$y},dq:function(){return r.dq},of:function(){return r.of},yT:function(){return r.yT},lA:function(){return r.lA},Xl:function(){return r.Xl},u_:function(){return r.u_},dG:function(){return r.dG},Y3:function(){return r.Y3},C_:function(){return r.C_},vs:function(){return r.vs},j5:function(){return r.j5},dl:function(){return r.dl},wF:function(){return r.wF},Jd:function(){return r.Jd},Xn:function(){return r.Xn},se:function(){return r.se},d1:function(){return r.d1},bv:function(){return r.bv},bT:function(){return r.bT},Yq:function(){return r.Yq},EB:function(){return r.EB},vl:function(){return r.vl},SK:function(){return r.Ah},ic:function(){return r.ic},wg:function(){return r.wg},Cn:function(){return r.Cn},JJ:function(){return r.JJ},WL:function(){return r.WL},dD:function(){return r.dD},qb:function(){return r.qb},qj:function(){return r.qj},OT:function(){return r.OT},iH:function(){return r.iH},Y1:function(){return r.Y1},Ko:function(){return r.Ko},WI:function(){return r.WI},up:function(){return r.up},Q2:function(){return r.Q2},LL:function(){return r.LL},eq:function(){return r.eq},U2:function(){return r.U2},qZ:function(){return r.qZ},ec:function(){return r.ec},nK:function(){return r.nK},Um:function(){return r.Um},YS:function(){return r.YS},XI:function(){return r.XI},Uc:function(){return r.Uc},G:function(){return r.G},sT:function(){return r.sT},zw:function(){return r.zw},hR:function(){return r.hR},mx:function(){return r.mx},IU:function(){return r.IU},Vh:function(){return r.Vh},BK:function(){return r.BK},C3:function(){return r.C3},oR:function(){return r.oR},SU:function(){return r.SU},l1:function(){return r.l1},Zq:function(){return r.Zq},Rr:function(){return r.Rr},Y8:function(){return r.Y8},i8:function(){return r.i8},ZK:function(){return r.ZK},YP:function(){return r.YP},m0:function(){return r.m0},Rh:function(){return r.Rh},yX:function(){return r.yX},mv:function(){return r.mv},w5:function(){return r.w5},b9:function(){return r.b9},wy:function(){return r.wy},MX:function(){return r.MX},HX:function(){return r.HX},uT:function(){return j},W3:function(){return dt},a2:function(){return V},ri:function(){return Gt},vr:function(){return qt},MW:function(){return D},Ah:function(){return F},ZB:function(){return jt},Nd:function(){return Jt},sY:function(){return Wt},fb:function(){return H},sj:function(){return X},e8:function(){return kt},YZ:function(){return _t},G2:function(){return St},bM:function(){return Ct},nr:function(){return wt},F8:function(){return Ft},D2:function(){return Dt},iM:function(){return Nt}});var n=i(7139),r=i(3396),s=i(4870);const a="http://www.w3.org/2000/svg",o="undefined"!==typeof document?document:null,l=o&&o.createElement("template"),c={insert:(t,e,i)=>{e.insertBefore(t,i||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,i,n)=>{const r=e?o.createElementNS(a,t):o.createElement(t,i?{is:i}:void 0);return"select"===t&&n&&null!=n.multiple&&r.setAttribute("multiple",n.multiple),r},createText:t=>o.createTextNode(t),createComment:t=>o.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>o.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},cloneNode(t){const e=t.cloneNode(!0);return"_value"in t&&(e._value=t._value),e},insertStaticContent(t,e,i,n,r,s){const a=i?i.previousSibling:e.lastChild;if(r&&(r===s||r.nextSibling)){while(1)if(e.insertBefore(r.cloneNode(!0),i),r===s||!(r=r.nextSibling))break}else{l.innerHTML=n?`<svg>${t}</svg>`:t;const r=l.content;if(n){const t=r.firstChild;while(t.firstChild)r.appendChild(t.firstChild);r.removeChild(t)}e.insertBefore(r,i)}return[a?a.nextSibling:e.firstChild,i?i.previousSibling:e.lastChild]}};function h(t,e,i){const n=t._vtc;n&&(e=(e?[e,...n]:[...n]).join(" ")),null==e?t.removeAttribute("class"):i?t.setAttribute("class",e):t.className=e}function u(t,e,i){const r=t.style,s=(0,n.HD)(i);if(i&&!s){for(const t in i)f(r,t,i[t]);if(e&&!(0,n.HD)(e))for(const t in e)null==i[t]&&f(r,t,"")}else{const n=r.display;s?e!==i&&(r.cssText=i):e&&t.removeAttribute("style"),"_vod"in t&&(r.display=n)}}const d=/\s*!important$/;function f(t,e,i){if((0,n.kJ)(i))i.forEach((i=>f(t,e,i)));else if(e.startsWith("--"))t.setProperty(e,i);else{const r=m(t,e);d.test(i)?t.setProperty((0,n.rs)(r),i.replace(d,""),"important"):t[r]=i}}const p=["Webkit","Moz","ms"],g={};function m(t,e){const i=g[e];if(i)return i;let r=(0,n._A)(e);if("filter"!==r&&r in t)return g[e]=r;r=(0,n.kC)(r);for(let n=0;n<p.length;n++){const i=p[n]+r;if(i in t)return g[e]=i}return e}const v="http://www.w3.org/1999/xlink";function y(t,e,i,r,s){if(r&&e.startsWith("xlink:"))null==i?t.removeAttributeNS(v,e.slice(6,e.length)):t.setAttributeNS(v,e,i);else{const r=(0,n.Pq)(e);null==i||r&&!(0,n.yA)(i)?t.removeAttribute(e):t.setAttribute(e,r?"":i)}}function x(t,e,i,r,s,a,o){if("innerHTML"===e||"textContent"===e)return r&&o(r,s,a),void(t[e]=null==i?"":i);if("value"===e&&"PROGRESS"!==t.tagName&&!t.tagName.includes("-")){t._value=i;const n=null==i?"":i;return t.value===n&&"OPTION"!==t.tagName||(t.value=n),void(null==i&&t.removeAttribute(e))}if(""===i||null==i){const r=typeof t[e];if("boolean"===r)return void(t[e]=(0,n.yA)(i));if(null==i&&"string"===r)return t[e]="",void t.removeAttribute(e);if("number"===r){try{t[e]=0}catch(l){}return void t.removeAttribute(e)}}try{t[e]=i}catch(c){0}}let b=Date.now,w=!1;if("undefined"!==typeof window){b()>document.createEvent("Event").timeStamp&&(b=()=>performance.now());const t=navigator.userAgent.match(/firefox\/(\d+)/i);w=!!(t&&Number(t[1])<=53)}let k=0;const A=Promise.resolve(),S=()=>{k=0},C=()=>k||(A.then(S),k=b());function E(t,e,i,n){t.addEventListener(e,i,n)}function I(t,e,i,n){t.removeEventListener(e,i,n)}function T(t,e,i,n,r=null){const s=t._vei||(t._vei={}),a=s[e];if(n&&a)a.value=n;else{const[i,o]=P(e);if(n){const a=s[e]=L(n,r);E(t,i,a,o)}else a&&(I(t,i,a,o),s[e]=void 0)}}const _=/(?:Once|Passive|Capture)$/;function P(t){let e;if(_.test(t)){let i;e={};while(i=t.match(_))t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[(0,n.rs)(t.slice(2)),e]}function L(t,e){const i=t=>{const n=t.timeStamp||b();(w||n>=i.attached-1)&&(0,r.$d)(R(t,i.value),e,5,[t])};return i.value=t,i.attached=C(),i}function R(t,e){if((0,n.kJ)(e)){const i=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{i.call(t),t._stopped=!0},e.map((t=>e=>!e._stopped&&t&&t(e)))}return e}const O=/^on[a-z]/,N=(t,e,i,r,s=!1,a,o,l,c)=>{"class"===e?h(t,r,s):"style"===e?u(t,i,r):(0,n.F7)(e)?(0,n.tR)(e)||T(t,e,i,r,o):("."===e[0]?(e=e.slice(1),1):"^"===e[0]?(e=e.slice(1),0):M(t,e,r,s))?x(t,e,r,a,o,l,c):("true-value"===e?t._trueValue=r:"false-value"===e&&(t._falseValue=r),y(t,e,r,s))};function M(t,e,i,r){return r?"innerHTML"===e||"textContent"===e||!!(e in t&&O.test(e)&&(0,n.mf)(i)):"spellcheck"!==e&&"draggable"!==e&&("form"!==e&&(("list"!==e||"INPUT"!==t.tagName)&&(("type"!==e||"TEXTAREA"!==t.tagName)&&((!O.test(e)||!(0,n.HD)(i))&&e in t))))}function D(t,e){const i=(0,r.aZ)(t);class n extends V{constructor(t){super(i,t,e)}}return n.def=i,n}const F=t=>D(t,jt),z="undefined"!==typeof HTMLElement?HTMLElement:class{};class V extends z{constructor(t,e={},i){super(),this._def=t,this._props=e,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&i?i(this._createVNode(),this.shadowRoot):this.attachShadow({mode:"open"})}connectedCallback(){this._connected=!0,this._instance||this._resolveDef()}disconnectedCallback(){this._connected=!1,(0,r.Y3)((()=>{this._connected||(Wt(null,this.shadowRoot),this._instance=null)}))}_resolveDef(){if(this._resolved)return;this._resolved=!0;for(let i=0;i<this.attributes.length;i++)this._setAttr(this.attributes[i].name);new MutationObserver((t=>{for(const e of t)this._setAttr(e.attributeName)})).observe(this,{attributes:!0});const t=t=>{const{props:e,styles:i}=t,r=!(0,n.kJ)(e),s=e?r?Object.keys(e):e:[];let a;if(r)for(const o in this._props){const t=e[o];(t===Number||t&&t.type===Number)&&(this._props[o]=(0,n.He)(this._props[o]),(a||(a=Object.create(null)))[o]=!0)}this._numberProps=a;for(const n of Object.keys(this))"_"!==n[0]&&this._setProp(n,this[n],!0,!1);for(const o of s.map(n._A))Object.defineProperty(this,o,{get(){return this._getProp(o)},set(t){this._setProp(o,t)}});this._applyStyles(i),this._update()},e=this._def.__asyncLoader;e?e().then(t):t(this._def)}_setAttr(t){let e=this.getAttribute(t);this._numberProps&&this._numberProps[t]&&(e=(0,n.He)(e)),this._setProp((0,n._A)(t),e,!1)}_getProp(t){return this._props[t]}_setProp(t,e,i=!0,r=!0){e!==this._props[t]&&(this._props[t]=e,r&&this._instance&&this._update(),i&&(!0===e?this.setAttribute((0,n.rs)(t),""):"string"===typeof e||"number"===typeof e?this.setAttribute((0,n.rs)(t),e+""):e||this.removeAttribute((0,n.rs)(t))))}_update(){Wt(this._createVNode(),this.shadowRoot)}_createVNode(){const t=(0,r.Wm)(this._def,(0,n.l7)({},this._props));return this._instance||(t.ce=t=>{this._instance=t,t.isCE=!0,t.emit=(t,...e)=>{this.dispatchEvent(new CustomEvent(t,{detail:e}))};let e=this;while(e=e&&(e.parentNode||e.host))if(e instanceof V){t.parent=e._instance;break}}),t}_applyStyles(t){t&&t.forEach((t=>{const e=document.createElement("style");e.textContent=t,this.shadowRoot.appendChild(e)}))}}function H(t="$style"){{const e=(0,r.FN)();if(!e)return n.kT;const i=e.type.__cssModules;if(!i)return n.kT;const s=i[t];return s||n.kT}}function X(t){const e=(0,r.FN)();if(!e)return;const i=()=>B(e.subTree,t(e.proxy));(0,r.Rh)(i),(0,r.bv)((()=>{const t=new MutationObserver(i);t.observe(e.subTree.el.parentNode,{childList:!0}),(0,r.Ah)((()=>t.disconnect()))}))}function B(t,e){if(128&t.shapeFlag){const i=t.suspense;t=i.activeBranch,i.pendingBranch&&!i.isHydrating&&i.effects.push((()=>{B(i.activeBranch,e)}))}while(t.component)t=t.component.subTree;if(1&t.shapeFlag&&t.el)Y(t.el,e);else if(t.type===r.HY)t.children.forEach((t=>B(t,e)));else if(t.type===r.qG){let{el:i,anchor:n}=t;while(i){if(Y(i,e),i===n)break;i=i.nextSibling}}}function Y(t,e){if(1===t.nodeType){const i=t.style;for(const t in e)i.setProperty(`--${t}`,e[t])}}const U="transition",W="animation",j=(t,{slots:e})=>(0,r.h)(r.P$,J(t),e);j.displayName="Transition";const G={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},q=j.props=(0,n.l7)({},r.P$.props,G),$=(t,e=[])=>{(0,n.kJ)(t)?t.forEach((t=>t(...e))):t&&t(...e)},K=t=>!!t&&((0,n.kJ)(t)?t.some((t=>t.length>1)):t.length>1);function J(t){const e={};for(const n in t)n in G||(e[n]=t[n]);if(!1===t.css)return e;const{name:i="v",type:r,duration:s,enterFromClass:a=`${i}-enter-from`,enterActiveClass:o=`${i}-enter-active`,enterToClass:l=`${i}-enter-to`,appearFromClass:c=a,appearActiveClass:h=o,appearToClass:u=l,leaveFromClass:d=`${i}-leave-from`,leaveActiveClass:f=`${i}-leave-active`,leaveToClass:p=`${i}-leave-to`}=t,g=Z(s),m=g&&g[0],v=g&&g[1],{onBeforeEnter:y,onEnter:x,onEnterCancelled:b,onLeave:w,onLeaveCancelled:k,onBeforeAppear:A=y,onAppear:S=x,onAppearCancelled:C=b}=e,E=(t,e,i)=>{et(t,e?u:l),et(t,e?h:o),i&&i()},I=(t,e)=>{et(t,p),et(t,f),e&&e()},T=t=>(e,i)=>{const n=t?S:x,s=()=>E(e,t,i);$(n,[e,s]),it((()=>{et(e,t?c:a),tt(e,t?u:l),K(n)||rt(e,r,m,s)}))};return(0,n.l7)(e,{onBeforeEnter(t){$(y,[t]),tt(t,a),tt(t,o)},onBeforeAppear(t){$(A,[t]),tt(t,c),tt(t,h)},onEnter:T(!1),onAppear:T(!0),onLeave(t,e){const i=()=>I(t,e);tt(t,d),lt(),tt(t,f),it((()=>{et(t,d),tt(t,p),K(w)||rt(t,r,v,i)})),$(w,[t,i])},onEnterCancelled(t){E(t,!1),$(b,[t])},onAppearCancelled(t){E(t,!0),$(C,[t])},onLeaveCancelled(t){I(t),$(k,[t])}})}function Z(t){if(null==t)return null;if((0,n.Kn)(t))return[Q(t.enter),Q(t.leave)];{const e=Q(t);return[e,e]}}function Q(t){const e=(0,n.He)(t);return e}function tt(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.add(e))),(t._vtc||(t._vtc=new Set)).add(e)}function et(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.remove(e)));const{_vtc:i}=t;i&&(i.delete(e),i.size||(t._vtc=void 0))}function it(t){requestAnimationFrame((()=>{requestAnimationFrame(t)}))}let nt=0;function rt(t,e,i,n){const r=t._endId=++nt,s=()=>{r===t._endId&&n()};if(i)return setTimeout(s,i);const{type:a,timeout:o,propCount:l}=st(t,e);if(!a)return n();const c=a+"end";let h=0;const u=()=>{t.removeEventListener(c,d),s()},d=e=>{e.target===t&&++h>=l&&u()};setTimeout((()=>{h<l&&u()}),o+1),t.addEventListener(c,d)}function st(t,e){const i=window.getComputedStyle(t),n=t=>(i[t]||"").split(", "),r=n(U+"Delay"),s=n(U+"Duration"),a=at(r,s),o=n(W+"Delay"),l=n(W+"Duration"),c=at(o,l);let h=null,u=0,d=0;e===U?a>0&&(h=U,u=a,d=s.length):e===W?c>0&&(h=W,u=c,d=l.length):(u=Math.max(a,c),h=u>0?a>c?U:W:null,d=h?h===U?s.length:l.length:0);const f=h===U&&/\b(transform|all)(,|$)/.test(i[U+"Property"]);return{type:h,timeout:u,propCount:d,hasTransform:f}}function at(t,e){while(t.length<e.length)t=t.concat(t);return Math.max(...e.map(((e,i)=>ot(e)+ot(t[i]))))}function ot(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function lt(){return document.body.offsetHeight}const ct=new WeakMap,ht=new WeakMap,ut={name:"TransitionGroup",props:(0,n.l7)({},q,{tag:String,moveClass:String}),setup(t,{slots:e}){const i=(0,r.FN)(),n=(0,r.Y8)();let a,o;return(0,r.ic)((()=>{if(!a.length)return;const e=t.moveClass||`${t.name||"v"}-move`;if(!mt(a[0].el,i.vnode.el,e))return;a.forEach(ft),a.forEach(pt);const n=a.filter(gt);lt(),n.forEach((t=>{const i=t.el,n=i.style;tt(i,e),n.transform=n.webkitTransform=n.transitionDuration="";const r=i._moveCb=t=>{t&&t.target!==i||t&&!/transform$/.test(t.propertyName)||(i.removeEventListener("transitionend",r),i._moveCb=null,et(i,e))};i.addEventListener("transitionend",r)}))})),()=>{const l=(0,s.IU)(t),c=J(l);let h=l.tag||r.HY;a=o,o=e.default?(0,r.Q6)(e.default()):[];for(let t=0;t<o.length;t++){const e=o[t];null!=e.key&&(0,r.nK)(e,(0,r.U2)(e,c,n,i))}if(a)for(let t=0;t<a.length;t++){const e=a[t];(0,r.nK)(e,(0,r.U2)(e,c,n,i)),ct.set(e,e.el.getBoundingClientRect())}return(0,r.Wm)(h,null,o)}}},dt=ut;function ft(t){const e=t.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function pt(t){ht.set(t,t.el.getBoundingClientRect())}function gt(t){const e=ct.get(t),i=ht.get(t),n=e.left-i.left,r=e.top-i.top;if(n||r){const e=t.el.style;return e.transform=e.webkitTransform=`translate(${n}px,${r}px)`,e.transitionDuration="0s",t}}function mt(t,e,i){const n=t.cloneNode();t._vtc&&t._vtc.forEach((t=>{t.split(/\s+/).forEach((t=>t&&n.classList.remove(t)))})),i.split(/\s+/).forEach((t=>t&&n.classList.add(t))),n.style.display="none";const r=1===e.nodeType?e:e.parentNode;r.appendChild(n);const{hasTransform:s}=st(n);return r.removeChild(n),s}const vt=t=>{const e=t.props["onUpdate:modelValue"];return(0,n.kJ)(e)?t=>(0,n.ir)(e,t):e};function yt(t){t.target.composing=!0}function xt(t){const e=t.target;e.composing&&(e.composing=!1,bt(e,"input"))}function bt(t,e){const i=document.createEvent("HTMLEvents");i.initEvent(e,!0,!0),t.dispatchEvent(i)}const wt={created(t,{modifiers:{lazy:e,trim:i,number:r}},s){t._assign=vt(s);const a=r||s.props&&"number"===s.props.type;E(t,e?"change":"input",(e=>{if(e.target.composing)return;let r=t.value;i?r=r.trim():a&&(r=(0,n.He)(r)),t._assign(r)})),i&&E(t,"change",(()=>{t.value=t.value.trim()})),e||(E(t,"compositionstart",yt),E(t,"compositionend",xt),E(t,"change",xt))},mounted(t,{value:e}){t.value=null==e?"":e},beforeUpdate(t,{value:e,modifiers:{lazy:i,trim:r,number:s}},a){if(t._assign=vt(a),t.composing)return;if(document.activeElement===t){if(i)return;if(r&&t.value.trim()===e)return;if((s||"number"===t.type)&&(0,n.He)(t.value)===e)return}const o=null==e?"":e;t.value!==o&&(t.value=o)}},kt={deep:!0,created(t,e,i){t._assign=vt(i),E(t,"change",(()=>{const e=t._modelValue,i=It(t),r=t.checked,s=t._assign;if((0,n.kJ)(e)){const t=(0,n.hq)(e,i),a=-1!==t;if(r&&!a)s(e.concat(i));else if(!r&&a){const i=[...e];i.splice(t,1),s(i)}}else if((0,n.DM)(e)){const t=new Set(e);r?t.add(i):t.delete(i),s(t)}else s(Tt(t,r))}))},mounted:At,beforeUpdate(t,e,i){t._assign=vt(i),At(t,e,i)}};function At(t,{value:e,oldValue:i},r){t._modelValue=e,(0,n.kJ)(e)?t.checked=(0,n.hq)(e,r.props.value)>-1:(0,n.DM)(e)?t.checked=e.has(r.props.value):e!==i&&(t.checked=(0,n.WV)(e,Tt(t,!0)))}const St={created(t,{value:e},i){t.checked=(0,n.WV)(e,i.props.value),t._assign=vt(i),E(t,"change",(()=>{t._assign(It(t))}))},beforeUpdate(t,{value:e,oldValue:i},r){t._assign=vt(r),e!==i&&(t.checked=(0,n.WV)(e,r.props.value))}},Ct={deep:!0,created(t,{value:e,modifiers:{number:i}},r){const s=(0,n.DM)(e);E(t,"change",(()=>{const e=Array.prototype.filter.call(t.options,(t=>t.selected)).map((t=>i?(0,n.He)(It(t)):It(t)));t._assign(t.multiple?s?new Set(e):e:e[0])})),t._assign=vt(r)},mounted(t,{value:e}){Et(t,e)},beforeUpdate(t,e,i){t._assign=vt(i)},updated(t,{value:e}){Et(t,e)}};function Et(t,e){const i=t.multiple;if(!i||(0,n.kJ)(e)||(0,n.DM)(e)){for(let r=0,s=t.options.length;r<s;r++){const s=t.options[r],a=It(s);if(i)(0,n.kJ)(e)?s.selected=(0,n.hq)(e,a)>-1:s.selected=e.has(a);else if((0,n.WV)(It(s),e))return void(t.selectedIndex!==r&&(t.selectedIndex=r))}i||-1===t.selectedIndex||(t.selectedIndex=-1)}}function It(t){return"_value"in t?t._value:t.value}function Tt(t,e){const i=e?"_trueValue":"_falseValue";return i in t?t[i]:e}const _t={created(t,e,i){Pt(t,e,i,null,"created")},mounted(t,e,i){Pt(t,e,i,null,"mounted")},beforeUpdate(t,e,i,n){Pt(t,e,i,n,"beforeUpdate")},updated(t,e,i,n){Pt(t,e,i,n,"updated")}};function Pt(t,e,i,n,r){let s;switch(t.tagName){case"SELECT":s=Ct;break;case"TEXTAREA":s=wt;break;default:switch(i.props&&i.props.type){case"checkbox":s=kt;break;case"radio":s=St;break;default:s=wt}}const a=s[r];a&&a(t,e,i,n)}function Lt(){wt.getSSRProps=({value:t})=>({value:t}),St.getSSRProps=({value:t},e)=>{if(e.props&&(0,n.WV)(e.props.value,t))return{checked:!0}},kt.getSSRProps=({value:t},e)=>{if((0,n.kJ)(t)){if(e.props&&(0,n.hq)(t,e.props.value)>-1)return{checked:!0}}else if((0,n.DM)(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}}}const Rt=["ctrl","shift","alt","meta"],Ot={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&0!==t.button,middle:t=>"button"in t&&1!==t.button,right:t=>"button"in t&&2!==t.button,exact:(t,e)=>Rt.some((i=>t[`${i}Key`]&&!e.includes(i)))},Nt=(t,e)=>(i,...n)=>{for(let t=0;t<e.length;t++){const n=Ot[e[t]];if(n&&n(i,e))return}return t(i,...n)},Mt={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Dt=(t,e)=>i=>{if(!("key"in i))return;const r=(0,n.rs)(i.key);return e.some((t=>t===r||Mt[t]===r))?t(i):void 0},Ft={beforeMount(t,{value:e},{transition:i}){t._vod="none"===t.style.display?"":t.style.display,i&&e?i.beforeEnter(t):zt(t,e)},mounted(t,{value:e},{transition:i}){i&&e&&i.enter(t)},updated(t,{value:e,oldValue:i},{transition:n}){!e!==!i&&(n?e?(n.beforeEnter(t),zt(t,!0),n.enter(t)):n.leave(t,(()=>{zt(t,!1)})):zt(t,e))},beforeUnmount(t,{value:e}){zt(t,e)}};function zt(t,e){t.style.display=e?t._vod:"none"}function Vt(){Ft.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const Ht=(0,n.l7)({patchProp:N},c);let Xt,Bt=!1;function Yt(){return Xt||(Xt=(0,r.Us)(Ht))}function Ut(){return Xt=Bt?Xt:(0,r.Eo)(Ht),Bt=!0,Xt}const Wt=(...t)=>{Yt().render(...t)},jt=(...t)=>{Ut().hydrate(...t)},Gt=(...t)=>{const e=Yt().createApp(...t);const{mount:i}=e;return e.mount=t=>{const r=$t(t);if(!r)return;const s=e._component;(0,n.mf)(s)||s.render||s.template||(s.template=r.innerHTML),r.innerHTML="";const a=i(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),a},e},qt=(...t)=>{const e=Ut().createApp(...t);const{mount:i}=e;return e.mount=t=>{const e=$t(t);if(e)return i(e,!0,e instanceof SVGElement)},e};function $t(t){if((0,n.HD)(t)){const e=document.querySelector(t);return e}return t}let Kt=!1;const Jt=()=>{Kt||(Kt=!0,Lt(),Vt())}},7139:function(t,e,i){"use strict";function n(t,e){const i=Object.create(null),n=t.split(",");for(let r=0;r<n.length;r++)i[n[r]]=!0;return e?t=>!!i[t.toLowerCase()]:t=>!!i[t]}i.d(e,{Z6:function(){return w},kT:function(){return b},NO:function(){return A},dG:function(){return k},_A:function(){return q},kC:function(){return J},Nj:function(){return et},l7:function(){return I},E9:function(){return rt},aU:function(){return Q},RI:function(){return P},rs:function(){return K},yA:function(){return l},ir:function(){return tt},kJ:function(){return L},mf:function(){return M},e1:function(){return s},S0:function(){return U},_N:function(){return R},tR:function(){return E},Kn:function(){return z},F7:function(){return C},PO:function(){return Y},tI:function(){return V},Gg:function(){return W},DM:function(){return O},Pq:function(){return o},HD:function(){return D},yk:function(){return F},WV:function(){return m},hq:function(){return v},fY:function(){return n},C_:function(){return f},vs:function(){return p},j5:function(){return c},Od:function(){return T},zw:function(){return y},hR:function(){return Z},He:function(){return it},W7:function(){return B}});const r="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",s=n(r);const a="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",o=n(a);function l(t){return!!t||""===t}function c(t){if(L(t)){const e={};for(let i=0;i<t.length;i++){const n=t[i],r=D(n)?d(n):c(n);if(r)for(const t in r)e[t]=r[t]}return e}return D(t)||z(t)?t:void 0}const h=/;(?![^(]*\))/g,u=/:(.+)/;function d(t){const e={};return t.split(h).forEach((t=>{if(t){const i=t.split(u);i.length>1&&(e[i[0].trim()]=i[1].trim())}})),e}function f(t){let e="";if(D(t))e=t;else if(L(t))for(let i=0;i<t.length;i++){const n=f(t[i]);n&&(e+=n+" ")}else if(z(t))for(const i in t)t[i]&&(e+=i+" ");return e.trim()}function p(t){if(!t)return null;let{class:e,style:i}=t;return e&&!D(e)&&(t.class=f(e)),i&&(t.style=c(i)),t}function g(t,e){if(t.length!==e.length)return!1;let i=!0;for(let n=0;i&&n<t.length;n++)i=m(t[n],e[n]);return i}function m(t,e){if(t===e)return!0;let i=N(t),n=N(e);if(i||n)return!(!i||!n)&&t.getTime()===e.getTime();if(i=L(t),n=L(e),i||n)return!(!i||!n)&&g(t,e);if(i=z(t),n=z(e),i||n){if(!i||!n)return!1;const r=Object.keys(t).length,s=Object.keys(e).length;if(r!==s)return!1;for(const i in t){const n=t.hasOwnProperty(i),r=e.hasOwnProperty(i);if(n&&!r||!n&&r||!m(t[i],e[i]))return!1}}return String(t)===String(e)}function v(t,e){return t.findIndex((t=>m(t,e)))}const y=t=>D(t)?t:null==t?"":L(t)||z(t)&&(t.toString===H||!M(t.toString))?JSON.stringify(t,x,2):String(t),x=(t,e)=>e&&e.__v_isRef?x(t,e.value):R(e)?{[`Map(${e.size})`]:[...e.entries()].reduce(((t,[e,i])=>(t[`${e} =>`]=i,t)),{})}:O(e)?{[`Set(${e.size})`]:[...e.values()]}:!z(e)||L(e)||Y(e)?e:String(e),b={},w=[],k=()=>{},A=()=>!1,S=/^on[^a-z]/,C=t=>S.test(t),E=t=>t.startsWith("onUpdate:"),I=Object.assign,T=(t,e)=>{const i=t.indexOf(e);i>-1&&t.splice(i,1)},_=Object.prototype.hasOwnProperty,P=(t,e)=>_.call(t,e),L=Array.isArray,R=t=>"[object Map]"===X(t),O=t=>"[object Set]"===X(t),N=t=>t instanceof Date,M=t=>"function"===typeof t,D=t=>"string"===typeof t,F=t=>"symbol"===typeof t,z=t=>null!==t&&"object"===typeof t,V=t=>z(t)&&M(t.then)&&M(t.catch),H=Object.prototype.toString,X=t=>H.call(t),B=t=>X(t).slice(8,-1),Y=t=>"[object Object]"===X(t),U=t=>D(t)&&"NaN"!==t&&"-"!==t[0]&&""+parseInt(t,10)===t,W=n(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),j=t=>{const e=Object.create(null);return i=>{const n=e[i];return n||(e[i]=t(i))}},G=/-(\w)/g,q=j((t=>t.replace(G,((t,e)=>e?e.toUpperCase():"")))),$=/\B([A-Z])/g,K=j((t=>t.replace($,"-$1").toLowerCase())),J=j((t=>t.charAt(0).toUpperCase()+t.slice(1))),Z=j((t=>t?`on${J(t)}`:"")),Q=(t,e)=>!Object.is(t,e),tt=(t,e)=>{for(let i=0;i<t.length;i++)t[i](e)},et=(t,e,i)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:i})},it=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let nt;const rt=()=>nt||(nt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof i.g?i.g:{})},7069:function(t,e,i){"use strict";var n;
/*!
 * ApexCharts v3.33.2
 * (c) 2018-2022 ApexCharts
 * Released under the MIT License.
 */function r(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function s(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?r(Object(i),!0).forEach((function(e){h(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function c(t,e,i){return e&&l(t.prototype,e),i&&l(t,i),t}function h(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=d(t);if(e){var r=d(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return p(this,i)}}function m(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,r,s=[],a=!0,o=!1;try{for(i=i.call(t);!(a=(n=i.next()).done)&&(s.push(n.value),!e||s.length!==e);a=!0);}catch(t){o=!0,r=t}finally{try{a||null==i.return||i.return()}finally{if(o)throw r}}return s}}(t,e)||y(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t){return function(t){if(Array.isArray(t))return x(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||y(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(t,e){if(t){if("string"==typeof t)return x(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?x(t,e):void 0}}function x(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}i(1703),i(2262),i(4506);var b=function(){function t(){o(this,t)}return c(t,[{key:"shadeRGBColor",value:function(t,e){var i=e.split(","),n=t<0?0:255,r=t<0?-1*t:t,s=parseInt(i[0].slice(4),10),a=parseInt(i[1],10),o=parseInt(i[2],10);return"rgb("+(Math.round((n-s)*r)+s)+","+(Math.round((n-a)*r)+a)+","+(Math.round((n-o)*r)+o)+")"}},{key:"shadeHexColor",value:function(t,e){var i=parseInt(e.slice(1),16),n=t<0?0:255,r=t<0?-1*t:t,s=i>>16,a=i>>8&255,o=255&i;return"#"+(16777216+65536*(Math.round((n-s)*r)+s)+256*(Math.round((n-a)*r)+a)+(Math.round((n-o)*r)+o)).toString(16).slice(1)}},{key:"shadeColor",value:function(e,i){return t.isColorHex(i)?this.shadeHexColor(e,i):this.shadeRGBColor(e,i)}}],[{key:"bind",value:function(t,e){return function(){return t.apply(e,arguments)}}},{key:"isObject",value:function(t){return t&&"object"===a(t)&&!Array.isArray(t)&&null!=t}},{key:"is",value:function(t,e){return Object.prototype.toString.call(e)==="[object "+t+"]"}},{key:"listToArray",value:function(t){var e,i=[];for(e=0;e<t.length;e++)i[e]=t[e];return i}},{key:"extend",value:function(t,e){var i=this;"function"!=typeof Object.assign&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(null!=n)for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e});var n=Object.assign({},t);return this.isObject(t)&&this.isObject(e)&&Object.keys(e).forEach((function(r){i.isObject(e[r])&&r in t?n[r]=i.extend(t[r],e[r]):Object.assign(n,h({},r,e[r]))})),n}},{key:"extendArray",value:function(e,i){var n=[];return e.map((function(e){n.push(t.extend(i,e))})),n}},{key:"monthMod",value:function(t){return t%12}},{key:"clone",value:function(e){if(t.is("Array",e)){for(var i=[],n=0;n<e.length;n++)i[n]=this.clone(e[n]);return i}if(t.is("Null",e))return null;if(t.is("Date",e))return e;if("object"===a(e)){var r={};for(var s in e)e.hasOwnProperty(s)&&(r[s]=this.clone(e[s]));return r}return e}},{key:"log10",value:function(t){return Math.log(t)/Math.LN10}},{key:"roundToBase10",value:function(t){return Math.pow(10,Math.floor(Math.log10(t)))}},{key:"roundToBase",value:function(t,e){return Math.pow(e,Math.floor(Math.log(t)/Math.log(e)))}},{key:"parseNumber",value:function(t){return null===t?t:parseFloat(t)}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(t){var e=String(t).split(/[eE]/);if(1===e.length)return e[0];var i="",n=t<0?"-":"",r=e[0].replace(".",""),s=Number(e[1])+1;if(s<0){for(i=n+"0.";s++;)i+="0";return i+r.replace(/^-/,"")}for(s-=r.length;s--;)i+="0";return r+i}},{key:"getDimensions",value:function(t){var e=getComputedStyle(t,null),i=t.clientHeight,n=t.clientWidth;return i-=parseFloat(e.paddingTop)+parseFloat(e.paddingBottom),[n-=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight),i]}},{key:"getBoundingClientRect",value:function(t){var e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:t.clientWidth,height:t.clientHeight,x:e.left,y:e.top}}},{key:"getLargestStringFromArr",value:function(t){return t.reduce((function(t,e){return Array.isArray(e)&&(e=e.reduce((function(t,e){return t.length>e.length?t:e}))),t.length>e.length?t:e}),0)}},{key:"hexToRgba",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#999999",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.6;"#"!==t.substring(0,1)&&(t="#999999");var i=t.replace("#","");i=i.match(new RegExp("(.{"+i.length/3+"})","g"));for(var n=0;n<i.length;n++)i[n]=parseInt(1===i[n].length?i[n]+i[n]:i[n],16);return void 0!==e&&i.push(e),"rgba("+i.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(t){return parseFloat(t.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(t){return(t=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===t.length?"#"+("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(t)}},{key:"getPolygonPos",value:function(t,e){for(var i=[],n=2*Math.PI/e,r=0;r<e;r++){var s={};s.x=t*Math.sin(r*n),s.y=-t*Math.cos(r*n),i.push(s)}return i}},{key:"polarToCartesian",value:function(t,e,i,n){var r=(n-90)*Math.PI/180;return{x:t+i*Math.cos(r),y:e+i*Math.sin(r)}}},{key:"escapeString",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",i=t.toString().slice();return i.replace(/[` ~!@#$%^&*()_|+\-=?;:'",.<>{}[\]\\/]/gi,e)}},{key:"negToZero",value:function(t){return t<0?0:t}},{key:"moveIndexInArray",value:function(t,e,i){if(i>=t.length)for(var n=i-t.length+1;n--;)t.push(void 0);return t.splice(i,0,t.splice(e,1)[0]),t}},{key:"extractNumber",value:function(t){return parseFloat(t.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(t,e){for(;(t=t.parentElement)&&!t.classList.contains(e););return t}},{key:"setELstyles",value:function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t.style.key=e[i])}},{key:"isNumber",value:function(t){return!isNaN(t)&&parseFloat(Number(t))===t&&!isNaN(parseInt(t,10))}},{key:"isFloat",value:function(t){return Number(t)===t&&t%1!=0}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"isFirefox",value:function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}},{key:"isIE11",value:function(){if(-1!==window.navigator.userAgent.indexOf("MSIE")||window.navigator.appVersion.indexOf("Trident/")>-1)return!0}},{key:"isIE",value:function(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(t.indexOf("Trident/")>0){var i=t.indexOf("rv:");return parseInt(t.substring(i+3,t.indexOf(".",i)),10)}var n=t.indexOf("Edge/");return n>0&&parseInt(t.substring(n+5,t.indexOf(".",n)),10)}}]),t}(),w=function(){function t(e){o(this,t),this.ctx=e,this.w=e.w,this.setEasingFunctions()}return c(t,[{key:"setEasingFunctions",value:function(){var t;if(!this.w.globals.easing){switch(this.w.config.chart.animations.easing){case"linear":t="-";break;case"easein":t="<";break;case"easeout":t=">";break;case"easeinout":t="<>";break;case"swing":t=function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1};break;case"bounce":t=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375};break;case"elastic":t=function(t){return t===!!t?t:Math.pow(2,-10*t)*Math.sin((t-.075)*(2*Math.PI)/.3)+1};break;default:t="<>"}this.w.globals.easing=t}}},{key:"animateLine",value:function(t,e,i,n){t.attr(e).animate(n).attr(i)}},{key:"animateMarker",value:function(t,e,i,n,r,s){e||(e=0),t.attr({r:e,width:e,height:e}).animate(n,r).attr({r:i,width:i.width,height:i.height}).afterAll((function(){s()}))}},{key:"animateCircle",value:function(t,e,i,n,r){t.attr({r:e.r,cx:e.cx,cy:e.cy}).animate(n,r).attr({r:i.r,cx:i.cx,cy:i.cy})}},{key:"animateRect",value:function(t,e,i,n,r){t.attr(e).animate(n).attr(i).afterAll((function(){return r()}))}},{key:"animatePathsGradually",value:function(t){var e=t.el,i=t.realIndex,n=t.j,r=t.fill,s=t.pathFrom,a=t.pathTo,o=t.speed,l=t.delay,c=this.w,h=0;c.config.chart.animations.animateGradually.enabled&&(h=c.config.chart.animations.animateGradually.delay),c.config.chart.animations.dynamicAnimation.enabled&&c.globals.dataChanged&&"bar"!==c.config.chart.type&&(h=0),this.morphSVG(e,i,n,"line"!==c.config.chart.type||c.globals.comboCharts?r:"stroke",s,a,o,l*h)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach((function(t){t.el.classList.remove("apexcharts-element-hidden")}))}},{key:"animationCompleted",value:function(t){var e=this.w;e.globals.animationEnded||(e.globals.animationEnded=!0,this.showDelayedElements(),"function"==typeof e.config.chart.events.animationEnd&&e.config.chart.events.animationEnd(this.ctx,{el:t,w:e}))}},{key:"morphSVG",value:function(t,e,i,n,r,s,a,o){var l=this,c=this.w;r||(r=t.attr("pathFrom")),s||(s=t.attr("pathTo"));var h=function(t){return"radar"===c.config.chart.type&&(a=1),"M 0 ".concat(c.globals.gridHeight)};(!r||r.indexOf("undefined")>-1||r.indexOf("NaN")>-1)&&(r=h()),(!s||s.indexOf("undefined")>-1||s.indexOf("NaN")>-1)&&(s=h()),c.globals.shouldAnimate||(a=1),t.plot(r).animate(1,c.globals.easing,o).plot(r).animate(a,c.globals.easing,o).plot(s).afterAll((function(){b.isNumber(i)?i===c.globals.series[c.globals.maxValsInArrayIndex].length-2&&c.globals.shouldAnimate&&l.animationCompleted(t):"none"!==n&&c.globals.shouldAnimate&&(!c.globals.comboCharts&&e===c.globals.series.length-1||c.globals.comboCharts)&&l.animationCompleted(t),l.showDelayedElements()}))}}]),t}(),k=function(){function t(e){o(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"getDefaultFilter",value:function(t,e){var i=this.w;t.unfilter(!0),(new window.SVG.Filter).size("120%","180%","-5%","-40%"),"none"!==i.config.states.normal.filter?this.applyFilter(t,e,i.config.states.normal.filter.type,i.config.states.normal.filter.value):i.config.chart.dropShadow.enabled&&this.dropShadow(t,i.config.chart.dropShadow,e)}},{key:"addNormalFilter",value:function(t,e){var i=this.w;i.config.chart.dropShadow.enabled&&!t.node.classList.contains("apexcharts-marker")&&this.dropShadow(t,i.config.chart.dropShadow,e)}},{key:"addLightenFilter",value:function(t,e,i){var n=this,r=this.w,s=i.intensity;t.unfilter(!0),new window.SVG.Filter,t.filter((function(t){var i=r.config.chart.dropShadow;(i.enabled?n.addShadow(t,e,i):t).componentTransfer({rgb:{type:"linear",slope:1.5,intercept:s}})})),t.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(t.filterer.node)}},{key:"addDarkenFilter",value:function(t,e,i){var n=this,r=this.w,s=i.intensity;t.unfilter(!0),new window.SVG.Filter,t.filter((function(t){var i=r.config.chart.dropShadow;(i.enabled?n.addShadow(t,e,i):t).componentTransfer({rgb:{type:"linear",slope:s}})})),t.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(t.filterer.node)}},{key:"applyFilter",value:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;switch(i){case"none":this.addNormalFilter(t,e);break;case"lighten":this.addLightenFilter(t,e,{intensity:n});break;case"darken":this.addDarkenFilter(t,e,{intensity:n})}}},{key:"addShadow",value:function(t,e,i){var n=i.blur,r=i.top,s=i.left,a=i.color,o=i.opacity,l=t.flood(Array.isArray(a)?a[e]:a,o).composite(t.sourceAlpha,"in").offset(s,r).gaussianBlur(n).merge(t.source);return t.blend(t.source,l)}},{key:"dropShadow",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=e.top,r=e.left,s=e.blur,a=e.color,o=e.opacity,l=e.noUserSpaceOnUse,c=this.w;return t.unfilter(!0),b.isIE()&&"radialBar"===c.config.chart.type||(a=Array.isArray(a)?a[i]:a,t.filter((function(t){var e=null;e=b.isSafari()||b.isFirefox()||b.isIE()?t.flood(a,o).composite(t.sourceAlpha,"in").offset(r,n).gaussianBlur(s):t.flood(a,o).composite(t.sourceAlpha,"in").offset(r,n).gaussianBlur(s).merge(t.source),t.blend(t.source,e)})),l||t.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(t.filterer.node)),t}},{key:"setSelectionFilter",value:function(t,e,i){var n=this.w;if(void 0!==n.globals.selectedDataPoints[e]&&n.globals.selectedDataPoints[e].indexOf(i)>-1){t.node.setAttribute("selected",!0);var r=n.config.states.active.filter;"none"!==r&&this.applyFilter(t,e,r.type,r.value)}}},{key:"_scaleFilterSize",value:function(t){!function(e){for(var i in e)e.hasOwnProperty(i)&&t.setAttribute(i,e[i])}({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),t}(),A=function(){function t(e){o(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"drawLine",value:function(t,e,i,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#a8a8a8",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"butt",l=this.w,c=l.globals.dom.Paper.line().attr({x1:t,y1:e,x2:i,y2:n,stroke:r,"stroke-dasharray":s,"stroke-width":a,"stroke-linecap":o});return c}},{key:"drawRect",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"#fefefe",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,h=this.w,u=h.globals.dom.Paper.rect();return u.attr({x:t,y:e,width:i>0?i:0,height:n>0?n:0,rx:r,ry:r,opacity:a,"stroke-width":null!==o?o:0,stroke:null!==l?l:"none","stroke-dasharray":c}),u.node.setAttribute("fill",s),u}},{key:"drawPolygon",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#e1e1e1",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none",r=this.w,s=r.globals.dom.Paper.polygon(t).attr({fill:n,stroke:e,"stroke-width":i});return s}},{key:"drawCircle",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=this.w;t<0&&(t=0);var n=i.globals.dom.Paper.circle(2*t);return null!==e&&n.attr(e),n}},{key:"drawPath",value:function(t){var e=t.d,i=void 0===e?"":e,n=t.stroke,r=void 0===n?"#a8a8a8":n,s=t.strokeWidth,a=void 0===s?1:s,o=t.fill,l=t.fillOpacity,c=void 0===l?1:l,h=t.strokeOpacity,u=void 0===h?1:h,d=t.classes,f=t.strokeLinecap,p=void 0===f?null:f,g=t.strokeDashArray,m=void 0===g?0:g,v=this.w;return null===p&&(p=v.config.stroke.lineCap),(i.indexOf("undefined")>-1||i.indexOf("NaN")>-1)&&(i="M 0 ".concat(v.globals.gridHeight)),v.globals.dom.Paper.path(i).attr({fill:o,"fill-opacity":c,stroke:r,"stroke-opacity":u,"stroke-linecap":p,"stroke-width":a,"stroke-dasharray":m,class:d})}},{key:"group",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.w,i=e.globals.dom.Paper.group();return null!==t&&i.attr(t),i}},{key:"move",value:function(t,e){var i=["M",t,e].join(" ");return i}},{key:"line",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=null;return null===i?n=["L",t,e].join(" "):"H"===i?n=["H",t].join(" "):"V"===i&&(n=["V",e].join(" ")),n}},{key:"curve",value:function(t,e,i,n,r,s){var a=["C",t,e,i,n,r,s].join(" ");return a}},{key:"quadraticCurve",value:function(t,e,i,n){return["Q",t,e,i,n].join(" ")}},{key:"arc",value:function(t,e,i,n,r,s,a){var o=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l="A";o&&(l="a");var c=[l,t,e,i,n,r,s,a].join(" ");return c}},{key:"renderPaths",value:function(t){var e,i=t.j,n=t.realIndex,r=t.pathFrom,a=t.pathTo,o=t.stroke,l=t.strokeWidth,c=t.strokeLinecap,h=t.fill,u=t.animationDelay,d=t.initialSpeed,f=t.dataChangeSpeed,p=t.className,g=t.shouldClipToGrid,m=void 0===g||g,v=t.bindEventsOnPaths,y=void 0===v||v,x=t.drawShadow,b=void 0===x||x,A=this.w,S=new k(this.ctx),C=new w(this.ctx),E=this.w.config.chart.animations.enabled,I=E&&this.w.config.chart.animations.dynamicAnimation.enabled,T=!!(E&&!A.globals.resized||I&&A.globals.dataChanged&&A.globals.shouldAnimate);T?e=r:(e=a,A.globals.animationEnded=!0);var _=A.config.stroke.dashArray,P=0;P=Array.isArray(_)?_[n]:A.config.stroke.dashArray;var L=this.drawPath({d:e,stroke:o,strokeWidth:l,fill:h,fillOpacity:1,classes:p,strokeLinecap:c,strokeDashArray:P});if(L.attr("index",n),m&&L.attr({"clip-path":"url(#gridRectMask".concat(A.globals.cuid,")")}),"none"!==A.config.states.normal.filter.type)S.getDefaultFilter(L,n);else if(A.config.chart.dropShadow.enabled&&b&&(!A.config.chart.dropShadow.enabledOnSeries||A.config.chart.dropShadow.enabledOnSeries&&-1!==A.config.chart.dropShadow.enabledOnSeries.indexOf(n))){var R=A.config.chart.dropShadow;S.dropShadow(L,R,n)}y&&(L.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,L)),L.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,L)),L.node.addEventListener("mousedown",this.pathMouseDown.bind(this,L))),L.attr({pathTo:a,pathFrom:r});var O={el:L,j:i,realIndex:n,pathFrom:r,pathTo:a,fill:h,strokeWidth:l,delay:u};return!E||A.globals.resized||A.globals.dataChanged?!A.globals.resized&&A.globals.dataChanged||C.showDelayedElements():C.animatePathsGradually(s(s({},O),{},{speed:d})),A.globals.dataChanged&&I&&T&&C.animatePathsGradually(s(s({},O),{},{speed:f})),L}},{key:"drawPattern",value:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#a8a8a8",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=this.w,a=s.globals.dom.Paper.pattern(e,i,(function(s){"horizontalLines"===t?s.line(0,0,i,0).stroke({color:n,width:r+1}):"verticalLines"===t?s.line(0,0,0,e).stroke({color:n,width:r+1}):"slantedLines"===t?s.line(0,0,e,i).stroke({color:n,width:r}):"squares"===t?s.rect(e,i).fill("none").stroke({color:n,width:r}):"circles"===t&&s.circle(e).fill("none").stroke({color:n,width:r})}));return a}},{key:"drawGradient",value:function(t,e,i,n,r){var s,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,h=this.w;e.length<9&&0===e.indexOf("#")&&(e=b.hexToRgba(e,n)),i.length<9&&0===i.indexOf("#")&&(i=b.hexToRgba(i,r));var u=0,d=1,f=1,p=null;null!==o&&(u=void 0!==o[0]?o[0]/100:0,d=void 0!==o[1]?o[1]/100:1,f=void 0!==o[2]?o[2]/100:1,p=void 0!==o[3]?o[3]/100:null);var g=!("donut"!==h.config.chart.type&&"pie"!==h.config.chart.type&&"polarArea"!==h.config.chart.type&&"bubble"!==h.config.chart.type);if(s=null===l||0===l.length?h.globals.dom.Paper.gradient(g?"radial":"linear",(function(t){t.at(u,e,n),t.at(d,i,r),t.at(f,i,r),null!==p&&t.at(p,e,n)})):h.globals.dom.Paper.gradient(g?"radial":"linear",(function(t){(Array.isArray(l[c])?l[c]:l).forEach((function(e){t.at(e.offset/100,e.color,e.opacity)}))})),g){var m=h.globals.gridWidth/2,v=h.globals.gridHeight/2;"bubble"!==h.config.chart.type?s.attr({gradientUnits:"userSpaceOnUse",cx:m,cy:v,r:a}):s.attr({cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else"vertical"===t?s.from(0,0).to(0,1):"diagonal"===t?s.from(0,0).to(1,1):"horizontal"===t?s.from(0,1).to(1,1):"diagonal2"===t&&s.from(1,0).to(0,1);return s}},{key:"drawText",value:function(t){var e,i=t.x,n=t.y,r=t.text,s=t.textAnchor,a=t.fontSize,o=t.fontFamily,l=t.fontWeight,c=t.foreColor,h=t.opacity,u=t.cssClass,d=void 0===u?"":u,f=t.isPlainText,p=void 0===f||f,g=this.w;return void 0===r&&(r=""),s||(s="start"),c&&c.length||(c=g.config.chart.foreColor),o=o||g.config.chart.fontFamily,l=l||"regular",(e=Array.isArray(r)?g.globals.dom.Paper.text((function(t){for(var e=0;e<r.length;e++)0===e?t.tspan(r[e]):t.tspan(r[e]).newLine()})):p?g.globals.dom.Paper.plain(r):g.globals.dom.Paper.text((function(t){return t.tspan(r)}))).attr({x:i,y:n,"text-anchor":s,"dominant-baseline":"auto","font-size":a,"font-family":o,"font-weight":l,fill:c,class:"apexcharts-text "+d}),e.node.style.fontFamily=o,e.node.style.opacity=h,e}},{key:"drawMarker",value:function(t,e,i){t=t||0;var n=i.pSize||0,r=null;if("square"===i.shape||"rect"===i.shape){var s=void 0===i.pRadius?n/2:i.pRadius;null!==e&&n||(n=0,s=0);var a=1.2*n+s,o=this.drawRect(a,a,a,a,s);o.attr({x:t-a/2,y:e-a/2,cx:t,cy:e,class:i.class?i.class:"",fill:i.pointFillColor,"fill-opacity":i.pointFillOpacity?i.pointFillOpacity:1,stroke:i.pointStrokeColor,"stroke-width":i.pointStrokeWidth?i.pointStrokeWidth:0,"stroke-opacity":i.pointStrokeOpacity?i.pointStrokeOpacity:1}),r=o}else"circle"!==i.shape&&i.shape||(b.isNumber(e)||(n=0,e=0),r=this.drawCircle(n,{cx:t,cy:e,class:i.class?i.class:"",stroke:i.pointStrokeColor,fill:i.pointFillColor,"fill-opacity":i.pointFillOpacity?i.pointFillOpacity:1,"stroke-width":i.pointStrokeWidth?i.pointStrokeWidth:0,"stroke-opacity":i.pointStrokeOpacity?i.pointStrokeOpacity:1}));return r}},{key:"pathMouseEnter",value:function(t,e){var i=this.w,n=new k(this.ctx),r=parseInt(t.node.getAttribute("index"),10),s=parseInt(t.node.getAttribute("j"),10);if("function"==typeof i.config.chart.events.dataPointMouseEnter&&i.config.chart.events.dataPointMouseEnter(e,this.ctx,{seriesIndex:r,dataPointIndex:s,w:i}),this.ctx.events.fireEvent("dataPointMouseEnter",[e,this.ctx,{seriesIndex:r,dataPointIndex:s,w:i}]),("none"===i.config.states.active.filter.type||"true"!==t.node.getAttribute("selected"))&&"none"!==i.config.states.hover.filter.type&&!i.globals.isTouchDevice){var a=i.config.states.hover.filter;n.applyFilter(t,r,a.type,a.value)}}},{key:"pathMouseLeave",value:function(t,e){var i=this.w,n=new k(this.ctx),r=parseInt(t.node.getAttribute("index"),10),s=parseInt(t.node.getAttribute("j"),10);"function"==typeof i.config.chart.events.dataPointMouseLeave&&i.config.chart.events.dataPointMouseLeave(e,this.ctx,{seriesIndex:r,dataPointIndex:s,w:i}),this.ctx.events.fireEvent("dataPointMouseLeave",[e,this.ctx,{seriesIndex:r,dataPointIndex:s,w:i}]),"none"!==i.config.states.active.filter.type&&"true"===t.node.getAttribute("selected")||"none"!==i.config.states.hover.filter.type&&n.getDefaultFilter(t,r)}},{key:"pathMouseDown",value:function(t,e){var i=this.w,n=new k(this.ctx),r=parseInt(t.node.getAttribute("index"),10),s=parseInt(t.node.getAttribute("j"),10),a="false";if("true"===t.node.getAttribute("selected")){if(t.node.setAttribute("selected","false"),i.globals.selectedDataPoints[r].indexOf(s)>-1){var o=i.globals.selectedDataPoints[r].indexOf(s);i.globals.selectedDataPoints[r].splice(o,1)}}else{if(!i.config.states.active.allowMultipleDataPointsSelection&&i.globals.selectedDataPoints.length>0){i.globals.selectedDataPoints=[];var l=i.globals.dom.Paper.select(".apexcharts-series path").members,c=i.globals.dom.Paper.select(".apexcharts-series circle, .apexcharts-series rect").members,h=function(t){Array.prototype.forEach.call(t,(function(t){t.node.setAttribute("selected","false"),n.getDefaultFilter(t,r)}))};h(l),h(c)}t.node.setAttribute("selected","true"),a="true",void 0===i.globals.selectedDataPoints[r]&&(i.globals.selectedDataPoints[r]=[]),i.globals.selectedDataPoints[r].push(s)}if("true"===a){var u=i.config.states.active.filter;"none"!==u&&n.applyFilter(t,r,u.type,u.value)}else"none"!==i.config.states.active.filter.type&&n.getDefaultFilter(t,r);"function"==typeof i.config.chart.events.dataPointSelection&&i.config.chart.events.dataPointSelection(e,this.ctx,{selectedDataPoints:i.globals.selectedDataPoints,seriesIndex:r,dataPointIndex:s,w:i}),e&&this.ctx.events.fireEvent("dataPointSelection",[e,this.ctx,{selectedDataPoints:i.globals.selectedDataPoints,seriesIndex:r,dataPointIndex:s,w:i}])}},{key:"rotateAroundCenter",value:function(t){var e={};return t&&"function"==typeof t.getBBox&&(e=t.getBBox()),{x:e.x+e.width/2,y:e.y+e.height/2}}},{key:"getTextRects",value:function(t,e,i,n){var r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=this.w,a=this.drawText({x:-200,y:-200,text:t,textAnchor:"start",fontSize:e,fontFamily:i,foreColor:"#fff",opacity:0});n&&a.attr("transform",n),s.globals.dom.Paper.add(a);var o=a.bbox();return r||(o=a.node.getBoundingClientRect()),a.remove(),{width:o.width,height:o.height}}},{key:"placeTextWithEllipsis",value:function(t,e,i){if("function"==typeof t.getComputedTextLength&&(t.textContent=e,e.length>0&&t.getComputedTextLength()>=i/1.1)){for(var n=e.length-3;n>0;n-=3)if(t.getSubStringLength(0,n)<=i/1.1)return void(t.textContent=e.substring(0,n)+"...");t.textContent="."}}}],[{key:"setAttrs",value:function(t,e){for(var i in e)e.hasOwnProperty(i)&&t.setAttribute(i,e[i])}}]),t}(),S=function(){function t(e){o(this,t),this.w=e.w,this.annoCtx=e}return c(t,[{key:"setOrientations",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=this.w;if("vertical"===t.label.orientation){var n=null!==e?e:0,r=i.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(n,"']"));if(null!==r){var s=r.getBoundingClientRect();r.setAttribute("x",parseFloat(r.getAttribute("x"))-s.height+4),"top"===t.label.position?r.setAttribute("y",parseFloat(r.getAttribute("y"))+s.width):r.setAttribute("y",parseFloat(r.getAttribute("y"))-s.width);var a=this.annoCtx.graphics.rotateAroundCenter(r),o=a.x,l=a.y;r.setAttribute("transform","rotate(-90 ".concat(o," ").concat(l,")"))}}}},{key:"addBackgroundToAnno",value:function(t,e){var i=this.w;if(!t||void 0===e.label.text||void 0!==e.label.text&&!String(e.label.text).trim())return null;var n=i.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),r=t.getBoundingClientRect(),s=e.label.style.padding.left,a=e.label.style.padding.right,o=e.label.style.padding.top,l=e.label.style.padding.bottom;"vertical"===e.label.orientation&&(o=e.label.style.padding.left,l=e.label.style.padding.right,s=e.label.style.padding.top,a=e.label.style.padding.bottom);var c=r.left-n.left-s,h=r.top-n.top-o,u=this.annoCtx.graphics.drawRect(c-i.globals.barPadForNumericAxis,h,r.width+s+a,r.height+o+l,e.label.borderRadius,e.label.style.background,1,e.label.borderWidth,e.label.borderColor,0);return e.id&&u.node.classList.add(b.escapeString(e.id)),u}},{key:"annotationsBackground",value:function(){var t=this,e=this.w,i=function(i,n,r){var s=e.globals.dom.baseEl.querySelector(".apexcharts-".concat(r,"-annotations .apexcharts-").concat(r,"-annotation-label[rel='").concat(n,"']"));if(s){var a=s.parentNode,o=t.addBackgroundToAnno(s,i);o&&(a.insertBefore(o.node,s),i.label.mouseEnter&&o.node.addEventListener("mouseenter",i.label.mouseEnter.bind(t,i)),i.label.mouseLeave&&o.node.addEventListener("mouseleave",i.label.mouseLeave.bind(t,i)))}};e.config.annotations.xaxis.map((function(t,e){i(t,e,"xaxis")})),e.config.annotations.yaxis.map((function(t,e){i(t,e,"yaxis")})),e.config.annotations.points.map((function(t,e){i(t,e,"point")}))}},{key:"getStringX",value:function(t){var e=this.w,i=t;e.config.xaxis.convertedCatToNumeric&&e.globals.categoryLabels.length&&(t=e.globals.categoryLabels.indexOf(t)+1);var n=e.globals.labels.indexOf(t),r=e.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child("+(n+1)+")");return r&&(i=parseFloat(r.getAttribute("x"))),i}}]),t}(),C=function(){function t(e){o(this,t),this.w=e.w,this.annoCtx=e,this.invertAxis=this.annoCtx.invertAxis}return c(t,[{key:"addXaxisAnnotation",value:function(t,e,i){var n=this.w,r=this.invertAxis?n.globals.minY:n.globals.minX,s=this.invertAxis?n.globals.maxY:n.globals.maxX,a=this.invertAxis?n.globals.yRange[0]:n.globals.xRange,o=(t.x-r)/(a/n.globals.gridWidth);this.annoCtx.inversedReversedAxis&&(o=(s-t.x)/(a/n.globals.gridWidth));var l=t.label.text;"category"!==n.config.xaxis.type&&!n.config.xaxis.convertedCatToNumeric||this.invertAxis||n.globals.dataFormatXNumeric||(o=this.annoCtx.helpers.getStringX(t.x));var c=t.strokeDashArray;if(b.isNumber(o)){if(null===t.x2||void 0===t.x2){var h=this.annoCtx.graphics.drawLine(o+t.offsetX,0+t.offsetY,o+t.offsetX,n.globals.gridHeight+t.offsetY,t.borderColor,c,t.borderWidth);e.appendChild(h.node),t.id&&h.node.classList.add(t.id)}else{var u=(t.x2-r)/(a/n.globals.gridWidth);if(this.annoCtx.inversedReversedAxis&&(u=(s-t.x2)/(a/n.globals.gridWidth)),"category"!==n.config.xaxis.type&&!n.config.xaxis.convertedCatToNumeric||this.invertAxis||n.globals.dataFormatXNumeric||(u=this.annoCtx.helpers.getStringX(t.x2)),u<o){var d=o;o=u,u=d}var f=this.annoCtx.graphics.drawRect(o+t.offsetX,0+t.offsetY,u-o,n.globals.gridHeight+t.offsetY,0,t.fillColor,t.opacity,1,t.borderColor,c);f.node.classList.add("apexcharts-annotation-rect"),f.attr("clip-path","url(#gridRectMask".concat(n.globals.cuid,")")),e.appendChild(f.node),t.id&&f.node.classList.add(t.id)}var p="top"===t.label.position?4:n.globals.gridHeight,g=this.annoCtx.graphics.getTextRects(l,parseFloat(t.label.style.fontSize)),m=this.annoCtx.graphics.drawText({x:o+t.label.offsetX,y:p+t.label.offsetY-("vertical"===t.label.orientation?"top"===t.label.position?g.width/2-12:-g.width/2:0),text:l,textAnchor:t.label.textAnchor,fontSize:t.label.style.fontSize,fontFamily:t.label.style.fontFamily,fontWeight:t.label.style.fontWeight,foreColor:t.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(t.label.style.cssClass," ").concat(t.id?t.id:"")});m.attr({rel:i}),e.appendChild(m.node),this.annoCtx.helpers.setOrientations(t,i)}}},{key:"drawXAxisAnnotations",value:function(){var t=this,e=this.w,i=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return e.config.annotations.xaxis.map((function(e,n){t.addXaxisAnnotation(e,i.node,n)})),i}}]),t}(),E=function(){function t(e){o(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"getStackedSeriesTotals",value:function(){var t=this.w,e=[];if(0===t.globals.series.length)return e;for(var i=0;i<t.globals.series[t.globals.maxValsInArrayIndex].length;i++){for(var n=0,r=0;r<t.globals.series.length;r++)void 0!==t.globals.series[r][i]&&(n+=t.globals.series[r][i]);e.push(n)}return t.globals.stackedSeriesTotals=e,e}},{key:"getSeriesTotalByIndex",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===t?this.w.config.series.reduce((function(t,e){return t+e}),0):this.w.globals.series[t].reduce((function(t,e){return t+e}),0)}},{key:"isSeriesNull",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return 0===(null===t?this.w.config.series.filter((function(t){return null!==t})):this.w.config.series[t].data.filter((function(t){return null!==t}))).length}},{key:"seriesHaveSameValues",value:function(t){return this.w.globals.series[t].every((function(t,e,i){return t===i[0]}))}},{key:"getCategoryLabels",value:function(t){var e=this.w,i=t.slice();return e.config.xaxis.convertedCatToNumeric&&(i=t.map((function(t,i){return e.config.xaxis.labels.formatter(t-e.globals.minX+1)}))),i}},{key:"getLargestSeries",value:function(){var t=this.w;t.globals.maxValsInArrayIndex=t.globals.series.map((function(t){return t.length})).indexOf(Math.max.apply(Math,t.globals.series.map((function(t){return t.length}))))}},{key:"getLargestMarkerSize",value:function(){var t=this.w,e=0;return t.globals.markers.size.forEach((function(t){e=Math.max(e,t)})),t.config.markers.discrete&&t.config.markers.discrete.length&&t.config.markers.discrete.forEach((function(t){e=Math.max(e,t.size)})),e>0&&(e+=t.config.markers.hover.sizeOffset+1),t.globals.markers.largestSize=e,e}},{key:"getSeriesTotals",value:function(){var t=this.w;t.globals.seriesTotals=t.globals.series.map((function(t,e){var i=0;if(Array.isArray(t))for(var n=0;n<t.length;n++)i+=t[n];else i+=t;return i}))}},{key:"getSeriesTotalsXRange",value:function(t,e){var i=this.w;return i.globals.series.map((function(n,r){for(var s=0,a=0;a<n.length;a++)i.globals.seriesX[r][a]>t&&i.globals.seriesX[r][a]<e&&(s+=n[a]);return s}))}},{key:"getPercentSeries",value:function(){var t=this.w;t.globals.seriesPercent=t.globals.series.map((function(e,i){var n=[];if(Array.isArray(e))for(var r=0;r<e.length;r++){var s=t.globals.stackedSeriesTotals[r],a=0;s&&(a=100*e[r]/s),n.push(a)}else{var o=100*e/t.globals.seriesTotals.reduce((function(t,e){return t+e}),0);n.push(o)}return n}))}},{key:"getCalculatedRatios",value:function(){var t,e,i,n,r=this.w.globals,s=[],a=0,o=[],l=.1,c=0;if(r.yRange=[],r.isMultipleYAxis)for(var h=0;h<r.minYArr.length;h++)r.yRange.push(Math.abs(r.minYArr[h]-r.maxYArr[h])),o.push(0);else r.yRange.push(Math.abs(r.minY-r.maxY));r.xRange=Math.abs(r.maxX-r.minX),r.zRange=Math.abs(r.maxZ-r.minZ);for(var u=0;u<r.yRange.length;u++)s.push(r.yRange[u]/r.gridHeight);if(e=r.xRange/r.gridWidth,i=Math.abs(r.initialMaxX-r.initialMinX)/r.gridWidth,t=r.yRange/r.gridWidth,n=r.xRange/r.gridHeight,(a=r.zRange/r.gridHeight*16)||(a=1),r.minY!==Number.MIN_VALUE&&0!==Math.abs(r.minY)&&(r.hasNegs=!0),r.isMultipleYAxis){o=[];for(var d=0;d<s.length;d++)o.push(-r.minYArr[d]/s[d])}else o.push(-r.minY/s[0]),r.minY!==Number.MIN_VALUE&&0!==Math.abs(r.minY)&&(l=-r.minY/t,c=r.minX/e);return{yRatio:s,invertedYRatio:t,zRatio:a,xRatio:e,initialXRatio:i,invertedXRatio:n,baseLineInvertedY:l,baseLineY:o,baseLineX:c}}},{key:"getLogSeries",value:function(t){var e=this,i=this.w;return i.globals.seriesLog=t.map((function(t,n){return i.config.yaxis[n]&&i.config.yaxis[n].logarithmic?t.map((function(t){return null===t?null:e.getLogVal(i.config.yaxis[n].logBase,t,n)})):t})),i.globals.invalidLogScale?t:i.globals.seriesLog}},{key:"getBaseLog",value:function(t,e){return Math.log(e)/Math.log(t)}},{key:"getLogVal",value:function(t,e,i){if(0===e)return 0;var n=this.w,r=0===n.globals.minYArr[i]?-1:this.getBaseLog(t,n.globals.minYArr[i]),s=(0===n.globals.maxYArr[i]?0:this.getBaseLog(t,n.globals.maxYArr[i]))-r;return(this.getBaseLog(t,e)-r)/s}},{key:"getLogYRatios",value:function(t){var e=this,i=this.w,n=this.w.globals;return n.yLogRatio=t.slice(),n.logYRange=n.yRange.map((function(t,r){if(i.config.yaxis[r]&&e.w.config.yaxis[r].logarithmic){var s,a=-Number.MAX_VALUE,o=Number.MIN_VALUE;return n.seriesLog.forEach((function(t,e){t.forEach((function(t){i.config.yaxis[e]&&i.config.yaxis[e].logarithmic&&(a=Math.max(t,a),o=Math.min(t,o))}))})),s=Math.pow(n.yRange[r],Math.abs(o-a)/n.yRange[r]),n.yLogRatio[r]=s/n.gridHeight,s}})),n.invalidLogScale?t.slice():n.yLogRatio}}],[{key:"checkComboSeries",value:function(t){var e=!1,i=0,n=0;return t.length&&void 0!==t[0].type&&t.forEach((function(t){"bar"!==t.type&&"column"!==t.type&&"candlestick"!==t.type&&"boxPlot"!==t.type||i++,void 0!==t.type&&n++})),n>0&&(e=!0),{comboBarCount:i,comboCharts:e}}},{key:"extendArrayProps",value:function(t,e,i){return e.yaxis&&(e=t.extendYAxis(e,i)),e.annotations&&(e.annotations.yaxis&&(e=t.extendYAxisAnnotations(e)),e.annotations.xaxis&&(e=t.extendXAxisAnnotations(e)),e.annotations.points&&(e=t.extendPointAnnotations(e))),e}}]),t}(),I=function(){function t(e){o(this,t),this.w=e.w,this.annoCtx=e}return c(t,[{key:"addYaxisAnnotation",value:function(t,e,i){var n,r=this.w,s=t.strokeDashArray,a=this._getY1Y2("y1",t),o=t.label.text;if(null===t.y2||void 0===t.y2){var l=this.annoCtx.graphics.drawLine(0+t.offsetX,a+t.offsetY,this._getYAxisAnnotationWidth(t),a+t.offsetY,t.borderColor,s,t.borderWidth);e.appendChild(l.node),t.id&&l.node.classList.add(t.id)}else{if((n=this._getY1Y2("y2",t))>a){var c=a;a=n,n=c}var h=this.annoCtx.graphics.drawRect(0+t.offsetX,n+t.offsetY,this._getYAxisAnnotationWidth(t),a-n,0,t.fillColor,t.opacity,1,t.borderColor,s);h.node.classList.add("apexcharts-annotation-rect"),h.attr("clip-path","url(#gridRectMask".concat(r.globals.cuid,")")),e.appendChild(h.node),t.id&&h.node.classList.add(t.id)}var u="right"===t.label.position?r.globals.gridWidth:0,d=this.annoCtx.graphics.drawText({x:u+t.label.offsetX,y:(null!=n?n:a)+t.label.offsetY-3,text:o,textAnchor:t.label.textAnchor,fontSize:t.label.style.fontSize,fontFamily:t.label.style.fontFamily,fontWeight:t.label.style.fontWeight,foreColor:t.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(t.label.style.cssClass," ").concat(t.id?t.id:"")});d.attr({rel:i}),e.appendChild(d.node)}},{key:"_getY1Y2",value:function(t,e){var i,n="y1"===t?e.y:e.y2,r=this.w;if(this.annoCtx.invertAxis){var s=r.globals.labels.indexOf(n);r.config.xaxis.convertedCatToNumeric&&(s=r.globals.categoryLabels.indexOf(n));var a=r.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child("+(s+1)+")");a&&(i=parseFloat(a.getAttribute("y")))}else{var o;o=r.config.yaxis[e.yAxisIndex].logarithmic?(n=new E(this.annoCtx.ctx).getLogVal(n,e.yAxisIndex))/r.globals.yLogRatio[e.yAxisIndex]:(n-r.globals.minYArr[e.yAxisIndex])/(r.globals.yRange[e.yAxisIndex]/r.globals.gridHeight),i=r.globals.gridHeight-o,r.config.yaxis[e.yAxisIndex]&&r.config.yaxis[e.yAxisIndex].reversed&&(i=o)}return i}},{key:"_getYAxisAnnotationWidth",value:function(t){var e=this.w;return e.globals.gridWidth,(t.width.indexOf("%")>-1?e.globals.gridWidth*parseInt(t.width,10)/100:parseInt(t.width,10))+t.offsetX}},{key:"drawYAxisAnnotations",value:function(){var t=this,e=this.w,i=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return e.config.annotations.yaxis.map((function(e,n){t.addYaxisAnnotation(e,i.node,n)})),i}}]),t}(),T=function(){function t(e){o(this,t),this.w=e.w,this.annoCtx=e}return c(t,[{key:"addPointAnnotation",value:function(t,e,i){var n=this.w,r=0,s=0,a=0;this.annoCtx.invertAxis&&console.warn("Point annotation is not supported in horizontal bar charts.");var o=parseFloat(t.y);if("string"==typeof t.x||"category"===n.config.xaxis.type||n.config.xaxis.convertedCatToNumeric){var l=n.globals.labels.indexOf(t.x);n.config.xaxis.convertedCatToNumeric&&(l=n.globals.categoryLabels.indexOf(t.x)),r=this.annoCtx.helpers.getStringX(t.x),null===t.y&&(o=n.globals.series[t.seriesIndex][l])}else r=(t.x-n.globals.minX)/(n.globals.xRange/n.globals.gridWidth);for(var c,h=[],u=0,d=0;d<=t.seriesIndex;d++){var f=n.config.yaxis[d].seriesName;if(f)for(var p=d+1;p<=t.seriesIndex;p++)n.config.yaxis[p].seriesName===f&&-1===h.indexOf(f)&&(u++,h.push(f))}if(n.config.yaxis[t.yAxisIndex].logarithmic)c=(o=new E(this.annoCtx.ctx).getLogVal(o,t.yAxisIndex))/n.globals.yLogRatio[t.yAxisIndex];else{var g=t.yAxisIndex+u;c=(o-n.globals.minYArr[g])/(n.globals.yRange[g]/n.globals.gridHeight)}if(s=n.globals.gridHeight-c-parseFloat(t.label.style.fontSize)-t.marker.size,a=n.globals.gridHeight-c,n.config.yaxis[t.yAxisIndex]&&n.config.yaxis[t.yAxisIndex].reversed&&(s=c+parseFloat(t.label.style.fontSize)+t.marker.size,a=c),b.isNumber(r)){var m={pSize:t.marker.size,pointStrokeWidth:t.marker.strokeWidth,pointFillColor:t.marker.fillColor,pointStrokeColor:t.marker.strokeColor,shape:t.marker.shape,pRadius:t.marker.radius,class:"apexcharts-point-annotation-marker ".concat(t.marker.cssClass," ").concat(t.id?t.id:"")},v=this.annoCtx.graphics.drawMarker(r+t.marker.offsetX,a+t.marker.offsetY,m);e.appendChild(v.node);var y=t.label.text?t.label.text:"",x=this.annoCtx.graphics.drawText({x:r+t.label.offsetX,y:s+t.label.offsetY,text:y,textAnchor:t.label.textAnchor,fontSize:t.label.style.fontSize,fontFamily:t.label.style.fontFamily,fontWeight:t.label.style.fontWeight,foreColor:t.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(t.label.style.cssClass," ").concat(t.id?t.id:"")});if(x.attr({rel:i}),e.appendChild(x.node),t.customSVG.SVG){var w=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+t.customSVG.cssClass});w.attr({transform:"translate(".concat(r+t.customSVG.offsetX,", ").concat(s+t.customSVG.offsetY,")")}),w.node.innerHTML=t.customSVG.SVG,e.appendChild(w.node)}if(t.image.path){var k=t.image.width?t.image.width:20,A=t.image.height?t.image.height:20;v=this.annoCtx.addImage({x:r+t.image.offsetX-k/2,y:s+t.image.offsetY-A/2,width:k,height:A,path:t.image.path,appendTo:".apexcharts-point-annotations"})}t.mouseEnter&&v.node.addEventListener("mouseenter",t.mouseEnter.bind(this,t)),t.mouseLeave&&v.node.addEventListener("mouseleave",t.mouseLeave.bind(this,t))}}},{key:"drawPointAnnotations",value:function(){var t=this,e=this.w,i=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return e.config.annotations.points.map((function(e,n){t.addPointAnnotation(e,i.node,n)})),i}}]),t}(),_={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},P=function(){function t(){o(this,t),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:0,mouseEnter:void 0,mouseLeave:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,radius:2,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return c(t,[{key:"init",value:function(){return{annotations:{position:"front",yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"transparent",locales:[_],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.35},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0},stacked:!1,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",dateFormatter:function(t){return new Date(t).toDateString()}},png:{filename:void 0},svg:{filename:void 0}},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,rangeBarOverlap:!0,rangeBarGroupRows:!1,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal"}},bubble:{minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(t){return t}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(t){return t+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(t){return t.globals.seriesTotals.reduce((function(t,e){return t+e}),0)/t.globals.series.length+"%"}}}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(t){return t}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(t){return t}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(t){return t.globals.seriesTotals.reduce((function(t,e){return t+e}),0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(t){return null!==t?t:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],labels:{colors:void 0,useSeriesColors:!1},markers:{width:12,height:12,strokeWidth:0,fillColors:void 0,strokeColor:"#fff",radius:12,customHTML:void 0,offsetX:0,offsetY:0,onClick:void 0},itemMargin:{horizontal:5,vertical:2},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",width:8,height:8,radius:2,offsetX:0,offsetY:0,onClick:void 0,onDblClick:void 0,showNullDataPoints:!0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{normal:{filter:{type:"none",value:0}},hover:{filter:{type:"lighten",value:.1}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken",value:.5}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(t){return t?t+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.4}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"light",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),t}(),L=function(){function t(e){o(this,t),this.ctx=e,this.w=e.w,this.graphics=new A(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new S(this),this.xAxisAnnotations=new C(this),this.yAxisAnnotations=new I(this),this.pointsAnnotations=new T(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return c(t,[{key:"drawAxesAnnotations",value:function(){var t=this.w;if(t.globals.axisCharts){for(var e=this.yAxisAnnotations.drawYAxisAnnotations(),i=this.xAxisAnnotations.drawXAxisAnnotations(),n=this.pointsAnnotations.drawPointAnnotations(),r=t.config.chart.animations.enabled,s=[e,i,n],a=[i.node,e.node,n.node],o=0;o<3;o++)t.globals.dom.elGraphical.add(s[o]),!r||t.globals.resized||t.globals.dataChanged||"scatter"!==t.config.chart.type&&"bubble"!==t.config.chart.type&&t.globals.dataPoints>1&&a[o].classList.add("apexcharts-element-hidden"),t.globals.delayedElements.push({el:a[o],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var t=this;this.w.config.annotations.images.map((function(e,i){t.addImage(e,i)}))}},{key:"drawTextAnnos",value:function(){var t=this;this.w.config.annotations.texts.map((function(e,i){t.addText(e,i)}))}},{key:"addXaxisAnnotation",value:function(t,e,i){this.xAxisAnnotations.addXaxisAnnotation(t,e,i)}},{key:"addYaxisAnnotation",value:function(t,e,i){this.yAxisAnnotations.addYaxisAnnotation(t,e,i)}},{key:"addPointAnnotation",value:function(t,e,i){this.pointsAnnotations.addPointAnnotation(t,e,i)}},{key:"addText",value:function(t,e){var i=t.x,n=t.y,r=t.text,s=t.textAnchor,a=t.foreColor,o=t.fontSize,l=t.fontFamily,c=t.fontWeight,h=t.cssClass,u=t.backgroundColor,d=t.borderWidth,f=t.strokeDashArray,p=t.borderRadius,g=t.borderColor,m=t.appendTo,v=void 0===m?".apexcharts-annotations":m,y=t.paddingLeft,x=void 0===y?4:y,b=t.paddingRight,w=void 0===b?4:b,k=t.paddingBottom,A=void 0===k?2:k,S=t.paddingTop,C=void 0===S?2:S,E=this.w,I=this.graphics.drawText({x:i,y:n,text:r,textAnchor:s||"start",fontSize:o||"12px",fontWeight:c||"regular",fontFamily:l||E.config.chart.fontFamily,foreColor:a||E.config.chart.foreColor,cssClass:h}),T=E.globals.dom.baseEl.querySelector(v);T&&T.appendChild(I.node);var _=I.bbox();if(r){var P=this.graphics.drawRect(_.x-x,_.y-C,_.width+x+w,_.height+A+C,p,u||"transparent",1,d,g,f);T.insertBefore(P.node,I.node)}}},{key:"addImage",value:function(t,e){var i=this.w,n=t.path,r=t.x,s=void 0===r?0:r,a=t.y,o=void 0===a?0:a,l=t.width,c=void 0===l?20:l,h=t.height,u=void 0===h?20:h,d=t.appendTo,f=void 0===d?".apexcharts-annotations":d,p=i.globals.dom.Paper.image(n);p.size(c,u).move(s,o);var g=i.globals.dom.baseEl.querySelector(f);return g&&g.appendChild(p.node),p}},{key:"addXaxisAnnotationExternal",value:function(t,e,i){return this.addAnnotationExternal({params:t,pushToMemory:e,context:i,type:"xaxis",contextMethod:i.addXaxisAnnotation}),i}},{key:"addYaxisAnnotationExternal",value:function(t,e,i){return this.addAnnotationExternal({params:t,pushToMemory:e,context:i,type:"yaxis",contextMethod:i.addYaxisAnnotation}),i}},{key:"addPointAnnotationExternal",value:function(t,e,i){return void 0===this.invertAxis&&(this.invertAxis=i.w.globals.isBarHorizontal),this.addAnnotationExternal({params:t,pushToMemory:e,context:i,type:"point",contextMethod:i.addPointAnnotation}),i}},{key:"addAnnotationExternal",value:function(t){var e=t.params,i=t.pushToMemory,n=t.context,r=t.type,s=t.contextMethod,a=n,o=a.w,l=o.globals.dom.baseEl.querySelector(".apexcharts-".concat(r,"-annotations")),c=l.childNodes.length+1,h=new P,u=Object.assign({},"xaxis"===r?h.xAxisAnnotation:"yaxis"===r?h.yAxisAnnotation:h.pointAnnotation),d=b.extend(u,e);switch(r){case"xaxis":this.addXaxisAnnotation(d,l,c);break;case"yaxis":this.addYaxisAnnotation(d,l,c);break;case"point":this.addPointAnnotation(d,l,c)}var f=o.globals.dom.baseEl.querySelector(".apexcharts-".concat(r,"-annotations .apexcharts-").concat(r,"-annotation-label[rel='").concat(c,"']")),p=this.helpers.addBackgroundToAnno(f,d);return p&&l.insertBefore(p.node,f),i&&o.globals.memory.methodsToExec.push({context:a,id:d.id?d.id:b.randomId(),method:s,label:"addAnnotation",params:e}),n}},{key:"clearAnnotations",value:function(t){var e=t.w,i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations");e.globals.memory.methodsToExec.map((function(t,i){"addText"!==t.label&&"addAnnotation"!==t.label||e.globals.memory.methodsToExec.splice(i,1)})),i=b.listToArray(i),Array.prototype.forEach.call(i,(function(t){for(;t.firstChild;)t.removeChild(t.firstChild)}))}},{key:"removeAnnotation",value:function(t,e){var i=t.w,n=i.globals.dom.baseEl.querySelectorAll(".".concat(e));n&&(i.globals.memory.methodsToExec.map((function(t,n){t.id===e&&i.globals.memory.methodsToExec.splice(n,1)})),Array.prototype.forEach.call(n,(function(t){t.parentElement.removeChild(t)})))}}]),t}(),R=function(){function t(e){o(this,t),this.ctx=e,this.w=e.w,this.opts=null,this.seriesIndex=0}return c(t,[{key:"clippedImgArea",value:function(t){var e=this.w,i=e.config,n=parseInt(e.globals.gridWidth,10),r=parseInt(e.globals.gridHeight,10),s=n>r?n:r,a=t.image,o=0,l=0;void 0===t.width&&void 0===t.height?void 0!==i.fill.image.width&&void 0!==i.fill.image.height?(o=i.fill.image.width+1,l=i.fill.image.height):(o=s+1,l=s):(o=t.width,l=t.height);var c=document.createElementNS(e.globals.SVGNS,"pattern");A.setAttrs(c,{id:t.patternID,patternUnits:t.patternUnits?t.patternUnits:"userSpaceOnUse",width:o+"px",height:l+"px"});var h=document.createElementNS(e.globals.SVGNS,"image");c.appendChild(h),h.setAttributeNS(window.SVG.xlink,"href",a),A.setAttrs(h,{x:0,y:0,preserveAspectRatio:"none",width:o+"px",height:l+"px"}),h.style.opacity=t.opacity,e.globals.dom.elDefs.node.appendChild(c)}},{key:"getSeriesIndex",value:function(t){var e=this.w;return("bar"===e.config.chart.type||"rangeBar"===e.config.chart.type)&&e.config.plotOptions.bar.distributed||"heatmap"===e.config.chart.type||"treemap"===e.config.chart.type?this.seriesIndex=t.seriesNumber:this.seriesIndex=t.seriesNumber%e.globals.series.length,this.seriesIndex}},{key:"fillPath",value:function(t){var e=this.w;this.opts=t;var i,n,r,s=this.w.config;this.seriesIndex=this.getSeriesIndex(t);var a=this.getFillColors()[this.seriesIndex];void 0!==e.globals.seriesColors[this.seriesIndex]&&(a=e.globals.seriesColors[this.seriesIndex]),"function"==typeof a&&(a=a({seriesIndex:this.seriesIndex,dataPointIndex:t.dataPointIndex,value:t.value,w:e}));var o=this.getFillType(this.seriesIndex),l=Array.isArray(s.fill.opacity)?s.fill.opacity[this.seriesIndex]:s.fill.opacity;t.color&&(a=t.color);var c=a;if(-1===a.indexOf("rgb")?a.length<9&&(c=b.hexToRgba(a,l)):a.indexOf("rgba")>-1&&(l=b.getOpacityFromRGBA(a)),t.opacity&&(l=t.opacity),"pattern"===o&&(n=this.handlePatternFill(n,a,l,c)),"gradient"===o&&(r=this.handleGradientFill(a,l,this.seriesIndex)),"image"===o){var h=s.fill.image.src,u=t.patternID?t.patternID:"";this.clippedImgArea({opacity:l,image:Array.isArray(h)?t.seriesNumber<h.length?h[t.seriesNumber]:h[0]:h,width:t.width?t.width:void 0,height:t.height?t.height:void 0,patternUnits:t.patternUnits,patternID:"pattern".concat(e.globals.cuid).concat(t.seriesNumber+1).concat(u)}),i="url(#pattern".concat(e.globals.cuid).concat(t.seriesNumber+1).concat(u,")")}else i="gradient"===o?r:"pattern"===o?n:c;return t.solid&&(i=c),i}},{key:"getFillType",value:function(t){var e=this.w;return Array.isArray(e.config.fill.type)?e.config.fill.type[t]:e.config.fill.type}},{key:"getFillColors",value:function(){var t=this.w,e=t.config,i=this.opts,n=[];return t.globals.comboCharts?"line"===t.config.series[this.seriesIndex].type?Array.isArray(t.globals.stroke.colors)?n=t.globals.stroke.colors:n.push(t.globals.stroke.colors):Array.isArray(t.globals.fill.colors)?n=t.globals.fill.colors:n.push(t.globals.fill.colors):"line"===e.chart.type?Array.isArray(t.globals.stroke.colors)?n=t.globals.stroke.colors:n.push(t.globals.stroke.colors):Array.isArray(t.globals.fill.colors)?n=t.globals.fill.colors:n.push(t.globals.fill.colors),void 0!==i.fillColors&&(n=[],Array.isArray(i.fillColors)?n=i.fillColors.slice():n.push(i.fillColors)),n}},{key:"handlePatternFill",value:function(t,e,i,n){var r=this.w.config,s=this.opts,a=new A(this.ctx),o=void 0===r.fill.pattern.strokeWidth?Array.isArray(r.stroke.width)?r.stroke.width[this.seriesIndex]:r.stroke.width:Array.isArray(r.fill.pattern.strokeWidth)?r.fill.pattern.strokeWidth[this.seriesIndex]:r.fill.pattern.strokeWidth,l=e;return t=Array.isArray(r.fill.pattern.style)?void 0!==r.fill.pattern.style[s.seriesNumber]?a.drawPattern(r.fill.pattern.style[s.seriesNumber],r.fill.pattern.width,r.fill.pattern.height,l,o,i):n:a.drawPattern(r.fill.pattern.style,r.fill.pattern.width,r.fill.pattern.height,l,o,i),t}},{key:"handleGradientFill",value:function(t,e,i){var n,r=this.w.config,s=this.opts,a=new A(this.ctx),o=new b,l=r.fill.gradient.type,c=t,h=void 0===r.fill.gradient.opacityFrom?e:Array.isArray(r.fill.gradient.opacityFrom)?r.fill.gradient.opacityFrom[i]:r.fill.gradient.opacityFrom;c.indexOf("rgba")>-1&&(h=b.getOpacityFromRGBA(c));var u=void 0===r.fill.gradient.opacityTo?e:Array.isArray(r.fill.gradient.opacityTo)?r.fill.gradient.opacityTo[i]:r.fill.gradient.opacityTo;if(void 0===r.fill.gradient.gradientToColors||0===r.fill.gradient.gradientToColors.length)n="dark"===r.fill.gradient.shade?o.shadeColor(-1*parseFloat(r.fill.gradient.shadeIntensity),t.indexOf("rgb")>-1?b.rgb2hex(t):t):o.shadeColor(parseFloat(r.fill.gradient.shadeIntensity),t.indexOf("rgb")>-1?b.rgb2hex(t):t);else if(r.fill.gradient.gradientToColors[s.seriesNumber]){var d=r.fill.gradient.gradientToColors[s.seriesNumber];n=d,d.indexOf("rgba")>-1&&(u=b.getOpacityFromRGBA(d))}else n=t;if(r.fill.gradient.inverseColors){var f=c;c=n,n=f}return c.indexOf("rgb")>-1&&(c=b.rgb2hex(c)),n.indexOf("rgb")>-1&&(n=b.rgb2hex(n)),a.drawGradient(l,c,n,h,u,s.size,r.fill.gradient.stops,r.fill.gradient.colorStops,i)}}]),t}(),O=function(){function t(e,i){o(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"setGlobalMarkerSize",value:function(){var t=this.w;if(t.globals.markers.size=Array.isArray(t.config.markers.size)?t.config.markers.size:[t.config.markers.size],t.globals.markers.size.length>0){if(t.globals.markers.size.length<t.globals.series.length+1)for(var e=0;e<=t.globals.series.length;e++)void 0===t.globals.markers.size[e]&&t.globals.markers.size.push(t.globals.markers.size[0])}else t.globals.markers.size=t.config.series.map((function(e){return t.config.markers.size}))}},{key:"plotChartMarkers",value:function(t,e,i,n){var r,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=this.w,o=e,l=t,c=null,h=new A(this.ctx),u=a.config.markers.discrete&&a.config.markers.discrete.length;if((a.globals.markers.size[e]>0||s||u)&&(c=h.group({class:s||u?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(a.globals.cuid,")")),Array.isArray(l.x))for(var d=0;d<l.x.length;d++){var f=i;1===i&&0===d&&(f=0),1===i&&1===d&&(f=1);var p="apexcharts-marker";"line"!==a.config.chart.type&&"area"!==a.config.chart.type||a.globals.comboCharts||a.config.tooltip.intersect||(p+=" no-pointer-events");var g=Array.isArray(a.config.markers.size)?a.globals.markers.size[e]>0:a.config.markers.size>0;if(g||s||u){b.isNumber(l.y[d])?p+=" w".concat(b.randomId()):p="apexcharts-nullpoint";var m=this.getMarkerConfig({cssClass:p,seriesIndex:e,dataPointIndex:f});a.config.series[o].data[f]&&(a.config.series[o].data[f].fillColor&&(m.pointFillColor=a.config.series[o].data[f].fillColor),a.config.series[o].data[f].strokeColor&&(m.pointStrokeColor=a.config.series[o].data[f].strokeColor)),n&&(m.pSize=n),(r=h.drawMarker(l.x[d],l.y[d],m)).attr("rel",f),r.attr("j",f),r.attr("index",e),r.node.setAttribute("default-marker-size",m.pSize);var v=new k(this.ctx);v.setSelectionFilter(r,e,f),this.addEvents(r),c&&c.add(r)}else void 0===a.globals.pointsArray[e]&&(a.globals.pointsArray[e]=[]),a.globals.pointsArray[e].push([l.x[d],l.y[d]])}return c}},{key:"getMarkerConfig",value:function(t){var e=t.cssClass,i=t.seriesIndex,n=t.dataPointIndex,r=void 0===n?null:n,s=t.finishRadius,a=void 0===s?null:s,o=this.w,l=this.getMarkerStyle(i),c=o.globals.markers.size[i],h=o.config.markers;return null!==r&&h.discrete.length&&h.discrete.map((function(t){t.seriesIndex===i&&t.dataPointIndex===r&&(l.pointStrokeColor=t.strokeColor,l.pointFillColor=t.fillColor,c=t.size,l.pointShape=t.shape)})),{pSize:null===a?c:a,pRadius:h.radius,width:Array.isArray(h.width)?h.width[i]:h.width,height:Array.isArray(h.height)?h.height[i]:h.height,pointStrokeWidth:Array.isArray(h.strokeWidth)?h.strokeWidth[i]:h.strokeWidth,pointStrokeColor:l.pointStrokeColor,pointFillColor:l.pointFillColor,shape:l.pointShape||(Array.isArray(h.shape)?h.shape[i]:h.shape),class:e,pointStrokeOpacity:Array.isArray(h.strokeOpacity)?h.strokeOpacity[i]:h.strokeOpacity,pointStrokeDashArray:Array.isArray(h.strokeDashArray)?h.strokeDashArray[i]:h.strokeDashArray,pointFillOpacity:Array.isArray(h.fillOpacity)?h.fillOpacity[i]:h.fillOpacity,seriesIndex:i}}},{key:"addEvents",value:function(t){var e=this.w,i=new A(this.ctx);t.node.addEventListener("mouseenter",i.pathMouseEnter.bind(this.ctx,t)),t.node.addEventListener("mouseleave",i.pathMouseLeave.bind(this.ctx,t)),t.node.addEventListener("mousedown",i.pathMouseDown.bind(this.ctx,t)),t.node.addEventListener("click",e.config.markers.onClick),t.node.addEventListener("dblclick",e.config.markers.onDblClick),t.node.addEventListener("touchstart",i.pathMouseDown.bind(this.ctx,t),{passive:!0})}},{key:"getMarkerStyle",value:function(t){var e=this.w,i=e.globals.markers.colors,n=e.config.markers.strokeColor||e.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(n)?n[t]:n,pointFillColor:Array.isArray(i)?i[t]:i}}}]),t}(),N=function(){function t(e){o(this,t),this.ctx=e,this.w=e.w,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled}return c(t,[{key:"draw",value:function(t,e,i){var n=this.w,r=new A(this.ctx),s=i.realIndex,a=i.pointsPos,o=i.zRatio,l=i.elParent,c=r.group({class:"apexcharts-series-markers apexcharts-series-".concat(n.config.chart.type)});if(c.attr("clip-path","url(#gridRectMarkerMask".concat(n.globals.cuid,")")),Array.isArray(a.x))for(var h=0;h<a.x.length;h++){var u=e+1,d=!0;0===e&&0===h&&(u=0),0===e&&1===h&&(u=1);var f=0,p=n.globals.markers.size[s];if(o!==1/0){p=n.globals.seriesZ[s][u]/o;var g=n.config.plotOptions.bubble;g.minBubbleRadius&&p<g.minBubbleRadius&&(p=g.minBubbleRadius),g.maxBubbleRadius&&p>g.maxBubbleRadius&&(p=g.maxBubbleRadius)}n.config.chart.animations.enabled||(f=p);var m=a.x[h],v=a.y[h];if(f=f||0,null!==v&&void 0!==n.globals.series[s][u]||(d=!1),d){var y=this.drawPoint(m,v,f,p,s,u,e);c.add(y)}l.add(c)}}},{key:"drawPoint",value:function(t,e,i,n,r,s,a){var o=this.w,l=r,c=new w(this.ctx),h=new k(this.ctx),u=new R(this.ctx),d=new O(this.ctx),f=new A(this.ctx),p=d.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:l,dataPointIndex:s,finishRadius:"bubble"===o.config.chart.type||o.globals.comboCharts&&o.config.series[r]&&"bubble"===o.config.series[r].type?n:null});n=p.pSize;var g,m=u.fillPath({seriesNumber:r,dataPointIndex:s,color:p.pointFillColor,patternUnits:"objectBoundingBox",value:o.globals.series[r][a]});if("circle"===p.shape?g=f.drawCircle(i):"square"!==p.shape&&"rect"!==p.shape||(g=f.drawRect(0,0,p.width-p.pointStrokeWidth/2,p.height-p.pointStrokeWidth/2,p.pRadius)),o.config.series[l].data[s]&&o.config.series[l].data[s].fillColor&&(m=o.config.series[l].data[s].fillColor),g.attr({x:t-p.width/2-p.pointStrokeWidth/2,y:e-p.height/2-p.pointStrokeWidth/2,cx:t,cy:e,fill:m,"fill-opacity":p.pointFillOpacity,stroke:p.pointStrokeColor,r:n,"stroke-width":p.pointStrokeWidth,"stroke-dasharray":p.pointStrokeDashArray,"stroke-opacity":p.pointStrokeOpacity}),o.config.chart.dropShadow.enabled){var v=o.config.chart.dropShadow;h.dropShadow(g,v,r)}if(!this.initialAnim||o.globals.dataChanged||o.globals.resized)o.globals.animationEnded=!0;else{var y=o.config.chart.animations.speed;c.animateMarker(g,0,"circle"===p.shape?n:{width:p.width,height:p.height},y,o.globals.easing,(function(){window.setTimeout((function(){c.animationCompleted(g)}),100)}))}if(o.globals.dataChanged&&"circle"===p.shape)if(this.dynamicAnim){var x,b,S,C,E=o.config.chart.animations.dynamicAnimation.speed;null!=(C=o.globals.previousPaths[r]&&o.globals.previousPaths[r][a])&&(x=C.x,b=C.y,S=void 0!==C.r?C.r:n);for(var I=0;I<o.globals.collapsedSeries.length;I++)o.globals.collapsedSeries[I].index===r&&(E=1,n=0);0===t&&0===e&&(n=0),c.animateCircle(g,{cx:x,cy:b,r:S},{cx:t,cy:e,r:n},E,o.globals.easing)}else g.attr({r:n});return g.attr({rel:s,j:s,index:r,"default-marker-size":n}),h.setSelectionFilter(g,r,s),d.addEvents(g),g.node.classList.add("apexcharts-marker"),g}},{key:"centerTextInBubble",value:function(t){var e=this.w;return{y:t+=parseInt(e.config.dataLabels.style.fontSize,10)/4}}}]),t}(),M=function(){function t(e){o(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"dataLabelsCorrection",value:function(t,e,i,n,r,s,a){var o=this.w,l=!1,c=new A(this.ctx).getTextRects(i,a),h=c.width,u=c.height;e<0&&(e=0),e>o.globals.gridHeight+u&&(e=o.globals.gridHeight+u/2),void 0===o.globals.dataLabelsRects[n]&&(o.globals.dataLabelsRects[n]=[]),o.globals.dataLabelsRects[n].push({x:t,y:e,width:h,height:u});var d=o.globals.dataLabelsRects[n].length-2,f=void 0!==o.globals.lastDrawnDataLabelsIndexes[n]?o.globals.lastDrawnDataLabelsIndexes[n][o.globals.lastDrawnDataLabelsIndexes[n].length-1]:0;if(void 0!==o.globals.dataLabelsRects[n][d]){var p=o.globals.dataLabelsRects[n][f];(t>p.x+p.width+2||e>p.y+p.height+2||t+h<p.x)&&(l=!0)}return(0===r||s)&&(l=!0),{x:t,y:e,textRects:c,drawnextLabel:l}}},{key:"drawDataLabel",value:function(t,e,i){var n=this,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,s=this.w,a=new A(this.ctx),o=s.config.dataLabels,l=0,c=0,h=i,u=null;if(!o.enabled||!Array.isArray(t.x))return u;u=a.group({class:"apexcharts-data-labels"});for(var d=0;d<t.x.length;d++)if(l=t.x[d]+o.offsetX,c=t.y[d]+o.offsetY+r,!isNaN(l)){1===i&&0===d&&(h=0),1===i&&1===d&&(h=1);var f=s.globals.series[e][h],p="",g=function(t){return s.config.dataLabels.formatter(t,{ctx:n.ctx,seriesIndex:e,dataPointIndex:h,w:s})};if("bubble"===s.config.chart.type){p=g(f=s.globals.seriesZ[e][h]),c=t.y[d];var m=new N(this.ctx),v=m.centerTextInBubble(c,e,h);c=v.y}else void 0!==f&&(p=g(f));this.plotDataLabelsText({x:l,y:c,text:p,i:e,j:h,parent:u,offsetCorrection:!0,dataLabelsConfig:s.config.dataLabels})}return u}},{key:"plotDataLabelsText",value:function(t){var e=this.w,i=new A(this.ctx),n=t.x,r=t.y,s=t.i,a=t.j,o=t.text,l=t.textAnchor,c=t.fontSize,h=t.parent,u=t.dataLabelsConfig,d=t.color,f=t.alwaysDrawDataLabel,p=t.offsetCorrection;if(!(Array.isArray(e.config.dataLabels.enabledOnSeries)&&e.config.dataLabels.enabledOnSeries.indexOf(s)<0)){var g={x:n,y:r,drawnextLabel:!0,textRects:null};p&&(g=this.dataLabelsCorrection(n,r,o,s,a,f,parseInt(u.style.fontSize,10))),e.globals.zoomed||(n=g.x,r=g.y),g.textRects&&(n<-10-g.textRects.width||n>e.globals.gridWidth+g.textRects.width+10)&&(o="");var m=e.globals.dataLabels.style.colors[s];(("bar"===e.config.chart.type||"rangeBar"===e.config.chart.type)&&e.config.plotOptions.bar.distributed||e.config.dataLabels.distributed)&&(m=e.globals.dataLabels.style.colors[a]),"function"==typeof m&&(m=m({series:e.globals.series,seriesIndex:s,dataPointIndex:a,w:e})),d&&(m=d);var v=u.offsetX,y=u.offsetY;if("bar"!==e.config.chart.type&&"rangeBar"!==e.config.chart.type||(v=0,y=0),g.drawnextLabel){var x=i.drawText({width:100,height:parseInt(u.style.fontSize,10),x:n+v,y:r+y,foreColor:m,textAnchor:l||u.textAnchor,text:o,fontSize:c||u.style.fontSize,fontFamily:u.style.fontFamily,fontWeight:u.style.fontWeight||"normal"});if(x.attr({class:"apexcharts-datalabel",cx:n,cy:r}),u.dropShadow.enabled){var b=u.dropShadow;new k(this.ctx).dropShadow(x,b)}h.add(x),void 0===e.globals.lastDrawnDataLabelsIndexes[s]&&(e.globals.lastDrawnDataLabelsIndexes[s]=[]),e.globals.lastDrawnDataLabelsIndexes[s].push(a)}}}},{key:"addBackgroundToDataLabel",value:function(t,e){var i=this.w,n=i.config.dataLabels.background,r=n.padding,s=n.padding/2,a=e.width,o=e.height,l=new A(this.ctx).drawRect(e.x-r,e.y-s/2,a+2*r,o+s,n.borderRadius,"transparent"===i.config.chart.background?"#fff":i.config.chart.background,n.opacity,n.borderWidth,n.borderColor);return n.dropShadow.enabled&&new k(this.ctx).dropShadow(l,n.dropShadow),l}},{key:"dataLabelsBackground",value:function(){var t=this.w;if("bubble"!==t.config.chart.type)for(var e=t.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),i=0;i<e.length;i++){var n=e[i],r=n.getBBox(),s=null;if(r.width&&r.height&&(s=this.addBackgroundToDataLabel(n,r)),s){n.parentNode.insertBefore(s.node,n);var a=n.getAttribute("fill");!t.config.chart.animations.enabled||t.globals.resized||t.globals.dataChanged?s.attr({fill:a}):s.animate().attr({fill:a}),n.setAttribute("fill",t.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var t=this.w,e=t.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),i=t.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),n=0;n<e.length;n++)i&&i.insertBefore(e[n],i.nextSibling)}}]),t}(),D=function(){function t(e){o(this,t),this.w=e.w,this.barCtx=e}return c(t,[{key:"handleBarDataLabels",value:function(t){var e=t.x,i=t.y,n=t.y1,r=t.y2,s=t.i,a=t.j,o=t.realIndex,l=t.series,c=t.barHeight,h=t.barWidth,u=t.barYPosition,d=t.visibleSeries,f=t.renderedPath,p=this.w,g=new A(this.barCtx.ctx),m=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[o]:this.barCtx.strokeWidth,v=e+parseFloat(h*d),y=i+parseFloat(c*d);p.globals.isXNumeric&&!p.globals.isBarHorizontal&&(v=e+parseFloat(h*(d+1)),y=i+parseFloat(c*(d+1))-m);var x=e,b=i,w={},k=p.config.dataLabels,S=this.barCtx.barOptions.dataLabels;void 0!==u&&this.barCtx.isRangeBar&&(y=u,b=u);var C=k.offsetX,E=k.offsetY,I={width:0,height:0};if(p.config.dataLabels.enabled){var T=this.barCtx.series[s][a];I=g.getTextRects(p.globals.yLabelFormatters[0](T),parseFloat(k.style.fontSize))}var _={x:e,y:i,i:s,j:a,renderedPath:f,bcx:v,bcy:y,barHeight:c,barWidth:h,textRects:I,strokeWidth:m,dataLabelsX:x,dataLabelsY:b,barDataLabelsConfig:S,offX:C,offY:E};return w=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(_):this.calculateColumnsDataLabelsPosition(_),f.attr({cy:w.bcy,cx:w.bcx,j:a,val:l[s][a],barHeight:c,barWidth:h}),this.drawCalculatedDataLabels({x:w.dataLabelsX,y:w.dataLabelsY,val:this.barCtx.isRangeBar?[n,r]:l[s][a],i:o,j:a,barWidth:h,barHeight:c,textRects:I,dataLabelsConfig:k})}},{key:"calculateColumnsDataLabelsPosition",value:function(t){var e,i=this.w,n=t.i,r=t.j,s=t.y,a=t.bcx,o=t.barWidth,l=t.barHeight,c=t.textRects,h=t.dataLabelsY,u=t.barDataLabelsConfig,d=t.strokeWidth,f=t.offX,p=t.offY;l=Math.abs(l);var g="vertical"===i.config.plotOptions.bar.dataLabels.orientation;a-=d/2;var m=i.globals.gridWidth/i.globals.dataPoints;e=i.globals.isXNumeric?a-o/2+f:a-m+o/2+f,g&&(e=e+c.height/2-d/2-2);var v=this.barCtx.series[n][r]<0,y=s;switch(this.barCtx.isReversed&&(y=s-l+(v?2*l:0),s-=l),u.position){case"center":h=g?v?y+l/2+p:y+l/2-p:v?y-l/2+c.height/2+p:y+l/2+c.height/2-p;break;case"bottom":h=g?v?y+l+p:y+l-p:v?y-l+c.height+d+p:y+l-c.height/2+d-p;break;case"top":h=g?v?y+p:y-p:v?y-c.height/2-p:y+c.height+p}return i.config.chart.stacked||(h<0?h=0+d:h+c.height/3>i.globals.gridHeight&&(h=i.globals.gridHeight-d)),{bcx:a,bcy:s,dataLabelsX:e,dataLabelsY:h}}},{key:"calculateBarsDataLabelsPosition",value:function(t){var e=this.w,i=t.x,n=t.i,r=t.j,s=t.bcy,a=t.barHeight,o=t.barWidth,l=t.textRects,c=t.dataLabelsX,h=t.strokeWidth,u=t.barDataLabelsConfig,d=t.offX,f=t.offY,p=e.globals.gridHeight/e.globals.dataPoints;o=Math.abs(o);var g=s-(this.barCtx.isRangeBar?0:p)+a/2+l.height/2+f-3,m=this.barCtx.series[n][r]<0,v=i;switch(this.barCtx.isReversed&&(v=i+o-(m?2*o:0),i=e.globals.gridWidth-o),u.position){case"center":c=m?v+o/2-d:Math.max(l.width/2,v-o/2)+d;break;case"bottom":c=m?v+o-h-Math.round(l.width/2)-d:v-o+h+Math.round(l.width/2)+d;break;case"top":c=m?v-h+Math.round(l.width/2)-d:v-h-Math.round(l.width/2)+d}return e.config.chart.stacked||(c<0?c=c+l.width+h:c+l.width/2>e.globals.gridWidth&&(c=e.globals.gridWidth-l.width-h)),{bcx:i,bcy:s,dataLabelsX:c,dataLabelsY:g}}},{key:"drawCalculatedDataLabels",value:function(t){var e=t.x,i=t.y,n=t.val,r=t.i,a=t.j,o=t.textRects,l=t.barHeight,c=t.barWidth,h=t.dataLabelsConfig,u=this.w,d="rotate(0)";"vertical"===u.config.plotOptions.bar.dataLabels.orientation&&(d="rotate(-90, ".concat(e,", ").concat(i,")"));var f=new M(this.barCtx.ctx),p=new A(this.barCtx.ctx),g=h.formatter,m=null,v=u.globals.collapsedSeriesIndices.indexOf(r)>-1;if(h.enabled&&!v){m=p.group({class:"apexcharts-data-labels",transform:d});var y="";void 0!==n&&(y=g(n,{seriesIndex:r,dataPointIndex:a,w:u}));var x=u.globals.series[r][a]<0,b=u.config.plotOptions.bar.dataLabels.position;"vertical"===u.config.plotOptions.bar.dataLabels.orientation&&("top"===b&&(h.textAnchor=x?"end":"start"),"center"===b&&(h.textAnchor="middle"),"bottom"===b&&(h.textAnchor=x?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&c<p.getTextRects(y,parseFloat(h.style.fontSize)).width&&(y=""),u.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?o.width/1.6>Math.abs(c)&&(y=""):o.height/1.6>Math.abs(l)&&(y=""));var w=s({},h);this.barCtx.isHorizontal&&n<0&&("start"===h.textAnchor?w.textAnchor="end":"end"===h.textAnchor&&(w.textAnchor="start")),f.plotDataLabelsText({x:e,y:i,text:y,i:r,j:a,parent:m,dataLabelsConfig:w,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return m}}]),t}(),F=function(){function t(e){o(this,t),this.ctx=e,this.w=e.w,this.legendInactiveClass="legend-mouseover-inactive"}return c(t,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(t){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(b.escapeString(t),"']"))}},{key:"isSeriesHidden",value:function(t){var e=this.getSeriesByName(t),i=parseInt(e.getAttribute("data:realIndex"),10);return{isHidden:e.classList.contains("apexcharts-series-collapsed"),realIndex:i}}},{key:"addCollapsedClassToSeries",value:function(t,e){var i=this.w;function n(i){for(var n=0;n<i.length;n++)i[n].index===e&&t.node.classList.add("apexcharts-series-collapsed")}n(i.globals.collapsedSeries),n(i.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(t){var e=this.isSeriesHidden(t);return this.ctx.legend.legendHelpers.toggleDataSeries(e.realIndex,e.isHidden),e.isHidden}},{key:"showSeries",value:function(t){var e=this.isSeriesHidden(t);e.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(e.realIndex,!0)}},{key:"hideSeries",value:function(t){var e=this.isSeriesHidden(t);e.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(e.realIndex,!1)}},{key:"resetSeries",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=this.w,r=b.clone(n.globals.initialSeries);n.globals.previousPaths=[],i?(n.globals.collapsedSeries=[],n.globals.ancillaryCollapsedSeries=[],n.globals.collapsedSeriesIndices=[],n.globals.ancillaryCollapsedSeriesIndices=[]):r=this.emptyCollapsedSeries(r),n.config.series=r,t&&(e&&(n.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(r,n.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(t){for(var e=this.w,i=0;i<t.length;i++)e.globals.collapsedSeriesIndices.indexOf(i)>-1&&(t[i].data=[]);return t}},{key:"toggleSeriesOnHover",value:function(t,e){var i=this.w;e||(e=t.target);var n=i.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels");if("mousemove"===t.type){var r=parseInt(e.getAttribute("rel"),10)-1,s=null,a=null;i.globals.axisCharts||"radialBar"===i.config.chart.type?i.globals.axisCharts?(s=i.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(r,"']")),a=i.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(r,"']"))):s=i.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(r+1,"']")):s=i.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(r+1,"'] path"));for(var o=0;o<n.length;o++)n[o].classList.add(this.legendInactiveClass);null!==s&&(i.globals.axisCharts||s.parentNode.classList.remove(this.legendInactiveClass),s.classList.remove(this.legendInactiveClass),null!==a&&a.classList.remove(this.legendInactiveClass))}else if("mouseout"===t.type)for(var l=0;l<n.length;l++)n[l].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(t,e){var i=this,n=this.w,r=n.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),s=function(t){for(var e=0;e<r.length;e++)r[e].classList[t](i.legendInactiveClass)};if("mousemove"===t.type){var a=parseInt(e.getAttribute("rel"),10)-1;s("add"),function(t){for(var e=0;e<r.length;e++){var n=parseInt(r[e].getAttribute("val"),10);n>=t.from&&n<=t.to&&r[e].classList.remove(i.legendInactiveClass)}}(n.config.plotOptions.heatmap.colorScale.ranges[a])}else"mouseout"===t.type&&s("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",i=this.w,n=0;if(i.config.series.length>1)for(var r=i.config.series.map((function(e,n){var r=!1;return t&&(r="bar"===i.config.series[n].type||"column"===i.config.series[n].type),e.data&&e.data.length>0&&!r?n:-1})),s="asc"===e?0:r.length-1;"asc"===e?s<r.length:s>=0;"asc"===e?s++:s--)if(-1!==r[s]){n=r[s];break}return n}},{key:"getPreviousPaths",value:function(){var t=this.w;function e(e,i,n){for(var r=e[i].childNodes,s={type:n,paths:[],realIndex:e[i].getAttribute("data:realIndex")},a=0;a<r.length;a++)if(r[a].hasAttribute("pathTo")){var o=r[a].getAttribute("pathTo");s.paths.push({d:o})}t.globals.previousPaths.push(s)}t.globals.previousPaths=[],["line","area","bar","rangebar","candlestick","radar"].forEach((function(i){for(var n,r=(n=i,t.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(n,"-series .apexcharts-series"))),s=0;s<r.length;s++)e(r,s,i)})),this.handlePrevBubbleScatterPaths("bubble"),this.handlePrevBubbleScatterPaths("scatter");var i=t.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(t.config.chart.type," .apexcharts-series"));if(i.length>0)for(var n=function(e){for(var i=t.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(t.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(e,"'] rect")),n=[],r=function(t){var e=function(e){return i[t].getAttribute(e)},r={x:parseFloat(e("x")),y:parseFloat(e("y")),width:parseFloat(e("width")),height:parseFloat(e("height"))};n.push({rect:r,color:i[t].getAttribute("color")})},s=0;s<i.length;s++)r(s);t.globals.previousPaths.push(n)},r=0;r<i.length;r++)n(r);t.globals.axisCharts||(t.globals.previousPaths=t.globals.series)}},{key:"handlePrevBubbleScatterPaths",value:function(t){var e=this.w,i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(t,"-series .apexcharts-series"));if(i.length>0)for(var n=0;n<i.length;n++){for(var r=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(t,"-series .apexcharts-series[data\\:realIndex='").concat(n,"'] circle")),s=[],a=0;a<r.length;a++)s.push({x:r[a].getAttribute("cx"),y:r[a].getAttribute("cy"),r:r[a].getAttribute("r")});e.globals.previousPaths.push(s)}}},{key:"clearPreviousPaths",value:function(){var t=this.w;t.globals.previousPaths=[],t.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var t=this.w,e=t.config.noData,i=new A(this.ctx),n=t.globals.svgWidth/2,r=t.globals.svgHeight/2,s="middle";if(t.globals.noData=!0,t.globals.animationEnded=!0,"left"===e.align?(n=10,s="start"):"right"===e.align&&(n=t.globals.svgWidth-10,s="end"),"top"===e.verticalAlign?r=50:"bottom"===e.verticalAlign&&(r=t.globals.svgHeight-50),n+=e.offsetX,r=r+parseInt(e.style.fontSize,10)+2+e.offsetY,void 0!==e.text&&""!==e.text){var a=i.drawText({x:n,y:r,text:e.text,textAnchor:s,fontSize:e.style.fontSize,fontFamily:e.style.fontFamily,foreColor:e.style.color,opacity:1,class:"apexcharts-text-nodata"});t.globals.dom.Paper.add(a)}}},{key:"setNullSeriesToZeroValues",value:function(t){for(var e=this.w,i=0;i<t.length;i++)if(0===t[i].length)for(var n=0;n<t[e.globals.maxValsInArrayIndex].length;n++)t[i].push(0);return t}},{key:"hasAllSeriesEqualX",value:function(){for(var t=!0,e=this.w,i=this.filteredSeriesX(),n=0;n<i.length-1;n++)if(i[n][0]!==i[n+1][0]){t=!1;break}return e.globals.allSeriesHasEqualX=t,t}},{key:"filteredSeriesX",value:function(){var t=this.w.globals.seriesX.map((function(t){return t.length>0?t:[]}));return t}}]),t}(),z=function(){function t(e){o(this,t),this.w=e.w,this.barCtx=e}return c(t,[{key:"initVariables",value:function(t){var e=this.w;this.barCtx.series=t,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var i=0;i<t.length;i++)if(t[i].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=t[i].length),e.globals.isXNumeric)for(var n=0;n<t[i].length;n++)e.globals.seriesX[i][n]>e.globals.minX&&e.globals.seriesX[i][n]<e.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=e.globals.dataPoints;0===this.barCtx.seriesLen&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],this.barCtx.radiusOnSeriesNumber=t.length-1,e.globals.comboCharts||this.checkZeroSeries({series:t})}},{key:"initialPositions",value:function(){var t,e,i,n,r,s,a,o,l=this.w,c=l.globals.dataPoints;this.barCtx.isRangeBar&&(c=l.globals.labels.length);var h=this.barCtx.seriesLen;if(l.config.plotOptions.bar.rangeBarGroupRows&&(h=1),this.barCtx.isHorizontal)r=(i=l.globals.gridHeight/c)/h,l.globals.isXNumeric&&(r=(i=l.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),r=r*parseInt(this.barCtx.barOptions.barHeight,10)/100,o=this.barCtx.baseLineInvertedY+l.globals.padHorizontal+(this.barCtx.isReversed?l.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),e=(i-r*this.barCtx.seriesLen)/2;else{if(n=l.globals.gridWidth/this.barCtx.visibleItems,l.config.xaxis.convertedCatToNumeric&&(n=l.globals.gridWidth/l.globals.dataPoints),s=n/this.barCtx.seriesLen*parseInt(this.barCtx.barOptions.columnWidth,10)/100,l.globals.isXNumeric){var u=this.barCtx.xRatio;l.config.xaxis.convertedCatToNumeric&&(u=this.barCtx.initialXRatio),l.globals.minXDiff&&.5!==l.globals.minXDiff&&l.globals.minXDiff/u>0&&(n=l.globals.minXDiff/u),(s=n/this.barCtx.seriesLen*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(s=1)}a=l.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.yaxisIndex]-(this.barCtx.isReversed?l.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.yaxisIndex]:0),t=l.globals.padHorizontal+(n-s*this.barCtx.seriesLen)/2}return{x:t,y:e,yDivision:i,xDivision:n,barHeight:r,barWidth:s,zeroH:a,zeroW:o}}},{key:"getPathFillColor",value:function(t,e,i,n){var r=this.w,s=new R(this.barCtx.ctx),a=null,o=this.barCtx.barOptions.distributed?i:e;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map((function(n){t[e][i]>=n.from&&t[e][i]<=n.to&&(a=n.color)})),r.config.series[e].data[i]&&r.config.series[e].data[i].fillColor&&(a=r.config.series[e].data[i].fillColor),s.fillPath({seriesNumber:this.barCtx.barOptions.distributed?o:n,dataPointIndex:i,color:a,value:t[e][i]})}},{key:"getStrokeWidth",value:function(t,e,i){var n=0,r=this.w;return void 0===this.barCtx.series[t][e]||null===this.barCtx.series[t][e]?this.barCtx.isNullValue=!0:this.barCtx.isNullValue=!1,r.config.stroke.show&&(this.barCtx.isNullValue||(n=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[i]:this.barCtx.strokeWidth)),n}},{key:"barBackground",value:function(t){var e=t.j,i=t.i,n=t.x1,r=t.x2,s=t.y1,a=t.y2,o=t.elSeries,l=this.w,c=new A(this.barCtx.ctx),h=new F(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&h===i){e>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(e%=this.barCtx.barOptions.colors.backgroundBarColors.length);var u=this.barCtx.barOptions.colors.backgroundBarColors[e],d=c.drawRect(void 0!==n?n:0,void 0!==s?s:0,void 0!==r?r:l.globals.gridWidth,void 0!==a?a:l.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,u,this.barCtx.barOptions.colors.backgroundBarOpacity);o.add(d),d.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(t){var e=t.barWidth,i=t.barXPosition,n=t.yRatio,r=t.y1,s=t.y2,a=t.strokeWidth,o=t.series,l=t.realIndex,c=t.i,h=t.j,u=t.w,d=new A(this.barCtx.ctx);(a=Array.isArray(a)?a[l]:a)||(a=0);var f={barWidth:e,strokeWidth:a,yRatio:n,barXPosition:i,y1:r,y2:s},p=this.getRoundedBars(u,f,o,c,h),g=i,m=i+e,v=d.move(g,r),y=d.move(g,r),x=d.line(m-a,r);return u.globals.previousPaths.length>0&&(y=this.barCtx.getPreviousPath(l,h,!1)),v=v+d.line(g,p.y2)+p.pathWithRadius+d.line(m-a,p.y2)+x+x+"z",y=y+d.line(g,r)+x+x+x+x+x+d.line(g,r),u.config.chart.stacked&&(this.barCtx.yArrj.push(p.y2),this.barCtx.yArrjF.push(Math.abs(r-p.y2)),this.barCtx.yArrjVal.push(this.barCtx.series[c][h])),{pathTo:v,pathFrom:y}}},{key:"getBarpaths",value:function(t){var e=t.barYPosition,i=t.barHeight,n=t.x1,r=t.x2,s=t.strokeWidth,a=t.series,o=t.realIndex,l=t.i,c=t.j,h=t.w,u=new A(this.barCtx.ctx);(s=Array.isArray(s)?s[o]:s)||(s=0);var d={barHeight:i,strokeWidth:s,barYPosition:e,x2:r,x1:n},f=this.getRoundedBars(h,d,a,l,c),p=u.move(n,e),g=u.move(n,e);h.globals.previousPaths.length>0&&(g=this.barCtx.getPreviousPath(o,c,!1));var m=e,v=e+i,y=u.line(n,v-s);return p=p+u.line(f.x2,m)+f.pathWithRadius+u.line(f.x2,v-s)+y+y+"z",g=g+u.line(n,m)+y+y+y+y+y+u.line(n,m),h.config.chart.stacked&&(this.barCtx.xArrj.push(f.x2),this.barCtx.xArrjF.push(Math.abs(n-f.x2)),this.barCtx.xArrjVal.push(this.barCtx.series[l][c])),{pathTo:p,pathFrom:g}}},{key:"getRoundedBars",value:function(t,e,i,n,r){var s=new A(this.barCtx.ctx),a=0,o=t.config.plotOptions.bar.borderRadius,l=Array.isArray(o);if(a=l?o[n>o.length-1?o.length-1:n]:o,t.config.chart.stacked&&i.length>1&&n!==this.barCtx.radiusOnSeriesNumber&&!l&&(a=0),this.barCtx.isHorizontal){var c="",h=e.x2;if(Math.abs(e.x1-e.x2)<a&&(a=Math.abs(e.x1-e.x2)),void 0!==i[n][r]||null!==i[n][r]){var u=this.barCtx.isReversed?i[n][r]>0:i[n][r]<0;u&&(a*=-1),h-=a,c=s.quadraticCurve(h+a,e.barYPosition,h+a,e.barYPosition+(u?-1*a:a))+s.line(h+a,e.barYPosition+e.barHeight-e.strokeWidth-(u?-1*a:a))+s.quadraticCurve(h+a,e.barYPosition+e.barHeight-e.strokeWidth,h,e.barYPosition+e.barHeight-e.strokeWidth)}return{pathWithRadius:c,x2:h}}var d="",f=e.y2;if(Math.abs(e.y1-e.y2)<a&&(a=Math.abs(e.y1-e.y2)),void 0!==i[n][r]||null!==i[n][r]){var p=i[n][r]<0;p&&(a*=-1),f+=a,d=s.quadraticCurve(e.barXPosition,f-a,e.barXPosition+(p?-1*a:a),f-a)+s.line(e.barXPosition+e.barWidth-e.strokeWidth-(p?-1*a:a),f-a)+s.quadraticCurve(e.barXPosition+e.barWidth-e.strokeWidth,f-a,e.barXPosition+e.barWidth-e.strokeWidth,f)}return{pathWithRadius:d,y2:f}}},{key:"checkZeroSeries",value:function(t){for(var e=t.series,i=this.w,n=0;n<e.length;n++){for(var r=0,s=0;s<e[i.globals.maxValsInArrayIndex].length;s++)r+=e[n][s];0===r&&this.barCtx.zeroSerieses.push(n)}for(var a=e.length-1;a>=0;a--)this.barCtx.zeroSerieses.indexOf(a)>-1&&a===this.radiusOnSeriesNumber&&(this.barCtx.radiusOnSeriesNumber-=1);for(var o=e.length-1;o>=0;o--)i.globals.collapsedSeriesIndices.indexOf(this.barCtx.radiusOnSeriesNumber)>-1&&(this.barCtx.radiusOnSeriesNumber-=1)}},{key:"getXForValue",value:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=i?e:null;return null!=t&&(n=e+t/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?t/this.barCtx.invertedYRatio:0)),n}},{key:"getYForValue",value:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=i?e:null;return null!=t&&(n=e-t/this.barCtx.yRatio[this.barCtx.yaxisIndex]+2*(this.barCtx.isReversed?t/this.barCtx.yRatio[this.barCtx.yaxisIndex]:0)),n}},{key:"getGoalValues",value:function(t,e,i,n,r){var s=this,a=this.w,o=[];return a.globals.seriesGoals[n]&&a.globals.seriesGoals[n][r]&&Array.isArray(a.globals.seriesGoals[n][r])&&a.globals.seriesGoals[n][r].forEach((function(n){var r;o.push((h(r={},t,"x"===t?s.getXForValue(n.value,e,!1):s.getYForValue(n.value,i,!1)),h(r,"attrs",n),r))})),o}},{key:"drawGoalLine",value:function(t){var e=t.barXPosition,i=t.barYPosition,n=t.goalX,r=t.goalY,s=t.barWidth,a=t.barHeight,o=new A(this.barCtx.ctx),l=o.group({className:"apexcharts-bar-goals-groups"}),c=null;return this.barCtx.isHorizontal?Array.isArray(n)&&n.forEach((function(t){var e=void 0!==t.attrs.strokeHeight?t.attrs.strokeHeight:a/2,n=i+e+a/2;c=o.drawLine(t.x,n-2*e,t.x,n,t.attrs.strokeColor?t.attrs.strokeColor:void 0,t.attrs.strokeDashArray,t.attrs.strokeWidth?t.attrs.strokeWidth:2,t.attrs.strokeLineCap),l.add(c)})):Array.isArray(r)&&r.forEach((function(t){var i=void 0!==t.attrs.strokeWidth?t.attrs.strokeWidth:s/2,n=e+i+s/2;c=o.drawLine(n-2*i,t.y,n,t.y,t.attrs.strokeColor?t.attrs.strokeColor:void 0,t.attrs.strokeDashArray,t.attrs.strokeHeight?t.attrs.strokeHeight:2,t.attrs.strokeLineCap),l.add(c)})),l}}]),t}(),V=function(){function t(e,i){o(this,t),this.ctx=e,this.w=e.w;var n=this.w;this.barOptions=n.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=n.config.stroke.width,this.isNullValue=!1,this.isRangeBar=n.globals.seriesRangeBar.length&&this.isHorizontal,this.xyRatios=i,null!==this.xyRatios&&(this.xRatio=i.xRatio,this.initialXRatio=i.initialXRatio,this.yRatio=i.yRatio,this.invertedXRatio=i.invertedXRatio,this.invertedYRatio=i.invertedYRatio,this.baseLineY=i.baseLineY,this.baseLineInvertedY=i.baseLineInvertedY),this.yaxisIndex=0,this.seriesLen=0,this.barHelpers=new z(this)}return c(t,[{key:"draw",value:function(t,e){var i=this.w,n=new A(this.ctx),r=new E(this.ctx,i);t=r.getLogSeries(t),this.series=t,this.yRatio=r.getLogYRatios(this.yRatio),this.barHelpers.initVariables(t);var a=n.group({class:"apexcharts-bar-series apexcharts-plot-series"});i.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering.");for(var o=0,l=0;o<t.length;o++,l++){var c,h,u,d,f=void 0,p=void 0,g=[],m=[],v=i.globals.comboCharts?e[o]:o,y=n.group({class:"apexcharts-series",rel:o+1,seriesName:b.escapeString(i.globals.seriesNames[v]),"data:realIndex":v});this.ctx.series.addCollapsedClassToSeries(y,v),t[o].length>0&&(this.visibleI=this.visibleI+1);var x=0,w=0;this.yRatio.length>1&&(this.yaxisIndex=v),this.isReversed=i.config.yaxis[this.yaxisIndex]&&i.config.yaxis[this.yaxisIndex].reversed;var k=this.barHelpers.initialPositions();p=k.y,x=k.barHeight,h=k.yDivision,d=k.zeroW,f=k.x,w=k.barWidth,c=k.xDivision,u=k.zeroH,this.horizontal||m.push(f+w/2);for(var S=n.group({class:"apexcharts-datalabels","data:realIndex":v}),C=n.group({class:"apexcharts-bar-goals-markers",style:"pointer-events: none"}),I=0;I<i.globals.dataPoints;I++){var T=this.barHelpers.getStrokeWidth(o,I,v),_=null,P={indexes:{i:o,j:I,realIndex:v,bc:l},x:f,y:p,strokeWidth:T,elSeries:y};this.isHorizontal?(_=this.drawBarPaths(s(s({},P),{},{barHeight:x,zeroW:d,yDivision:h})),w=this.series[o][I]/this.invertedYRatio):(_=this.drawColumnPaths(s(s({},P),{},{xDivision:c,barWidth:w,zeroH:u})),x=this.series[o][I]/this.yRatio[this.yaxisIndex]);var L=this.barHelpers.drawGoalLine({barXPosition:_.barXPosition,barYPosition:_.barYPosition,goalX:_.goalX,goalY:_.goalY,barHeight:x,barWidth:w});L&&C.add(L),p=_.y,f=_.x,I>0&&m.push(f+w/2),g.push(p);var R=this.barHelpers.getPathFillColor(t,o,I,v);this.renderSeries({realIndex:v,pathFill:R,j:I,i:o,pathFrom:_.pathFrom,pathTo:_.pathTo,strokeWidth:T,elSeries:y,x:f,y:p,series:t,barHeight:x,barWidth:w,elDataLabelsWrap:S,elGoalsMarkers:C,visibleSeries:this.visibleI,type:"bar"})}i.globals.seriesXvalues[v]=m,i.globals.seriesYvalues[v]=g,a.add(y)}return a}},{key:"renderSeries",value:function(t){var e=t.realIndex,i=t.pathFill,n=t.lineFill,r=t.j,s=t.i,a=t.pathFrom,o=t.pathTo,l=t.strokeWidth,c=t.elSeries,h=t.x,u=t.y,d=t.y1,f=t.y2,p=t.series,g=t.barHeight,m=t.barWidth,v=t.barYPosition,y=t.elDataLabelsWrap,x=t.elGoalsMarkers,b=t.visibleSeries,w=t.type,S=this.w,C=new A(this.ctx);n||(n=this.barOptions.distributed?S.globals.stroke.colors[r]:S.globals.stroke.colors[e]),S.config.series[s].data[r]&&S.config.series[s].data[r].strokeColor&&(n=S.config.series[s].data[r].strokeColor),this.isNullValue&&(i="none");var E=r/S.config.chart.animations.animateGradually.delay*(S.config.chart.animations.speed/S.globals.dataPoints)/2.4,I=C.renderPaths({i:s,j:r,realIndex:e,pathFrom:a,pathTo:o,stroke:n,strokeWidth:l,strokeLineCap:S.config.stroke.lineCap,fill:i,animationDelay:E,initialSpeed:S.config.chart.animations.speed,dataChangeSpeed:S.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(w,"-area")});I.attr("clip-path","url(#gridRectMask".concat(S.globals.cuid,")"));var T=S.config.forecastDataPoints;T.count>0&&r>=S.globals.dataPoints-T.count&&(I.node.setAttribute("stroke-dasharray",T.dashArray),I.node.setAttribute("stroke-width",T.strokeWidth),I.node.setAttribute("fill-opacity",T.fillOpacity)),void 0!==d&&void 0!==f&&(I.attr("data-range-y1",d),I.attr("data-range-y2",f)),new k(this.ctx).setSelectionFilter(I,e,r),c.add(I);var _=new D(this).handleBarDataLabels({x:h,y:u,y1:d,y2:f,i:s,j:r,series:p,realIndex:e,barHeight:g,barWidth:m,barYPosition:v,renderedPath:I,visibleSeries:b});return null!==_&&y.add(_),c.add(y),x&&c.add(x),c}},{key:"drawBarPaths",value:function(t){var e=t.indexes,i=t.barHeight,n=t.strokeWidth,r=t.zeroW,s=t.x,a=t.y,o=t.yDivision,l=t.elSeries,c=this.w,h=e.i,u=e.j;c.globals.isXNumeric&&(a=(c.globals.seriesX[h][u]-c.globals.minX)/this.invertedXRatio-i);var d=a+i*this.visibleI;s=this.barHelpers.getXForValue(this.series[h][u],r);var f=this.barHelpers.getBarpaths({barYPosition:d,barHeight:i,x1:r,x2:s,strokeWidth:n,series:this.series,realIndex:e.realIndex,i:h,j:u,w:c});return c.globals.isXNumeric||(a+=o),this.barHelpers.barBackground({j:u,i:h,y1:d-i*this.visibleI,y2:i*this.seriesLen,elSeries:l}),{pathTo:f.pathTo,pathFrom:f.pathFrom,x:s,y:a,goalX:this.barHelpers.getGoalValues("x",r,null,h,u),barYPosition:d}}},{key:"drawColumnPaths",value:function(t){var e=t.indexes,i=t.x,n=t.y,r=t.xDivision,s=t.barWidth,a=t.zeroH,o=t.strokeWidth,l=t.elSeries,c=this.w,h=e.realIndex,u=e.i,d=e.j,f=e.bc;if(c.globals.isXNumeric){var p=h;c.globals.seriesX[h].length||(p=c.globals.maxValsInArrayIndex),i=(c.globals.seriesX[p][d]-c.globals.minX)/this.xRatio-s*this.seriesLen/2}var g=i+s*this.visibleI;n=this.barHelpers.getYForValue(this.series[u][d],a);var m=this.barHelpers.getColumnPaths({barXPosition:g,barWidth:s,y1:a,y2:n,strokeWidth:o,series:this.series,realIndex:e.realIndex,i:u,j:d,w:c});return c.globals.isXNumeric||(i+=r),this.barHelpers.barBackground({bc:f,j:d,i:u,x1:g-o/2-s*this.visibleI,x2:s*this.seriesLen+o/2,elSeries:l}),{pathTo:m.pathTo,pathFrom:m.pathFrom,x:i,y:n,goalY:this.barHelpers.getGoalValues("y",null,a,u,d),barXPosition:g}}},{key:"getPreviousPath",value:function(t,e){for(var i,n=this.w,r=0;r<n.globals.previousPaths.length;r++){var s=n.globals.previousPaths[r];s.paths&&s.paths.length>0&&parseInt(s.realIndex,10)===parseInt(t,10)&&void 0!==n.globals.previousPaths[r].paths[e]&&(i=n.globals.previousPaths[r].paths[e].d)}return i}}]),t}(),H=function(){function t(e){o(this,t),this.ctx=e,this.w=e.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return c(t,[{key:"isValidDate",value:function(t){return!isNaN(this.parseDate(t))}},{key:"getTimeStamp",value:function(t){return Date.parse(t)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(t).toISOString().substr(0,25)).getTime():new Date(t).getTime():t}},{key:"getDate",value:function(t){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(t).toUTCString()):new Date(t)}},{key:"parseDate",value:function(t){var e=Date.parse(t);if(!isNaN(e))return this.getTimeStamp(t);var i=Date.parse(t.replace(/-/g,"/").replace(/[a-z]+/gi," "));return this.getTimeStamp(i)}},{key:"parseDateWithTimezone",value:function(t){return Date.parse(t.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(t,e){var i=this.w.globals.locale,n=this.w.config.xaxis.labels.datetimeUTC,r=["\0"].concat(v(i.months)),s=[""].concat(v(i.shortMonths)),a=[""].concat(v(i.days)),o=[""].concat(v(i.shortDays));function l(t,e){var i=t+"";for(e=e||2;i.length<e;)i="0"+i;return i}var c=n?t.getUTCFullYear():t.getFullYear();e=(e=(e=e.replace(/(^|[^\\])yyyy+/g,"$1"+c)).replace(/(^|[^\\])yy/g,"$1"+c.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+c);var h=(n?t.getUTCMonth():t.getMonth())+1;e=(e=(e=(e=e.replace(/(^|[^\\])MMMM+/g,"$1"+r[0])).replace(/(^|[^\\])MMM/g,"$1"+s[0])).replace(/(^|[^\\])MM/g,"$1"+l(h))).replace(/(^|[^\\])M/g,"$1"+h);var u=n?t.getUTCDate():t.getDate();e=(e=(e=(e=e.replace(/(^|[^\\])dddd+/g,"$1"+a[0])).replace(/(^|[^\\])ddd/g,"$1"+o[0])).replace(/(^|[^\\])dd/g,"$1"+l(u))).replace(/(^|[^\\])d/g,"$1"+u);var d=n?t.getUTCHours():t.getHours(),f=d>12?d-12:0===d?12:d;e=(e=(e=(e=e.replace(/(^|[^\\])HH+/g,"$1"+l(d))).replace(/(^|[^\\])H/g,"$1"+d)).replace(/(^|[^\\])hh+/g,"$1"+l(f))).replace(/(^|[^\\])h/g,"$1"+f);var p=n?t.getUTCMinutes():t.getMinutes();e=(e=e.replace(/(^|[^\\])mm+/g,"$1"+l(p))).replace(/(^|[^\\])m/g,"$1"+p);var g=n?t.getUTCSeconds():t.getSeconds();e=(e=e.replace(/(^|[^\\])ss+/g,"$1"+l(g))).replace(/(^|[^\\])s/g,"$1"+g);var m=n?t.getUTCMilliseconds():t.getMilliseconds();e=e.replace(/(^|[^\\])fff+/g,"$1"+l(m,3)),m=Math.round(m/10),e=e.replace(/(^|[^\\])ff/g,"$1"+l(m)),m=Math.round(m/10);var y=d<12?"AM":"PM";e=(e=(e=e.replace(/(^|[^\\])f/g,"$1"+m)).replace(/(^|[^\\])TT+/g,"$1"+y)).replace(/(^|[^\\])T/g,"$1"+y.charAt(0));var x=y.toLowerCase();e=(e=e.replace(/(^|[^\\])tt+/g,"$1"+x)).replace(/(^|[^\\])t/g,"$1"+x.charAt(0));var b=-t.getTimezoneOffset(),w=n||!b?"Z":b>0?"+":"-";if(!n){var k=(b=Math.abs(b))%60;w+=l(Math.floor(b/60))+":"+l(k)}e=e.replace(/(^|[^\\])K/g,"$1"+w);var A=(n?t.getUTCDay():t.getDay())+1;return(e=(e=(e=(e=e.replace(new RegExp(a[0],"g"),a[A])).replace(new RegExp(o[0],"g"),o[A])).replace(new RegExp(r[0],"g"),r[h])).replace(new RegExp(s[0],"g"),s[h])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(t,e,i){var n=this.w;void 0!==n.config.xaxis.min&&(t=n.config.xaxis.min),void 0!==n.config.xaxis.max&&(e=n.config.xaxis.max);var r=this.getDate(t),s=this.getDate(e),a=this.formatDate(r,"yyyy MM dd HH mm ss fff").split(" "),o=this.formatDate(s,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(a[6],10),maxMillisecond:parseInt(o[6],10),minSecond:parseInt(a[5],10),maxSecond:parseInt(o[5],10),minMinute:parseInt(a[4],10),maxMinute:parseInt(o[4],10),minHour:parseInt(a[3],10),maxHour:parseInt(o[3],10),minDate:parseInt(a[2],10),maxDate:parseInt(o[2],10),minMonth:parseInt(a[1],10)-1,maxMonth:parseInt(o[1],10)-1,minYear:parseInt(a[0],10),maxYear:parseInt(o[0],10)}}},{key:"isLeapYear",value:function(t){return t%4==0&&t%100!=0||t%400==0}},{key:"calculcateLastDaysOfMonth",value:function(t,e,i){return this.determineDaysOfMonths(t,e)-i}},{key:"determineDaysOfYear",value:function(t){var e=365;return this.isLeapYear(t)&&(e=366),e}},{key:"determineRemainingDaysOfYear",value:function(t,e,i){var n=this.daysCntOfYear[e]+i;return e>1&&this.isLeapYear()&&n++,n}},{key:"determineDaysOfMonths",value:function(t,e){var i=30;switch(t=b.monthMod(t),!0){case this.months30.indexOf(t)>-1:2===t&&(i=this.isLeapYear(e)?29:28);break;case this.months31.indexOf(t)>-1:default:i=31}return i}}]),t}(),X=function(t){u(i,V);var e=g(i);function i(){return o(this,i),e.apply(this,arguments)}return c(i,[{key:"draw",value:function(t,e){var i=this.w,n=new A(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=t,this.seriesRangeStart=i.globals.seriesRangeStart,this.seriesRangeEnd=i.globals.seriesRangeEnd,this.barHelpers.initVariables(t);for(var r=n.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),a=0;a<t.length;a++){var o,l,c,h=void 0,u=void 0,d=void 0,f=i.globals.comboCharts?e[a]:a,p=n.group({class:"apexcharts-series",seriesName:b.escapeString(i.globals.seriesNames[f]),rel:a+1,"data:realIndex":f});this.ctx.series.addCollapsedClassToSeries(p,f),t[a].length>0&&(this.visibleI=this.visibleI+1);var g=0,m=0;this.yRatio.length>1&&(this.yaxisIndex=f);var v=this.barHelpers.initialPositions();u=v.y,c=v.zeroW,h=v.x,m=v.barWidth,o=v.xDivision,l=v.zeroH;for(var y=n.group({class:"apexcharts-datalabels","data:realIndex":f}),x=n.group({class:"apexcharts-rangebar-goals-markers",style:"pointer-events: none"}),w=0;w<i.globals.dataPoints;w++){var k=this.barHelpers.getStrokeWidth(a,w,f),S=this.seriesRangeStart[a][w],C=this.seriesRangeEnd[a][w],E=null,I=null,T={x:h,y:u,strokeWidth:k,elSeries:p};if(d=v.yDivision,g=v.barHeight,this.isHorizontal){I=u+g*this.visibleI;var _=this.seriesLen;i.config.plotOptions.bar.rangeBarGroupRows&&(_=1);var P=(d-g*_)/2;if(void 0===i.config.series[a].data[w])break;if(i.config.series[a].data[w].x){var L=this.detectOverlappingBars({i:a,j:w,barYPosition:I,srty:P,barHeight:g,yDivision:d,initPositions:v});g=L.barHeight,I=L.barYPosition}m=(E=this.drawRangeBarPaths(s({indexes:{i:a,j:w,realIndex:f},barHeight:g,barYPosition:I,zeroW:c,yDivision:d,y1:S,y2:C},T))).barWidth}else g=(E=this.drawRangeColumnPaths(s({indexes:{i:a,j:w,realIndex:f},zeroH:l,barWidth:m,xDivision:o},T))).barHeight;var R=this.barHelpers.drawGoalLine({barXPosition:E.barXPosition,barYPosition:I,goalX:E.goalX,goalY:E.goalY,barHeight:g,barWidth:m});R&&x.add(R),u=E.y,h=E.x;var O=this.barHelpers.getPathFillColor(t,a,w,f),N=i.globals.stroke.colors[f];this.renderSeries({realIndex:f,pathFill:O,lineFill:N,j:w,i:a,x:h,y:u,y1:S,y2:C,pathFrom:E.pathFrom,pathTo:E.pathTo,strokeWidth:k,elSeries:p,series:t,barHeight:g,barYPosition:I,barWidth:m,elDataLabelsWrap:y,elGoalsMarkers:x,visibleSeries:this.visibleI,type:"rangebar"})}r.add(p)}return r}},{key:"detectOverlappingBars",value:function(t){var e=t.i,i=t.j,n=t.barYPosition,r=t.srty,s=t.barHeight,a=t.yDivision,o=t.initPositions,l=this.w,c=[],h=l.config.series[e].data[i].rangeName,u=l.config.series[e].data[i].x,d=l.globals.labels.indexOf(u),f=l.globals.seriesRangeBar[e].findIndex((function(t){return t.x===u&&t.overlaps.length>0}));return n=l.config.plotOptions.bar.rangeBarGroupRows?r+a*d:r+s*this.visibleI+a*d,f>-1&&!l.config.plotOptions.bar.rangeBarOverlap&&(c=l.globals.seriesRangeBar[e][f].overlaps).indexOf(h)>-1&&(n=(s=o.barHeight/c.length)*this.visibleI+a*(100-parseInt(this.barOptions.barHeight,10))/100/2+s*(this.visibleI+c.indexOf(h))+a*d),{barYPosition:n,barHeight:s}}},{key:"drawRangeColumnPaths",value:function(t){var e=t.indexes,i=t.x;t.strokeWidth;var n=t.xDivision,r=t.barWidth,s=t.zeroH,a=this.w,o=e.i,l=e.j,c=this.yRatio[this.yaxisIndex],h=e.realIndex,u=this.getRangeValue(h,l),d=Math.min(u.start,u.end),f=Math.max(u.start,u.end);a.globals.isXNumeric&&(i=(a.globals.seriesX[o][l]-a.globals.minX)/this.xRatio-r/2);var p=i+r*this.visibleI;void 0===this.series[o][l]||null===this.series[o][l]?d=s:(d=s-d/c,f=s-f/c);var g=Math.abs(f-d),m=this.barHelpers.getColumnPaths({barXPosition:p,barWidth:r,y1:d,y2:f,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:e.realIndex,i:h,j:l,w:a});return a.globals.isXNumeric||(i+=n),{pathTo:m.pathTo,pathFrom:m.pathFrom,barHeight:g,x:i,y:f,goalY:this.barHelpers.getGoalValues("y",null,s,o,l),barXPosition:p}}},{key:"drawRangeBarPaths",value:function(t){var e=t.indexes,i=t.y,n=t.y1,r=t.y2,s=t.yDivision,a=t.barHeight,o=t.barYPosition,l=t.zeroW,c=this.w,h=l+n/this.invertedYRatio,u=l+r/this.invertedYRatio,d=Math.abs(u-h),f=this.barHelpers.getBarpaths({barYPosition:o,barHeight:a,x1:h,x2:u,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:e.realIndex,realIndex:e.realIndex,j:e.j,w:c});return c.globals.isXNumeric||(i+=s),{pathTo:f.pathTo,pathFrom:f.pathFrom,barWidth:d,x:u,goalX:this.barHelpers.getGoalValues("x",l,null,e.realIndex,e.j),y:i}}},{key:"getRangeValue",value:function(t,e){var i=this.w;return{start:i.globals.seriesRangeStart[t][e],end:i.globals.seriesRangeEnd[t][e]}}},{key:"getTooltipValues",value:function(t){var e=t.ctx,i=t.seriesIndex,n=t.dataPointIndex,r=t.y1,s=t.y2,a=t.w,o=a.globals.seriesRangeStart[i][n],l=a.globals.seriesRangeEnd[i][n],c=a.globals.labels[n],h=a.config.series[i].name?a.config.series[i].name:"",u=a.config.tooltip.y.formatter,d=a.config.tooltip.y.title.formatter,f={w:a,seriesIndex:i,dataPointIndex:n,start:o,end:l};"function"==typeof d&&(h=d(h,f)),Number.isFinite(r)&&Number.isFinite(s)&&(o=r,l=s,a.config.series[i].data[n].x&&(c=a.config.series[i].data[n].x+":"),"function"==typeof u&&(c=u(c,f)));var p="",g="",m=a.globals.colors[i];if(void 0===a.config.tooltip.x.formatter)if("datetime"===a.config.xaxis.type){var v=new H(e);p=v.formatDate(v.getDate(o),a.config.tooltip.x.format),g=v.formatDate(v.getDate(l),a.config.tooltip.x.format)}else p=o,g=l;else p=a.config.tooltip.x.formatter(o),g=a.config.tooltip.x.formatter(l);return{start:o,end:l,startVal:p,endVal:g,ylabel:c,color:m,seriesName:h}}},{key:"buildCustomTooltipHTML",value:function(t){var e=t.color,i=t.seriesName;return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+e+'">'+(i||"")+'</span></div><div> <span class="category">'+t.ylabel+' </span> <span class="value start-value">'+t.start+'</span> <span class="separator">-</span> <span class="value end-value">'+t.end+"</span></div></div>"}}]),i}(),B=function(){function t(e){o(this,t),this.opts=e}return c(t,[{key:"line",value:function(){return{chart:{animations:{easing:"swing"}},dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(t){return this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0,b.extend(t,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"bar",value:function(){return{chart:{stacked:!1,animations:{easing:"swing"}},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"round"},fill:{opacity:.85},legend:{markers:{shape:"square",radius:2,size:8}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"candlestick",value:function(){var t=this;return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(e){var i=e.seriesIndex,n=e.dataPointIndex,r=e.w;return t._getBoxTooltip(r,i,n,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var t=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(e){var i=e.seriesIndex,n=e.dataPointIndex,r=e.w;return t._getBoxTooltip(r,i,n,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:5,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(t,e){e.ctx;var i=e.seriesIndex,n=e.dataPointIndex,r=e.w,s=r.globals.seriesRangeStart[i][n];return r.globals.seriesRangeEnd[i][n]-s},background:{enabled:!1},style:{colors:["#fff"]}},tooltip:{shared:!1,followCursor:!0,custom:function(t){return t.w.config.plotOptions&&t.w.config.plotOptions.bar&&t.w.config.plotOptions.bar.horizontal?function(t){var e=new X(t.ctx,null),i=e.getTooltipValues(t),n=i.color,r=i.seriesName,s=i.ylabel,a=i.startVal,o=i.endVal;return e.buildCustomTooltipHTML({color:n,seriesName:r,ylabel:s,start:a,end:o})}(t):function(t){var e=new X(t.ctx,null),i=e.getTooltipValues(t),n=i.color,r=i.seriesName,s=i.ylabel,a=i.start,o=i.end;return e.buildCustomTooltipHTML({color:n,seriesName:r,ylabel:s,start:a,end:o})}(t)}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"area",value:function(){return{stroke:{width:4},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"brush",value:function(t){return b.extend(t,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(t){t.dataLabels=t.dataLabels||{},t.dataLabels.formatter=t.dataLabels.formatter||void 0;var e=t.dataLabels.formatter;return t.yaxis.forEach((function(e,i){t.yaxis[i].min=0,t.yaxis[i].max=100})),"bar"===t.chart.type&&(t.dataLabels.formatter=e||function(t){return"number"==typeof t&&t?t.toFixed(0)+"%":t}),t}},{key:"convertCatToNumeric",value:function(t){return t.xaxis.convertedCatToNumeric=!0,t}},{key:"convertCatToNumericXaxis",value:function(t,e,i){t.xaxis.type="numeric",t.xaxis.labels=t.xaxis.labels||{},t.xaxis.labels.formatter=t.xaxis.labels.formatter||function(t){return b.isNumber(t)?Math.floor(t):t};var n=t.xaxis.labels.formatter,r=t.xaxis.categories&&t.xaxis.categories.length?t.xaxis.categories:t.labels;return i&&i.length&&(r=i.map((function(t){return Array.isArray(t)?t:String(t)}))),r&&r.length&&(t.xaxis.labels.formatter=function(t){return b.isNumber(t)?n(r[Math.floor(t)-1]):n(t)}),t.xaxis.categories=[],t.labels=[],t.xaxis.tickAmount=t.xaxis.tickAmount||"dataPoints",t}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square",size:10,offsetY:2}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(t){return t.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(t){return t.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"polarArea",value:function(){return this.opts.yaxis[0].tickAmount=this.opts.yaxis[0].tickAmount?this.opts.yaxis[0].tickAmount:6,{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(t){return t.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:3,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1},xaxis:{labels:{formatter:function(t){return t},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0}}}},{key:"_getBoxTooltip",value:function(t,e,i,n,r){var s=t.globals.seriesCandleO[e][i],a=t.globals.seriesCandleH[e][i],o=t.globals.seriesCandleM[e][i],l=t.globals.seriesCandleL[e][i],c=t.globals.seriesCandleC[e][i];return t.config.series[e].type&&t.config.series[e].type!==r?'<div class="apexcharts-custom-tooltip">\n          '.concat(t.config.series[e].name?t.config.series[e].name:"series-"+(e+1),": <strong>").concat(t.globals.series[e][i],"</strong>\n        </div>"):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(t.config.chart.type,'">')+"<div>".concat(n[0],': <span class="value">')+s+"</span></div>"+"<div>".concat(n[1],': <span class="value">')+a+"</span></div>"+(o?"<div>".concat(n[2],': <span class="value">')+o+"</span></div>":"")+"<div>".concat(n[3],': <span class="value">')+l+"</span></div>"+"<div>".concat(n[4],': <span class="value">')+c+"</span></div></div>"}}]),t}(),Y=function(){function t(e){o(this,t),this.opts=e}return c(t,[{key:"init",value:function(t){var e=t.responsiveOverride,i=this.opts,n=new P,r=new B(i);this.chartType=i.chart.type,"histogram"===this.chartType&&(i.chart.type="bar",i=b.extend({plotOptions:{bar:{columnWidth:"99.99%"}}},i)),i=this.extendYAxis(i),i=this.extendAnnotations(i);var s=n.init(),o={};if(i&&"object"===a(i)){var l={};l=-1!==["line","area","bar","candlestick","boxPlot","rangeBar","histogram","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(i.chart.type)?r[i.chart.type]():r.line(),i.chart.brush&&i.chart.brush.enabled&&(l=r.brush(l)),i.chart.stacked&&"100%"===i.chart.stackType&&(i=r.stacked100(i)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(i),i.xaxis=i.xaxis||window.Apex.xaxis||{},e||(i.xaxis.convertedCatToNumeric=!1),((i=this.checkForCatToNumericXAxis(this.chartType,l,i)).chart.sparkline&&i.chart.sparkline.enabled||window.Apex.chart&&window.Apex.chart.sparkline&&window.Apex.chart.sparkline.enabled)&&(l=r.sparkline(l)),o=b.extend(s,l)}var c=b.extend(o,window.Apex);return s=b.extend(c,i),this.handleUserInputErrors(s)}},{key:"checkForCatToNumericXAxis",value:function(t,e,i){var n=new B(i),r=("bar"===t||"boxPlot"===t)&&i.plotOptions&&i.plotOptions.bar&&i.plotOptions.bar.horizontal,s="pie"===t||"polarArea"===t||"donut"===t||"radar"===t||"radialBar"===t||"heatmap"===t,a="datetime"!==i.xaxis.type&&"numeric"!==i.xaxis.type,o=i.xaxis.tickPlacement?i.xaxis.tickPlacement:e.xaxis&&e.xaxis.tickPlacement;return r||s||!a||"between"===o||(i=n.convertCatToNumeric(i)),i}},{key:"extendYAxis",value:function(t,e){var i=new P;(void 0===t.yaxis||!t.yaxis||Array.isArray(t.yaxis)&&0===t.yaxis.length)&&(t.yaxis={}),t.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(t.yaxis=b.extend(t.yaxis,window.Apex.yaxis)),t.yaxis.constructor!==Array?t.yaxis=[b.extend(i.yAxis,t.yaxis)]:t.yaxis=b.extendArray(t.yaxis,i.yAxis);var n=!1;t.yaxis.forEach((function(t){t.logarithmic&&(n=!0)}));var r=t.series;return e&&!r&&(r=e.config.series),n&&r.length!==t.yaxis.length&&r.length&&(t.yaxis=r.map((function(e,n){if(e.name||(r[n].name="series-".concat(n+1)),t.yaxis[n])return t.yaxis[n].seriesName=r[n].name,t.yaxis[n];var s=b.extend(i.yAxis,t.yaxis[0]);return s.show=!1,s}))),n&&r.length>1&&r.length!==t.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes. Please make sure to equalize both."),t}},{key:"extendAnnotations",value:function(t){return void 0===t.annotations&&(t.annotations={},t.annotations.yaxis=[],t.annotations.xaxis=[],t.annotations.points=[]),t=this.extendYAxisAnnotations(t),t=this.extendXAxisAnnotations(t),this.extendPointAnnotations(t)}},{key:"extendYAxisAnnotations",value:function(t){var e=new P;return t.annotations.yaxis=b.extendArray(void 0!==t.annotations.yaxis?t.annotations.yaxis:[],e.yAxisAnnotation),t}},{key:"extendXAxisAnnotations",value:function(t){var e=new P;return t.annotations.xaxis=b.extendArray(void 0!==t.annotations.xaxis?t.annotations.xaxis:[],e.xAxisAnnotation),t}},{key:"extendPointAnnotations",value:function(t){var e=new P;return t.annotations.points=b.extendArray(void 0!==t.annotations.points?t.annotations.points:[],e.pointAnnotation),t}},{key:"checkForDarkTheme",value:function(t){t.theme&&"dark"===t.theme.mode&&(t.tooltip||(t.tooltip={}),"light"!==t.tooltip.theme&&(t.tooltip.theme="dark"),t.chart.foreColor||(t.chart.foreColor="#f6f7f8"),t.chart.background||(t.chart.background="#424242"),t.theme.palette||(t.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(t){var e=t;if(e.tooltip.shared&&e.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if("bar"===e.chart.type&&e.plotOptions.bar.horizontal){if(e.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");e.yaxis[0].reversed&&(e.yaxis[0].opposite=!0),e.xaxis.tooltip.enabled=!1,e.yaxis[0].tooltip.enabled=!1,e.chart.zoom.enabled=!1}return"bar"!==e.chart.type&&"rangeBar"!==e.chart.type||e.tooltip.shared&&"barWidth"===e.xaxis.crosshairs.width&&e.series.length>1&&(e.xaxis.crosshairs.width="tickWidth"),"candlestick"!==e.chart.type&&"boxPlot"!==e.chart.type||e.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(e.chart.type," chart is not supported.")),e.yaxis[0].reversed=!1),e}}]),t}(),U=function(){function t(){o(this,t)}return c(t,[{key:"initGlobalVars",value:function(t){t.series=[],t.seriesCandleO=[],t.seriesCandleH=[],t.seriesCandleM=[],t.seriesCandleL=[],t.seriesCandleC=[],t.seriesRangeStart=[],t.seriesRangeEnd=[],t.seriesRangeBar=[],t.seriesPercent=[],t.seriesGoals=[],t.seriesX=[],t.seriesZ=[],t.seriesNames=[],t.seriesTotals=[],t.seriesLog=[],t.seriesColors=[],t.stackedSeriesTotals=[],t.seriesXvalues=[],t.seriesYvalues=[],t.labels=[],t.categoryLabels=[],t.timescaleLabels=[],t.noLabelsProvided=!1,t.resizeTimer=null,t.selectionResizeTimer=null,t.delayedElements=[],t.pointsArray=[],t.dataLabelsRects=[],t.isXNumeric=!1,t.xaxisLabelsCount=0,t.skipLastTimelinelabel=!1,t.skipFirstTimelinelabel=!1,t.isDataXYZ=!1,t.isMultiLineX=!1,t.isMultipleYAxis=!1,t.maxY=-Number.MAX_VALUE,t.minY=Number.MIN_VALUE,t.minYArr=[],t.maxYArr=[],t.maxX=-Number.MAX_VALUE,t.minX=Number.MAX_VALUE,t.initialMaxX=-Number.MAX_VALUE,t.initialMinX=Number.MAX_VALUE,t.maxDate=0,t.minDate=Number.MAX_VALUE,t.minZ=Number.MAX_VALUE,t.maxZ=-Number.MAX_VALUE,t.minXDiff=Number.MAX_VALUE,t.yAxisScale=[],t.xAxisScale=null,t.xAxisTicksPositions=[],t.yLabelsCoords=[],t.yTitleCoords=[],t.barPadForNumericAxis=0,t.padHorizontal=0,t.xRange=0,t.yRange=[],t.zRange=0,t.dataPoints=0,t.xTickAmount=0}},{key:"globalVars",value:function(t){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:t.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],goldenPadding:35,invalidLogScale:!1,ignoreYAxisIndexes:[],yAxisSameScaleIndices:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:"zoom"===t.chart.toolbar.autoSelected&&t.chart.toolbar.tools.zoom&&t.chart.zoom.enabled,panEnabled:"pan"===t.chart.toolbar.autoSelected&&t.chart.toolbar.tools.pan,selectionEnabled:"selection"===t.chart.toolbar.autoSelected&&t.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,easing:null,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null}}},{key:"init",value:function(t){var e=this.globalVars(t);return this.initGlobalVars(e),e.initialConfig=b.extend({},t),e.initialSeries=b.clone(t.series),e.lastXAxis=b.clone(e.initialConfig.xaxis),e.lastYAxis=b.clone(e.initialConfig.yaxis),e}}]),t}(),W=function(){function t(e){o(this,t),this.opts=e}return c(t,[{key:"init",value:function(){var t=new Y(this.opts).init({responsiveOverride:!1});return{config:t,globals:(new U).init(t)}}}]),t}(),j=function(){function t(e){o(this,t),this.ctx=e,this.w=e.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new E(this.ctx)}return c(t,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var t=this.w.config.series.slice(),e=new F(this.ctx);if(this.activeSeriesIndex=e.getActiveConfigSeriesIndex(),void 0!==t[this.activeSeriesIndex].data&&t[this.activeSeriesIndex].data.length>0&&null!==t[this.activeSeriesIndex].data[0]&&void 0!==t[this.activeSeriesIndex].data[0].x&&null!==t[this.activeSeriesIndex].data[0])return!0}},{key:"isFormat2DArray",value:function(){var t=this.w.config.series.slice(),e=new F(this.ctx);if(this.activeSeriesIndex=e.getActiveConfigSeriesIndex(),void 0!==t[this.activeSeriesIndex].data&&t[this.activeSeriesIndex].data.length>0&&void 0!==t[this.activeSeriesIndex].data[0]&&null!==t[this.activeSeriesIndex].data[0]&&t[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(t,e){for(var i=this.w.config,n=this.w.globals,r="boxPlot"===i.chart.type||"boxPlot"===i.series[e].type,s=0;s<t[e].data.length;s++)if(void 0!==t[e].data[s][1]&&(Array.isArray(t[e].data[s][1])&&4===t[e].data[s][1].length&&!r?this.twoDSeries.push(b.parseNumber(t[e].data[s][1][3])):t[e].data[s].length>=5?this.twoDSeries.push(b.parseNumber(t[e].data[s][4])):this.twoDSeries.push(b.parseNumber(t[e].data[s][1])),n.dataFormatXNumeric=!0),"datetime"===i.xaxis.type){var a=new Date(t[e].data[s][0]);a=new Date(a).getTime(),this.twoDSeriesX.push(a)}else this.twoDSeriesX.push(t[e].data[s][0]);for(var o=0;o<t[e].data.length;o++)void 0!==t[e].data[o][2]&&(this.threeDSeries.push(t[e].data[o][2]),n.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(t,e){var i=this.w.config,n=this.w.globals,r=new H(this.ctx),s=e;n.collapsedSeriesIndices.indexOf(e)>-1&&(s=this.activeSeriesIndex);for(var a=0;a<t[e].data.length;a++)void 0!==t[e].data[a].y&&(Array.isArray(t[e].data[a].y)?this.twoDSeries.push(b.parseNumber(t[e].data[a].y[t[e].data[a].y.length-1])):this.twoDSeries.push(b.parseNumber(t[e].data[a].y))),void 0!==t[e].data[a].goals&&Array.isArray(t[e].data[a].goals)?(void 0===this.seriesGoals[e]&&(this.seriesGoals[e]=[]),this.seriesGoals[e].push(t[e].data[a].goals)):(void 0===this.seriesGoals[e]&&(this.seriesGoals[e]=[]),this.seriesGoals[e].push(null));for(var o=0;o<t[s].data.length;o++){var l="string"==typeof t[s].data[o].x,c=Array.isArray(t[s].data[o].x),h=!c&&!!r.isValidDate(t[s].data[o].x.toString());if(l||h)if(l||i.xaxis.convertedCatToNumeric){var u=n.isBarHorizontal&&n.isRangeData;"datetime"!==i.xaxis.type||u?(this.fallbackToCategory=!0,this.twoDSeriesX.push(t[s].data[o].x)):this.twoDSeriesX.push(r.parseDate(t[s].data[o].x))}else"datetime"===i.xaxis.type?this.twoDSeriesX.push(r.parseDate(t[s].data[o].x.toString())):(n.dataFormatXNumeric=!0,n.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(t[s].data[o].x)));else c?(this.fallbackToCategory=!0,this.twoDSeriesX.push(t[s].data[o].x)):(n.isXNumeric=!0,n.dataFormatXNumeric=!0,this.twoDSeriesX.push(t[s].data[o].x))}if(t[e].data[0]&&void 0!==t[e].data[0].z){for(var d=0;d<t[e].data.length;d++)this.threeDSeries.push(t[e].data[d].z);n.isDataXYZ=!0}}},{key:"handleRangeData",value:function(t,e){var i=this.w.globals,n={};return this.isFormat2DArray()?n=this.handleRangeDataFormat("array",t,e):this.isFormatXY()&&(n=this.handleRangeDataFormat("xy",t,e)),i.seriesRangeStart.push(n.start),i.seriesRangeEnd.push(n.end),i.seriesRangeBar.push(n.rangeUniques),i.seriesRangeBar.forEach((function(t,e){t&&t.forEach((function(t,e){t.y.forEach((function(e,i){for(var n=0;n<t.y.length;n++)if(i!==n){var r=e.y1,s=e.y2,a=t.y[n].y1;r<=t.y[n].y2&&a<=s&&(t.overlaps.indexOf(e.rangeName)<0&&t.overlaps.push(e.rangeName),t.overlaps.indexOf(t.y[n].rangeName)<0&&t.overlaps.push(t.y[n].rangeName))}}))}))})),n}},{key:"handleCandleStickBoxData",value:function(t,e){var i=this.w.globals,n={};return this.isFormat2DArray()?n=this.handleCandleStickBoxDataFormat("array",t,e):this.isFormatXY()&&(n=this.handleCandleStickBoxDataFormat("xy",t,e)),i.seriesCandleO[e]=n.o,i.seriesCandleH[e]=n.h,i.seriesCandleM[e]=n.m,i.seriesCandleL[e]=n.l,i.seriesCandleC[e]=n.c,n}},{key:"handleRangeDataFormat",value:function(t,e,i){var n=[],r=[],s=e[i].data.filter((function(t,e,i){return e===i.findIndex((function(e){return e.x===t.x}))})).map((function(t,e){return{x:t.x,overlaps:[],y:[]}})),a="Please provide [Start, End] values in valid format. Read more https://apexcharts.com/docs/series/#rangecharts",o=new F(this.ctx).getActiveConfigSeriesIndex();if("array"===t){if(2!==e[o].data[0][1].length)throw new Error(a);for(var l=0;l<e[i].data.length;l++)n.push(e[i].data[l][1][0]),r.push(e[i].data[l][1][1])}else if("xy"===t){if(2!==e[o].data[0].y.length)throw new Error(a);for(var c=function(t){var a=b.randomId(),o=e[i].data[t].x,l={y1:e[i].data[t].y[0],y2:e[i].data[t].y[1],rangeName:a};e[i].data[t].rangeName=a;var c=s.findIndex((function(t){return t.x===o}));s[c].y.push(l),n.push(l.y1),r.push(l.y2)},h=0;h<e[i].data.length;h++)c(h)}return{start:n,end:r,rangeUniques:s}}},{key:"handleCandleStickBoxDataFormat",value:function(t,e,i){var n=this.w,r="boxPlot"===n.config.chart.type||"boxPlot"===n.config.series[i].type,s=[],a=[],o=[],l=[],c=[];if("array"===t)if(r&&6===e[i].data[0].length||!r&&5===e[i].data[0].length)for(var h=0;h<e[i].data.length;h++)s.push(e[i].data[h][1]),a.push(e[i].data[h][2]),r?(o.push(e[i].data[h][3]),l.push(e[i].data[h][4]),c.push(e[i].data[h][5])):(l.push(e[i].data[h][3]),c.push(e[i].data[h][4]));else for(var u=0;u<e[i].data.length;u++)Array.isArray(e[i].data[u][1])&&(s.push(e[i].data[u][1][0]),a.push(e[i].data[u][1][1]),r?(o.push(e[i].data[u][1][2]),l.push(e[i].data[u][1][3]),c.push(e[i].data[u][1][4])):(l.push(e[i].data[u][1][2]),c.push(e[i].data[u][1][3])));else if("xy"===t)for(var d=0;d<e[i].data.length;d++)Array.isArray(e[i].data[d].y)&&(s.push(e[i].data[d].y[0]),a.push(e[i].data[d].y[1]),r?(o.push(e[i].data[d].y[2]),l.push(e[i].data[d].y[3]),c.push(e[i].data[d].y[4])):(l.push(e[i].data[d].y[2]),c.push(e[i].data[d].y[3])));return{o:s,h:a,m:o,l:l,c:c}}},{key:"parseDataAxisCharts",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.ctx,n=this.w.config,r=this.w.globals,s=new H(i),a=n.labels.length>0?n.labels.slice():n.xaxis.categories.slice();r.isRangeBar="rangeBar"===n.chart.type&&r.isBarHorizontal;for(var o=function(){for(var t=0;t<a.length;t++)if("string"==typeof a[t]){if(!s.isValidDate(a[t]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");e.twoDSeriesX.push(s.parseDate(a[t]))}else e.twoDSeriesX.push(a[t])},l=0;l<t.length;l++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],void 0===t[l].data)return void console.error("It is a possibility that you may have not included 'data' property in series.");if("rangeBar"!==n.chart.type&&"rangeArea"!==n.chart.type&&"rangeBar"!==t[l].type&&"rangeArea"!==t[l].type||(r.isRangeData=!0,this.handleRangeData(t,l)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(t,l):this.isFormatXY()&&this.handleFormatXY(t,l),"candlestick"!==n.chart.type&&"candlestick"!==t[l].type&&"boxPlot"!==n.chart.type&&"boxPlot"!==t[l].type||this.handleCandleStickBoxData(t,l),r.series.push(this.twoDSeries),r.labels.push(this.twoDSeriesX),r.seriesX.push(this.twoDSeriesX),r.seriesGoals=this.seriesGoals,l!==this.activeSeriesIndex||this.fallbackToCategory||(r.isXNumeric=!0);else{"datetime"===n.xaxis.type?(r.isXNumeric=!0,o(),r.seriesX.push(this.twoDSeriesX)):"numeric"===n.xaxis.type&&(r.isXNumeric=!0,a.length>0&&(this.twoDSeriesX=a,r.seriesX.push(this.twoDSeriesX))),r.labels.push(this.twoDSeriesX);var c=t[l].data.map((function(t){return b.parseNumber(t)}));r.series.push(c)}r.seriesZ.push(this.threeDSeries),void 0!==t[l].name?r.seriesNames.push(t[l].name):r.seriesNames.push("series-"+parseInt(l+1,10)),void 0!==t[l].color?r.seriesColors.push(t[l].color):r.seriesColors.push(void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(t){var e=this.w.globals,i=this.w.config;e.series=t.slice(),e.seriesNames=i.labels.slice();for(var n=0;n<e.series.length;n++)void 0===e.seriesNames[n]&&e.seriesNames.push("series-"+(n+1));return this.w}},{key:"handleExternalLabelsData",value:function(t){var e=this.w.config,i=this.w.globals;e.xaxis.categories.length>0?i.labels=e.xaxis.categories:e.labels.length>0?i.labels=e.labels.slice():this.fallbackToCategory?(i.labels=i.labels[0],i.seriesRangeBar.length&&(i.seriesRangeBar.map((function(t){t.forEach((function(t){i.labels.indexOf(t.x)<0&&t.x&&i.labels.push(t.x)}))})),i.labels=i.labels.filter((function(t,e,i){return i.indexOf(t)===e}))),e.xaxis.convertedCatToNumeric&&(new B(e).convertCatToNumericXaxis(e,this.ctx,i.seriesX[0]),this._generateExternalLabels(t))):this._generateExternalLabels(t)}},{key:"_generateExternalLabels",value:function(t){var e=this.w.globals,i=this.w.config,n=[];if(e.axisCharts){if(e.series.length>0)if(this.isFormatXY())for(var r=i.series.map((function(t,e){return t.data.filter((function(t,e,i){return i.findIndex((function(e){return e.x===t.x}))===e}))})),s=r.reduce((function(t,e,i,n){return n[t].length>e.length?t:i}),0),a=0;a<r[s].length;a++)n.push(a+1);else for(var o=0;o<e.series[e.maxValsInArrayIndex].length;o++)n.push(o+1);e.seriesX=[];for(var l=0;l<t.length;l++)e.seriesX.push(n);e.isXNumeric=!0}if(0===n.length){n=e.axisCharts?[]:e.series.map((function(t,e){return e+1}));for(var c=0;c<t.length;c++)e.seriesX.push(n)}e.labels=n,i.xaxis.convertedCatToNumeric&&(e.categoryLabels=n.map((function(t){return i.xaxis.labels.formatter(t)}))),e.noLabelsProvided=!0}},{key:"parseData",value:function(t){var e=this.w,i=e.config,n=e.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),n.axisCharts?this.parseDataAxisCharts(t):this.parseDataNonAxisCharts(t),this.coreUtils.getLargestSeries(),"bar"===i.chart.type&&i.chart.stacked){var r=new F(this.ctx);n.series=r.setNullSeriesToZeroValues(n.series)}this.coreUtils.getSeriesTotals(),n.axisCharts&&this.coreUtils.getStackedSeriesTotals(),this.coreUtils.getPercentSeries(),n.dataFormatXNumeric||n.isXNumeric&&("numeric"!==i.xaxis.type||0!==i.labels.length||0!==i.xaxis.categories.length)||this.handleExternalLabelsData(t);for(var s=this.coreUtils.getCategoryLabels(n.labels),a=0;a<s.length;a++)if(Array.isArray(s[a])){n.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var t=this,e=this.w;e.globals.ignoreYAxisIndexes=e.globals.collapsedSeries.map((function(i,n){if(t.w.globals.isMultipleYAxis&&!e.config.chart.stacked)return i.index}))}}]),t}(),G=function(){function t(e){o(this,t),this.ctx=e,this.w=e.w,this.tooltipKeyFormat="dd MMM"}return c(t,[{key:"xLabelFormat",value:function(t,e,i,n){var r=this.w;if("datetime"===r.config.xaxis.type&&void 0===r.config.xaxis.labels.formatter&&void 0===r.config.tooltip.x.formatter){var s=new H(this.ctx);return s.formatDate(s.getDate(e),r.config.tooltip.x.format)}return t(e,i,n)}},{key:"defaultGeneralFormatter",value:function(t){return Array.isArray(t)?t.map((function(t){return t})):t}},{key:"defaultYFormatter",value:function(t,e,i){var n=this.w;return b.isNumber(t)&&(t=0!==n.globals.yValueDecimal?t.toFixed(void 0!==e.decimalsInFloat?e.decimalsInFloat:n.globals.yValueDecimal):n.globals.maxYArr[i]-n.globals.minYArr[i]<5?t.toFixed(1):t.toFixed(0)),t}},{key:"setLabelFormatters",value:function(){var t=this,e=this.w;return e.globals.xaxisTooltipFormatter=function(e){return t.defaultGeneralFormatter(e)},e.globals.ttKeyFormatter=function(e){return t.defaultGeneralFormatter(e)},e.globals.ttZFormatter=function(t){return t},e.globals.legendFormatter=function(e){return t.defaultGeneralFormatter(e)},void 0!==e.config.xaxis.labels.formatter?e.globals.xLabelFormatter=e.config.xaxis.labels.formatter:e.globals.xLabelFormatter=function(t){if(b.isNumber(t)){if(!e.config.xaxis.convertedCatToNumeric&&"numeric"===e.config.xaxis.type){if(b.isNumber(e.config.xaxis.decimalsInFloat))return t.toFixed(e.config.xaxis.decimalsInFloat);var i=e.globals.maxX-e.globals.minX;return i>0&&i<100?t.toFixed(1):t.toFixed(0)}return e.globals.isBarHorizontal&&e.globals.maxY-e.globals.minYArr<4?t.toFixed(1):t.toFixed(0)}return t},"function"==typeof e.config.tooltip.x.formatter?e.globals.ttKeyFormatter=e.config.tooltip.x.formatter:e.globals.ttKeyFormatter=e.globals.xLabelFormatter,"function"==typeof e.config.xaxis.tooltip.formatter&&(e.globals.xaxisTooltipFormatter=e.config.xaxis.tooltip.formatter),(Array.isArray(e.config.tooltip.y)||void 0!==e.config.tooltip.y.formatter)&&(e.globals.ttVal=e.config.tooltip.y),void 0!==e.config.tooltip.z.formatter&&(e.globals.ttZFormatter=e.config.tooltip.z.formatter),void 0!==e.config.legend.formatter&&(e.globals.legendFormatter=e.config.legend.formatter),e.config.yaxis.forEach((function(i,n){void 0!==i.labels.formatter?e.globals.yLabelFormatters[n]=i.labels.formatter:e.globals.yLabelFormatters[n]=function(r){return e.globals.xyCharts?Array.isArray(r)?r.map((function(e){return t.defaultYFormatter(e,i,n)})):t.defaultYFormatter(r,i,n):r}})),e.globals}},{key:"heatmapLabelFormatters",value:function(){var t=this.w;if("heatmap"===t.config.chart.type){t.globals.yAxisScale[0].result=t.globals.seriesNames.slice();var e=t.globals.seriesNames.reduce((function(t,e){return t.length>e.length?t:e}),0);t.globals.yAxisScale[0].niceMax=e,t.globals.yAxisScale[0].niceMin=e}}}]),t}(),q=function(){function t(e){o(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"getLabel",value:function(t,e,i,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"12px",a=this.w,o=void 0===t[n]?"":t[n],l=o,c=a.globals.xLabelFormatter,h=a.config.xaxis.labels.formatter,u=!1,d=new G(this.ctx),f=o;l=d.xLabelFormat(c,o,f,{i:n,dateFormatter:new H(this.ctx).formatDate,w:a}),void 0!==h&&(l=h(o,t[n],{i:n,dateFormatter:new H(this.ctx).formatDate,w:a}));var p=function(t){var i=null;return e.forEach((function(t){"month"===t.unit?i="year":"day"===t.unit?i="month":"hour"===t.unit?i="day":"minute"===t.unit&&(i="hour")})),i===t};e.length>0?(u=p(e[n].unit),i=e[n].position,l=e[n].value):"datetime"===a.config.xaxis.type&&void 0===h&&(l=""),void 0===l&&(l=""),l=Array.isArray(l)?l:l.toString();var g=new A(this.ctx),m={};m=a.globals.rotateXLabels?g.getTextRects(l,parseInt(s,10),null,"rotate(".concat(a.config.xaxis.labels.rotate," 0 0)"),!1):g.getTextRects(l,parseInt(s,10));var v=!a.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(l)&&(0===l.indexOf("NaN")||0===l.toLowerCase().indexOf("invalid")||l.toLowerCase().indexOf("infinity")>=0||r.indexOf(l)>=0&&v)&&(l=""),{x:i,text:l,textRect:m,isBold:u}}},{key:"checkLabelBasedOnTickamount",value:function(t,e,i){var n=this.w,r=n.config.xaxis.tickAmount;return"dataPoints"===r&&(r=Math.round(n.globals.gridWidth/120)),r>i||t%Math.round(i/(r+1))==0||(e.text=""),e}},{key:"checkForOverflowingLabels",value:function(t,e,i,n,r){var s=this.w;if(0===t&&s.globals.skipFirstTimelinelabel&&(e.text=""),t===i-1&&s.globals.skipLastTimelinelabel&&(e.text=""),s.config.xaxis.labels.hideOverlappingLabels&&n.length>0){var a=r[r.length-1];e.x<a.textRect.width/(s.globals.rotateXLabels?Math.abs(s.config.xaxis.labels.rotate)/12:1.01)+a.x&&(e.text="")}return e}},{key:"checkForReversedLabels",value:function(t,e){var i=this.w;return i.config.yaxis[t]&&i.config.yaxis[t].reversed&&e.reverse(),e}},{key:"isYAxisHidden",value:function(t){var e=this.w,i=new E(this.ctx);return!e.config.yaxis[t].show||!e.config.yaxis[t].showForNullSeries&&i.isSeriesNull(t)&&-1===e.globals.collapsedSeriesIndices.indexOf(t)}},{key:"getYAxisForeColor",value:function(t,e){var i=this.w;return Array.isArray(t)&&i.globals.yAxisScale[e]&&this.ctx.theme.pushExtraColors(t,i.globals.yAxisScale[e].result.length,!1),t}},{key:"drawYAxisTicks",value:function(t,e,i,n,r,s,a){var o=this.w,l=new A(this.ctx),c=o.globals.translateY;if(n.show&&e>0){!0===o.config.yaxis[r].opposite&&(t+=n.width);for(var h=e;h>=0;h--){var u=c+e/10+o.config.yaxis[r].labels.offsetY-1;o.globals.isBarHorizontal&&(u=s*h),"heatmap"===o.config.chart.type&&(u+=s/2);var d=l.drawLine(t+i.offsetX-n.width+n.offsetX,u+n.offsetY,t+i.offsetX+n.offsetX,u+n.offsetY,n.color);a.add(d),c+=s}}}}]),t}(),$=function(){function t(e){o(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"scaleSvgNode",value:function(t,e){var i=parseFloat(t.getAttributeNS(null,"width")),n=parseFloat(t.getAttributeNS(null,"height"));t.setAttributeNS(null,"width",i*e),t.setAttributeNS(null,"height",n*e),t.setAttributeNS(null,"viewBox","0 0 "+i+" "+n)}},{key:"fixSvgStringForIe11",value:function(t){if(!b.isIE11())return t.replace(/&nbsp;/g,"&#160;");var e=0,i=t.replace(/xmlns="http:\/\/www.w3.org\/2000\/svg"/g,(function(t){return 2===++e?'xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.dev"':t}));return(i=i.replace(/xmlns:NS\d+=""/g,"")).replace(/NS\d+:(\w+:\w+=")/g,"$1")}},{key:"getSvgString",value:function(t){var e=this.w.globals.dom.Paper.svg();if(1!==t){var i=this.w.globals.dom.Paper.node.cloneNode(!0);this.scaleSvgNode(i,t),e=(new XMLSerializer).serializeToString(i)}return this.fixSvgStringForIe11(e)}},{key:"cleanup",value:function(){var t=this.w,e=t.globals.dom.baseEl.getElementsByClassName("apexcharts-xcrosshairs"),i=t.globals.dom.baseEl.getElementsByClassName("apexcharts-ycrosshairs"),n=t.globals.dom.baseEl.querySelectorAll(".apexcharts-zoom-rect, .apexcharts-selection-rect");Array.prototype.forEach.call(n,(function(t){t.setAttribute("width",0)})),e&&e[0]&&(e[0].setAttribute("x",-500),e[0].setAttribute("x1",-500),e[0].setAttribute("x2",-500)),i&&i[0]&&(i[0].setAttribute("y",-100),i[0].setAttribute("y1",-100),i[0].setAttribute("y2",-100))}},{key:"svgUrl",value:function(){this.cleanup();var t=this.getSvgString(),e=new Blob([t],{type:"image/svg+xml;charset=utf-8"});return URL.createObjectURL(e)}},{key:"dataURI",value:function(t){var e=this;return new Promise((function(i){var n=e.w,r=t?t.scale||t.width/n.globals.svgWidth:1;e.cleanup();var s=document.createElement("canvas");s.width=n.globals.svgWidth*r,s.height=parseInt(n.globals.dom.elWrap.style.height,10)*r;var a="transparent"===n.config.chart.background?"#fff":n.config.chart.background,o=s.getContext("2d");o.fillStyle=a,o.fillRect(0,0,s.width*r,s.height*r);var l=e.getSvgString(r);if(window.canvg&&b.isIE11()){var c=window.canvg.Canvg.fromString(o,l,{ignoreClear:!0,ignoreDimensions:!0});c.start();var h=s.msToBlob();c.stop(),i({blob:h})}else{var u="data:image/svg+xml,"+encodeURIComponent(l),d=new Image;d.crossOrigin="anonymous",d.onload=function(){if(o.drawImage(d,0,0),s.msToBlob){var t=s.msToBlob();i({blob:t})}else{var e=s.toDataURL("image/png");i({imgURI:e})}},d.src=u}}))}},{key:"exportToSVG",value:function(){this.triggerDownload(this.svgUrl(),this.w.config.chart.toolbar.export.svg.filename,".svg")}},{key:"exportToPng",value:function(){var t=this;this.dataURI().then((function(e){var i=e.imgURI,n=e.blob;n?navigator.msSaveOrOpenBlob(n,t.w.globals.chartID+".png"):t.triggerDownload(i,t.w.config.chart.toolbar.export.png.filename,".png")}))}},{key:"exportToCSV",value:function(t){var e=this,i=t.series,n=t.columnDelimiter,r=t.lineDelimiter,s=void 0===r?"\n":r,a=this.w,o=[],l=[],c="",h=new j(this.ctx),u=new q(this.ctx),d=function(t){var i="";if(a.globals.axisCharts){if("category"===a.config.xaxis.type||a.config.xaxis.convertedCatToNumeric)if(a.globals.isBarHorizontal){var r=a.globals.yLabelFormatters[0],s=new F(e.ctx).getActiveConfigSeriesIndex();i=r(a.globals.labels[t],{seriesIndex:s,dataPointIndex:t,w:a})}else i=u.getLabel(a.globals.labels,a.globals.timescaleLabels,0,t).text;"datetime"===a.config.xaxis.type&&(a.config.xaxis.categories.length?i=a.config.xaxis.categories[t]:a.config.labels.length&&(i=a.config.labels[t]))}else i=a.config.labels[t];return Array.isArray(i)&&(i=i.join(" ")),b.isNumber(i)?i:i.split(n).join("")};o.push(a.config.chart.toolbar.export.csv.headerCategory),i.map((function(t,e){var i=t.name?t.name:"series-".concat(e);a.globals.axisCharts&&o.push(i.split(n).join("")?i.split(n).join(""):"series-".concat(e))})),a.globals.axisCharts||(o.push(a.config.chart.toolbar.export.csv.headerValue),l.push(o.join(n))),i.map((function(t,e){a.globals.axisCharts?function(t,e){if(o.length&&0===e&&l.push(o.join(n)),t.data&&t.data.length)for(var r=0;r<t.data.length;r++){o=[];var s=d(r);if(s||(h.isFormatXY()?s=i[e].data[r].x:h.isFormat2DArray()&&(s=i[e].data[r]?i[e].data[r][0]:"")),0===e){o.push((u=s,"datetime"===a.config.xaxis.type&&String(u).length>=10?a.config.chart.toolbar.export.csv.dateFormatter(s):b.isNumber(s)?s:s.split(n).join("")));for(var c=0;c<a.globals.series.length;c++)o.push(a.globals.series[c][r])}("candlestick"===a.config.chart.type||t.type&&"candlestick"===t.type)&&(o.pop(),o.push(a.globals.seriesCandleO[e][r]),o.push(a.globals.seriesCandleH[e][r]),o.push(a.globals.seriesCandleL[e][r]),o.push(a.globals.seriesCandleC[e][r])),("boxPlot"===a.config.chart.type||t.type&&"boxPlot"===t.type)&&(o.pop(),o.push(a.globals.seriesCandleO[e][r]),o.push(a.globals.seriesCandleH[e][r]),o.push(a.globals.seriesCandleM[e][r]),o.push(a.globals.seriesCandleL[e][r]),o.push(a.globals.seriesCandleC[e][r])),"rangeBar"===a.config.chart.type&&(o.pop(),o.push(a.globals.seriesRangeStart[e][r]),o.push(a.globals.seriesRangeEnd[e][r])),o.length&&l.push(o.join(n))}var u}(t,e):((o=[]).push(a.globals.labels[e].split(n).join("")),o.push(a.globals.series[e]),l.push(o.join(n)))})),c+=l.join(s),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\ufeff"+c),a.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(t,e,i){var n=document.createElement("a");n.href=t,n.download=(e||this.w.globals.chartID)+i,document.body.appendChild(n),n.click(),document.body.removeChild(n)}}]),t}(),K=function(){function t(e){o(this,t),this.ctx=e,this.w=e.w;var i=this.w;this.axesUtils=new q(e),this.xaxisLabels=i.globals.labels.slice(),i.globals.timescaleLabels.length>0&&!i.globals.isBarHorizontal&&(this.xaxisLabels=i.globals.timescaleLabels.slice()),i.config.xaxis.overwriteCategories&&(this.xaxisLabels=i.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],"top"===i.config.xaxis.position?this.offY=0:this.offY=i.globals.gridHeight+1,this.offY=this.offY+i.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal="bar"===i.config.chart.type&&i.config.plotOptions.bar.horizontal,this.xaxisFontSize=i.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=i.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=i.config.xaxis.labels.style.colors,this.xaxisBorderWidth=i.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=i.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth.indexOf("%")>-1?this.xaxisBorderWidth=i.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:this.xaxisBorderWidth=parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=i.config.xaxis.axisBorder.height,this.yaxis=i.config.yaxis[0]}return c(t,[{key:"drawXaxis",value:function(){var t,e=this,i=this.w,n=new A(this.ctx),r=n.group({class:"apexcharts-xaxis",transform:"translate(".concat(i.config.xaxis.offsetX,", ").concat(i.config.xaxis.offsetY,")")}),s=n.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(i.globals.translateXAxisX,", ").concat(i.globals.translateXAxisY,")")});r.add(s);for(var a=i.globals.padHorizontal,o=[],l=0;l<this.xaxisLabels.length;l++)o.push(this.xaxisLabels[l]);var c=o.length;if(i.globals.isXNumeric){var h=c>1?c-1:c;t=i.globals.gridWidth/h,a=a+t/2+i.config.xaxis.labels.offsetX}else t=i.globals.gridWidth/o.length,a=a+t+i.config.xaxis.labels.offsetX;for(var u=function(r){var l=a-t/2+i.config.xaxis.labels.offsetX;0===r&&1===c&&t/2===a&&1===i.globals.dataPoints&&(l=i.globals.gridWidth/2);var h=e.axesUtils.getLabel(o,i.globals.timescaleLabels,l,r,e.drawnLabels,e.xaxisFontSize),u=28;if(i.globals.rotateXLabels&&(u=22),(h=void 0!==i.config.xaxis.tickAmount&&"dataPoints"!==i.config.xaxis.tickAmount&&"datetime"!==i.config.xaxis.type?e.axesUtils.checkLabelBasedOnTickamount(r,h,c):e.axesUtils.checkForOverflowingLabels(r,h,c,e.drawnLabels,e.drawnLabelsRects)).text&&i.globals.xaxisLabelsCount++,i.config.xaxis.labels.show){var d=n.drawText({x:h.x,y:e.offY+i.config.xaxis.labels.offsetY+u-("top"===i.config.xaxis.position?i.globals.xAxisHeight+i.config.xaxis.axisTicks.height-2:0),text:h.text,textAnchor:"middle",fontWeight:h.isBold?600:i.config.xaxis.labels.style.fontWeight,fontSize:e.xaxisFontSize,fontFamily:e.xaxisFontFamily,foreColor:Array.isArray(e.xaxisForeColors)?i.config.xaxis.convertedCatToNumeric?e.xaxisForeColors[i.globals.minX+r-1]:e.xaxisForeColors[r]:e.xaxisForeColors,isPlainText:!1,cssClass:"apexcharts-xaxis-label "+i.config.xaxis.labels.style.cssClass});s.add(d);var f=document.createElementNS(i.globals.SVGNS,"title");f.textContent=Array.isArray(h.text)?h.text.join(" "):h.text,d.node.appendChild(f),""!==h.text&&(e.drawnLabels.push(h.text),e.drawnLabelsRects.push(h))}a+=t},d=0;d<=c-1;d++)u(d);if(void 0!==i.config.xaxis.title.text){var f=n.group({class:"apexcharts-xaxis-title"}),p=n.drawText({x:i.globals.gridWidth/2+i.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+i.globals.xAxisLabelsHeight+i.config.xaxis.title.offsetY,text:i.config.xaxis.title.text,textAnchor:"middle",fontSize:i.config.xaxis.title.style.fontSize,fontFamily:i.config.xaxis.title.style.fontFamily,fontWeight:i.config.xaxis.title.style.fontWeight,foreColor:i.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+i.config.xaxis.title.style.cssClass});f.add(p),r.add(f)}if(i.config.xaxis.axisBorder.show){var g=i.globals.barPadForNumericAxis,m=n.drawLine(i.globals.padHorizontal+i.config.xaxis.axisBorder.offsetX-g,this.offY,this.xaxisBorderWidth+g,this.offY,i.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);r.add(m)}return r}},{key:"drawXaxisInversed",value:function(t){var e,i,n=this,r=this.w,s=new A(this.ctx),a=r.config.yaxis[0].opposite?r.globals.translateYAxisX[t]:0,o=s.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:t}),l=s.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+a+", 0)"});o.add(l);var c=[];if(r.config.yaxis[t].show)for(var h=0;h<this.xaxisLabels.length;h++)c.push(this.xaxisLabels[h]);e=r.globals.gridHeight/c.length,i=-e/2.2;var u=r.globals.yLabelFormatters[0],d=r.config.yaxis[0].labels;if(d.show)for(var f=function(a){var o=void 0===c[a]?"":c[a];o=u(o,{seriesIndex:t,dataPointIndex:a,w:r});var h=n.axesUtils.getYAxisForeColor(d.style.colors,t),f=0;Array.isArray(o)&&(f=o.length/2*parseInt(d.style.fontSize,10));var p=s.drawText({x:d.offsetX-15,y:i+e+d.offsetY-f,text:o,textAnchor:n.yaxis.opposite?"start":"end",foreColor:Array.isArray(h)?h[a]:h,fontSize:d.style.fontSize,fontFamily:d.style.fontFamily,fontWeight:d.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+d.style.cssClass});l.add(p);var g=document.createElementNS(r.globals.SVGNS,"title");if(g.textContent=Array.isArray(o)?o.join(" "):o,p.node.appendChild(g),0!==r.config.yaxis[t].labels.rotate){var m=s.rotateAroundCenter(p.node);p.node.setAttribute("transform","rotate(".concat(r.config.yaxis[t].labels.rotate," 0 ").concat(m.y,")"))}i+=e},p=0;p<=c.length-1;p++)f(p);if(void 0!==r.config.yaxis[0].title.text){var g=s.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+a+", 0)"}),m=s.drawText({x:0,y:r.globals.gridHeight/2,text:r.config.yaxis[0].title.text,textAnchor:"middle",foreColor:r.config.yaxis[0].title.style.color,fontSize:r.config.yaxis[0].title.style.fontSize,fontWeight:r.config.yaxis[0].title.style.fontWeight,fontFamily:r.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+r.config.yaxis[0].title.style.cssClass});g.add(m),o.add(g)}var v=0;this.isCategoryBarHorizontal&&r.config.yaxis[0].opposite&&(v=r.globals.gridWidth);var y=r.config.xaxis.axisBorder;if(y.show){var x=s.drawLine(r.globals.padHorizontal+y.offsetX+v,1+y.offsetY,r.globals.padHorizontal+y.offsetX+v,r.globals.gridHeight+y.offsetY,y.color,0);o.add(x)}return r.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(v,c.length,r.config.yaxis[0].axisBorder,r.config.yaxis[0].axisTicks,0,e,o),o}},{key:"drawXaxisTicks",value:function(t,e){var i=this.w,n=t;if(!(t<0||t-2>i.globals.gridWidth)){var r=this.offY+i.config.xaxis.axisTicks.offsetY,s=r+i.config.xaxis.axisTicks.height;if("top"===i.config.xaxis.position&&(s=r-i.config.xaxis.axisTicks.height),i.config.xaxis.axisTicks.show){var a=new A(this.ctx).drawLine(t+i.config.xaxis.axisTicks.offsetX,r+i.config.xaxis.offsetY,n+i.config.xaxis.axisTicks.offsetX,s+i.config.xaxis.offsetY,i.config.xaxis.axisTicks.color);e.add(a),a.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var t=this.w,e=[],i=this.xaxisLabels.length,n=t.globals.padHorizontal;if(t.globals.timescaleLabels.length>0)for(var r=0;r<i;r++)n=this.xaxisLabels[r].position,e.push(n);else for(var s=i,a=0;a<s;a++){var o=s;t.globals.isXNumeric&&"bar"!==t.config.chart.type&&(o-=1),n+=t.globals.gridWidth/o,e.push(n)}return e}},{key:"xAxisLabelCorrections",value:function(){var t=this.w,e=new A(this.ctx),i=t.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),n=t.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text"),r=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),s=t.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(t.globals.rotateXLabels||t.config.xaxis.labels.rotateAlways)for(var a=0;a<n.length;a++){var o=e.rotateAroundCenter(n[a]);o.y=o.y-1,o.x=o.x+1,n[a].setAttribute("transform","rotate(".concat(t.config.xaxis.labels.rotate," ").concat(o.x," ").concat(o.y,")")),n[a].setAttribute("text-anchor","end"),i.setAttribute("transform","translate(0, ".concat(-10,")"));var l=n[a].childNodes;t.config.xaxis.labels.trim&&Array.prototype.forEach.call(l,(function(i){e.placeTextWithEllipsis(i,i.textContent,t.globals.xAxisLabelsHeight-("bottom"===t.config.legend.position?20:10))}))}else!function(){for(var i=t.globals.gridWidth/(t.globals.labels.length+1),r=0;r<n.length;r++){var s=n[r].childNodes;t.config.xaxis.labels.trim&&"datetime"!==t.config.xaxis.type&&Array.prototype.forEach.call(s,(function(t){e.placeTextWithEllipsis(t,t.textContent,i)}))}}();if(r.length>0){var c=r[r.length-1].getBBox(),h=r[0].getBBox();c.x<-20&&r[r.length-1].parentNode.removeChild(r[r.length-1]),h.x+h.width>t.globals.gridWidth&&!t.globals.isBarHorizontal&&r[0].parentNode.removeChild(r[0]);for(var u=0;u<s.length;u++)e.placeTextWithEllipsis(s[u],s[u].textContent,t.config.yaxis[0].labels.maxWidth-2*parseFloat(t.config.yaxis[0].title.style.fontSize)-20)}}}]),t}(),J=function(){function t(e){o(this,t),this.ctx=e,this.w=e.w;var i=this.w;this.xaxisLabels=i.globals.labels.slice(),this.axesUtils=new q(e),this.isRangeBar=i.globals.seriesRangeBar.length,i.globals.timescaleLabels.length>0&&(this.xaxisLabels=i.globals.timescaleLabels.slice())}return c(t,[{key:"drawGridArea",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.w,i=new A(this.ctx);null===t&&(t=i.group({class:"apexcharts-grid"}));var n=i.drawLine(e.globals.padHorizontal,1,e.globals.padHorizontal,e.globals.gridHeight,"transparent"),r=i.drawLine(e.globals.padHorizontal,e.globals.gridHeight,e.globals.gridWidth,e.globals.gridHeight,"transparent");return t.add(r),t.add(n),t}},{key:"drawGrid",value:function(){var t=null;return this.w.globals.axisCharts&&(t=this.renderGrid(),this.drawGridArea(t.el)),t}},{key:"createGridMask",value:function(){var t=this.w,e=t.globals,i=new A(this.ctx),n=Array.isArray(t.config.stroke.width)?0:t.config.stroke.width;if(Array.isArray(t.config.stroke.width)){var r=0;t.config.stroke.width.forEach((function(t){r=Math.max(r,t)})),n=r}e.dom.elGridRectMask=document.createElementNS(e.SVGNS,"clipPath"),e.dom.elGridRectMask.setAttribute("id","gridRectMask".concat(e.cuid)),e.dom.elGridRectMarkerMask=document.createElementNS(e.SVGNS,"clipPath"),e.dom.elGridRectMarkerMask.setAttribute("id","gridRectMarkerMask".concat(e.cuid)),e.dom.elForecastMask=document.createElementNS(e.SVGNS,"clipPath"),e.dom.elForecastMask.setAttribute("id","forecastMask".concat(e.cuid)),e.dom.elNonForecastMask=document.createElementNS(e.SVGNS,"clipPath"),e.dom.elNonForecastMask.setAttribute("id","nonForecastMask".concat(e.cuid));var s=t.config.chart.type,a=0,o=0;("bar"===s||"rangeBar"===s||"candlestick"===s||"boxPlot"===s||t.globals.comboBarCount>0)&&t.globals.isXNumeric&&!t.globals.isBarHorizontal&&(a=t.config.grid.padding.left,o=t.config.grid.padding.right,e.barPadForNumericAxis>a&&(a=e.barPadForNumericAxis,o=e.barPadForNumericAxis)),e.dom.elGridRect=i.drawRect(-n/2-a-2,-n/2,e.gridWidth+n+o+a+4,e.gridHeight+n,0,"#fff");var l=t.globals.markers.largestSize+1;e.dom.elGridRectMarker=i.drawRect(2*-l,2*-l,e.gridWidth+4*l,e.gridHeight+4*l,0,"#fff"),e.dom.elGridRectMask.appendChild(e.dom.elGridRect.node),e.dom.elGridRectMarkerMask.appendChild(e.dom.elGridRectMarker.node);var c=e.dom.baseEl.querySelector("defs");c.appendChild(e.dom.elGridRectMask),c.appendChild(e.dom.elForecastMask),c.appendChild(e.dom.elNonForecastMask),c.appendChild(e.dom.elGridRectMarkerMask)}},{key:"_drawGridLines",value:function(t){var e=t.i,i=t.x1,n=t.y1,r=t.x2,s=t.y2,a=t.xCount,o=t.parent,l=this.w;0===e&&l.globals.skipFirstTimelinelabel||e===a-1&&l.globals.skipLastTimelinelabel&&!l.config.xaxis.labels.formatter||"radar"===l.config.chart.type||(l.config.grid.xaxis.lines.show&&this._drawGridLine({x1:i,y1:n,x2:r,y2:s,parent:o}),new K(this.ctx).drawXaxisTicks(i,this.elg))}},{key:"_drawGridLine",value:function(t){var e=t.x1,i=t.y1,n=t.x2,r=t.y2,s=t.parent,a=this.w,o=s.node.classList.contains("apexcharts-gridlines-horizontal"),l=a.config.grid.strokeDashArray,c=a.globals.barPadForNumericAxis,h=new A(this).drawLine(e-(o?c:0),i,n+(o?c:0),r,a.config.grid.borderColor,l);h.node.classList.add("apexcharts-gridline"),s.add(h)}},{key:"_drawGridBandRect",value:function(t){var e=t.c,i=t.x1,n=t.y1,r=t.x2,s=t.y2,a=t.type,o=this.w,l=new A(this.ctx),c=o.globals.barPadForNumericAxis;if("column"!==a||"datetime"!==o.config.xaxis.type){var h=o.config.grid[a].colors[e],u=l.drawRect(i-("row"===a?c:0),n,r+("row"===a?2*c:0),s,0,h,o.config.grid[a].opacity);this.elg.add(u),u.attr("clip-path","url(#gridRectMask".concat(o.globals.cuid,")")),u.node.classList.add("apexcharts-grid-".concat(a))}}},{key:"_drawXYLines",value:function(t){var e=this,i=t.xCount,n=t.tickAmount,r=this.w;if(r.config.grid.xaxis.lines.show||r.config.xaxis.axisTicks.show){var s,a=r.globals.padHorizontal,o=r.globals.gridHeight;r.globals.timescaleLabels.length?function(t){for(var n=t.xC,r=t.x1,s=t.y1,a=t.x2,o=t.y2,l=0;l<n;l++)r=e.xaxisLabels[l].position,a=e.xaxisLabels[l].position,e._drawGridLines({i:l,x1:r,y1:s,x2:a,y2:o,xCount:i,parent:e.elgridLinesV})}({xC:i,x1:a,y1:0,x2:s,y2:o}):(r.globals.isXNumeric&&(i=r.globals.xAxisScale.result.length),r.config.xaxis.convertedCatToNumeric&&(i=r.globals.xaxisLabelsCount),function(t){var n=t.xC,s=t.x1,a=t.y1,o=t.x2,l=t.y2;if(void 0!==r.config.xaxis.tickAmount&&"dataPoints"!==r.config.xaxis.tickAmount)r.globals.dom.baseEl.querySelectorAll(".apexcharts-text.apexcharts-xaxis-label tspan:not(:empty)").forEach((function(t,n){var r=t.getBBox();e._drawGridLines({i:n,x1:r.x+r.width/2,y1:a,x2:r.x+r.width/2,y2:l,xCount:i,parent:e.elgridLinesV})}));else for(var c=0;c<n+(r.globals.isXNumeric?0:1);c++)0===c&&1===n&&1===r.globals.dataPoints&&(o=s=r.globals.gridWidth/2),e._drawGridLines({i:c,x1:s,y1:a,x2:o,y2:l,xCount:i,parent:e.elgridLinesV}),o=s+=r.globals.gridWidth/(r.globals.isXNumeric?n-1:n)}({xC:i,x1:a,y1:0,x2:s,y2:o}))}if(r.config.grid.yaxis.lines.show){var l=0,c=0,h=r.globals.gridWidth,u=n+1;this.isRangeBar&&(u=r.globals.labels.length);for(var d=0;d<u+(this.isRangeBar?1:0);d++)this._drawGridLine({x1:0,y1:l,x2:h,y2:c,parent:this.elgridLinesH}),c=l+=r.globals.gridHeight/(this.isRangeBar?u:n)}}},{key:"_drawInvertedXYLines",value:function(t){var e=t.xCount,i=this.w;if(i.config.grid.xaxis.lines.show||i.config.xaxis.axisTicks.show)for(var n,r=i.globals.padHorizontal,s=i.globals.gridHeight,a=0;a<e+1;a++)i.config.grid.xaxis.lines.show&&this._drawGridLine({x1:r,y1:0,x2:n,y2:s,parent:this.elgridLinesV}),new K(this.ctx).drawXaxisTicks(r,this.elg),n=r=r+i.globals.gridWidth/e+.3;if(i.config.grid.yaxis.lines.show)for(var o=0,l=0,c=i.globals.gridWidth,h=0;h<i.globals.dataPoints+1;h++)this._drawGridLine({x1:0,y1:o,x2:c,y2:l,parent:this.elgridLinesH}),l=o+=i.globals.gridHeight/i.globals.dataPoints}},{key:"renderGrid",value:function(){var t=this.w,e=new A(this.ctx);this.elg=e.group({class:"apexcharts-grid"}),this.elgridLinesH=e.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=e.group({class:"apexcharts-gridlines-vertical"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),t.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide());for(var i,n=t.globals.yAxisScale.length?t.globals.yAxisScale[0].result.length-1:5,r=0;r<t.globals.series.length&&(void 0!==t.globals.yAxisScale[r]&&(n=t.globals.yAxisScale[r].result.length-1),!(n>2));r++);return!t.globals.isBarHorizontal||this.isRangeBar?(i=this.xaxisLabels.length,this.isRangeBar&&(n=t.globals.labels.length,t.config.xaxis.tickAmount&&t.config.xaxis.labels.formatter&&(i=t.config.xaxis.tickAmount)),this._drawXYLines({xCount:i,tickAmount:n})):(i=n,n=t.globals.xTickAmount,this._drawInvertedXYLines({xCount:i,tickAmount:n})),this.drawGridBands(i,n),{el:this.elg,xAxisTickWidth:t.globals.gridWidth/i}}},{key:"drawGridBands",value:function(t,e){var i=this.w;if(void 0!==i.config.grid.row.colors&&i.config.grid.row.colors.length>0)for(var n=0,r=i.globals.gridHeight/e,s=i.globals.gridWidth,a=0,o=0;a<e;a++,o++)o>=i.config.grid.row.colors.length&&(o=0),this._drawGridBandRect({c:o,x1:0,y1:n,x2:s,y2:r,type:"row"}),n+=i.globals.gridHeight/e;if(void 0!==i.config.grid.column.colors&&i.config.grid.column.colors.length>0)for(var l=i.globals.isBarHorizontal||"category"!==i.config.xaxis.type&&!i.config.xaxis.convertedCatToNumeric?t:t-1,c=i.globals.padHorizontal,h=i.globals.padHorizontal+i.globals.gridWidth/l,u=i.globals.gridHeight,d=0,f=0;d<t;d++,f++)f>=i.config.grid.column.colors.length&&(f=0),this._drawGridBandRect({c:f,x1:c,y1:0,x2:h,y2:u,type:"column"}),c+=i.globals.gridWidth/l}}]),t}(),Z=function(){function t(e){o(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"niceScale",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4?arguments[4]:void 0,s=this.w,a=Math.abs(e-t);if("dataPoints"===(i=this._adjustTicksForSmallRange(i,n,a))&&(i=s.globals.dataPoints-1),t===Number.MIN_VALUE&&0===e||!b.isNumber(t)&&!b.isNumber(e)||t===Number.MIN_VALUE&&e===-Number.MAX_VALUE){t=0,e=i;var o=this.linearScale(t,e,i);return o}t>e?(console.warn("axis.min cannot be greater than axis.max"),e=t+.1):t===e&&(t=0===t?0:t-.5,e=0===e?2:e+.5);var l=[];a<1&&r&&("candlestick"===s.config.chart.type||"candlestick"===s.config.series[n].type||"boxPlot"===s.config.chart.type||"boxPlot"===s.config.series[n].type||s.globals.isRangeData)&&(e*=1.01);var c=i+1;c<2?c=2:c>2&&(c-=2);var h=a/c,u=Math.floor(b.log10(h)),d=Math.pow(10,u),f=Math.round(h/d);f<1&&(f=1);var p=f*d,g=p*Math.floor(t/p),m=p*Math.ceil(e/p),v=g;if(r&&a>2){for(;l.push(v),!((v+=p)>m););return{result:l,niceMin:l[0],niceMax:l[l.length-1]}}var y=t;(l=[]).push(y);for(var x=Math.abs(e-t)/i,w=0;w<=i;w++)y+=x,l.push(y);return l[l.length-2]>=e&&l.pop(),{result:l,niceMin:l[0],niceMax:l[l.length-1]}}},{key:"linearScale",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,n=arguments.length>3?arguments[3]:void 0,r=Math.abs(e-t);"dataPoints"===(i=this._adjustTicksForSmallRange(i,n,r))&&(i=this.w.globals.dataPoints-1);var s=r/i;i===Number.MAX_VALUE&&(i=10,s=1);for(var a=[],o=t;i>=0;)a.push(o),o+=s,i-=1;return{result:a,niceMin:a[0],niceMax:a[a.length-1]}}},{key:"logarithmicScale",value:function(t,e,i){for(var n=[],r=Math.ceil(Math.log(e)/Math.log(i))+1,s=0;s<r;s++)n.push(Math.pow(i,s));return 0===t&&n.unshift(t),{result:n,niceMin:n[0],niceMax:n[n.length-1]}}},{key:"_adjustTicksForSmallRange",value:function(t,e,i){var n=t;if(void 0!==e&&this.w.config.yaxis[e].labels.formatter&&void 0===this.w.config.yaxis[e].tickAmount){var r=this.w.config.yaxis[e].labels.formatter(1);b.isNumber(Number(r))&&!b.isFloat(r)&&(n=Math.ceil(i))}return n<t?n:t}},{key:"setYScaleForIndex",value:function(t,e,i){var n=this.w.globals,r=this.w.config,s=n.isBarHorizontal?r.xaxis:r.yaxis[t];void 0===n.yAxisScale[t]&&(n.yAxisScale[t]=[]);var a=Math.abs(i-e);if(s.logarithmic&&a<=5&&(n.invalidLogScale=!0),s.logarithmic&&a>5)n.allSeriesCollapsed=!1,n.yAxisScale[t]=this.logarithmicScale(e,i,s.logBase);else if(i!==-Number.MAX_VALUE&&b.isNumber(i))if(n.allSeriesCollapsed=!1,void 0===s.min&&void 0===s.max||s.forceNiceScale){var o=void 0===r.yaxis[t].max&&void 0===r.yaxis[t].min||r.yaxis[t].forceNiceScale;n.yAxisScale[t]=this.niceScale(e,i,s.tickAmount?s.tickAmount:a<5&&a>1?a+1:5,t,o)}else n.yAxisScale[t]=this.linearScale(e,i,s.tickAmount,t);else n.yAxisScale[t]=this.linearScale(0,5,5)}},{key:"setXScale",value:function(t,e){var i=this.w,n=i.globals,r=i.config.xaxis,s=Math.abs(e-t);return e!==-Number.MAX_VALUE&&b.isNumber(e)?n.xAxisScale=this.linearScale(t,e,r.tickAmount?r.tickAmount:s<5&&s>1?s+1:5,0):n.xAxisScale=this.linearScale(0,5,5),n.xAxisScale}},{key:"setMultipleYScales",value:function(){var t=this,e=this.w.globals,i=this.w.config,n=e.minYArr.concat([]),r=e.maxYArr.concat([]),s=[];i.yaxis.forEach((function(e,a){var o=a;i.series.forEach((function(t,i){t.name===e.seriesName&&(o=i,a!==i?s.push({index:i,similarIndex:a,alreadyExists:!0}):s.push({index:i}))}));var l=n[o],c=r[o];t.setYScaleForIndex(a,l,c)})),this.sameScaleInMultipleAxes(n,r,s)}},{key:"sameScaleInMultipleAxes",value:function(t,e,i){var n=this,r=this.w.config,s=this.w.globals,a=[];i.forEach((function(t){t.alreadyExists&&(void 0===a[t.index]&&(a[t.index]=[]),a[t.index].push(t.index),a[t.index].push(t.similarIndex))})),s.yAxisSameScaleIndices=a,a.forEach((function(t,e){a.forEach((function(i,n){var r,s;e!==n&&(r=t,s=i,r.filter((function(t){return-1!==s.indexOf(t)}))).length>0&&(a[e]=a[e].concat(a[n]))}))}));var o=a.map((function(t){return t.filter((function(e,i){return t.indexOf(e)===i}))})).map((function(t){return t.sort()}));a=a.filter((function(t){return!!t}));var l=o.slice(),c=l.map((function(t){return JSON.stringify(t)}));l=l.filter((function(t,e){return c.indexOf(JSON.stringify(t))===e}));var h=[],u=[];t.forEach((function(t,i){l.forEach((function(n,r){n.indexOf(i)>-1&&(void 0===h[r]&&(h[r]=[],u[r]=[]),h[r].push({key:i,value:t}),u[r].push({key:i,value:e[i]}))}))}));var d=Array.apply(null,Array(l.length)).map(Number.prototype.valueOf,Number.MIN_VALUE),f=Array.apply(null,Array(l.length)).map(Number.prototype.valueOf,-Number.MAX_VALUE);h.forEach((function(t,e){t.forEach((function(t,i){d[e]=Math.min(t.value,d[e])}))})),u.forEach((function(t,e){t.forEach((function(t,i){f[e]=Math.max(t.value,f[e])}))})),t.forEach((function(t,e){u.forEach((function(t,i){var a=d[i],o=f[i];r.chart.stacked&&(o=0,t.forEach((function(t,e){t.value!==-Number.MAX_VALUE&&(o+=t.value),a!==Number.MIN_VALUE&&(a+=h[i][e].value)}))),t.forEach((function(i,l){t[l].key===e&&(void 0!==r.yaxis[e].min&&(a="function"==typeof r.yaxis[e].min?r.yaxis[e].min(s.minY):r.yaxis[e].min),void 0!==r.yaxis[e].max&&(o="function"==typeof r.yaxis[e].max?r.yaxis[e].max(s.maxY):r.yaxis[e].max),n.setYScaleForIndex(e,a,o))}))}))}))}},{key:"autoScaleY",value:function(t,e,i){t||(t=this);var n=t.w;if(n.globals.isMultipleYAxis||n.globals.collapsedSeries.length)return console.warn("autoScaleYaxis is not supported in a multi-yaxis chart."),e;var r=n.globals.seriesX[0],s=n.config.chart.stacked;return e.forEach((function(t,a){for(var o=0,l=0;l<r.length;l++)if(r[l]>=i.xaxis.min){o=l;break}var c,h,u=n.globals.minYArr[a],d=n.globals.maxYArr[a],f=n.globals.stackedSeriesTotals;n.globals.series.forEach((function(a,l){var p=a[o];s?(p=f[o],c=h=p,f.forEach((function(t,e){r[e]<=i.xaxis.max&&r[e]>=i.xaxis.min&&(t>h&&null!==t&&(h=t),a[e]<c&&null!==a[e]&&(c=a[e]))}))):(c=h=p,a.forEach((function(t,e){if(r[e]<=i.xaxis.max&&r[e]>=i.xaxis.min){var s=t,a=t;n.globals.series.forEach((function(i,n){null!==t&&(s=Math.min(i[e],s),a=Math.max(i[e],a))})),a>h&&null!==a&&(h=a),s<c&&null!==s&&(c=s)}}))),void 0===c&&void 0===h&&(c=u,h=d),(h*=h<0?.9:1.1)<0&&h<d&&(h=d),(c*=c<0?1.1:.9)<0&&c>u&&(c=u),e.length>1?(e[l].min=void 0===t.min?c:t.min,e[l].max=void 0===t.max?h:t.max):(e[0].min=void 0===t.min?c:t.min,e[0].max=void 0===t.max?h:t.max)}))})),e}}]),t}(),Q=function(){function t(e){o(this,t),this.ctx=e,this.w=e.w,this.scales=new Z(e)}return c(t,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-Number.MAX_VALUE,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=this.w.config,s=this.w.globals,a=-Number.MAX_VALUE,o=Number.MIN_VALUE;null===n&&(n=t+1);var l=s.series,c=l,h=l;"candlestick"===r.chart.type?(c=s.seriesCandleL,h=s.seriesCandleH):"boxPlot"===r.chart.type?(c=s.seriesCandleO,h=s.seriesCandleC):s.isRangeData&&(c=s.seriesRangeStart,h=s.seriesRangeEnd);for(var u=t;u<n;u++){s.dataPoints=Math.max(s.dataPoints,l[u].length),s.categoryLabels.length&&(s.dataPoints=s.categoryLabels.filter((function(t){return void 0!==t})).length);for(var d=0;d<s.series[u].length;d++){var f=l[u][d];null!==f&&b.isNumber(f)?(void 0!==h[u][d]&&(a=Math.max(a,h[u][d]),e=Math.min(e,h[u][d])),void 0!==c[u][d]&&(e=Math.min(e,c[u][d]),i=Math.max(i,c[u][d])),"candlestick"!==this.w.config.chart.type&&"boxPlot"!==this.w.config.chart.type||(void 0!==s.seriesCandleC[u][d]&&(a=Math.max(a,s.seriesCandleO[u][d]),a=Math.max(a,s.seriesCandleH[u][d]),a=Math.max(a,s.seriesCandleL[u][d]),a=Math.max(a,s.seriesCandleC[u][d]),"boxPlot"===this.w.config.chart.type&&(a=Math.max(a,s.seriesCandleM[u][d]))),!r.series[u].type||"candlestick"===r.series[u].type&&"boxPlot"===r.series[u].type||(a=Math.max(a,s.series[u][d]),e=Math.min(e,s.series[u][d])),i=a),s.seriesGoals[u]&&s.seriesGoals[u][d]&&Array.isArray(s.seriesGoals[u][d])&&s.seriesGoals[u][d].forEach((function(t){o!==Number.MIN_VALUE&&(o=Math.min(o,t.value),e=o),a=Math.max(a,t.value),i=a})),b.isFloat(f)&&(f=b.noExponents(f),s.yValueDecimal=Math.max(s.yValueDecimal,f.toString().split(".")[1].length)),o>c[u][d]&&c[u][d]<0&&(o=c[u][d])):s.hasNullValues=!0}}return"rangeBar"===r.chart.type&&s.seriesRangeStart.length&&s.isBarHorizontal&&(o=e),"bar"===r.chart.type&&(o<0&&a<0&&(a=0),o===Number.MIN_VALUE&&(o=0)),{minY:o,maxY:a,lowestY:e,highestY:i}}},{key:"setYRange",value:function(){var t=this.w.globals,e=this.w.config;t.maxY=-Number.MAX_VALUE,t.minY=Number.MIN_VALUE;var i=Number.MAX_VALUE;if(t.isMultipleYAxis)for(var n=0;n<t.series.length;n++){var r=this.getMinYMaxY(n,i,null,n+1);t.minYArr.push(r.minY),t.maxYArr.push(r.maxY),i=r.lowestY}var s=this.getMinYMaxY(0,i,null,t.series.length);if(t.minY=s.minY,t.maxY=s.maxY,i=s.lowestY,e.chart.stacked&&this._setStackedMinMax(),("line"===e.chart.type||"area"===e.chart.type||"candlestick"===e.chart.type||"boxPlot"===e.chart.type||"rangeBar"===e.chart.type&&!t.isBarHorizontal)&&t.minY===Number.MIN_VALUE&&i!==-Number.MAX_VALUE&&i!==t.maxY){var a=t.maxY-i;(i>=0&&i<=10||void 0!==e.yaxis[0].min||void 0!==e.yaxis[0].max)&&(a=0),t.minY=i-5*a/100,i>0&&t.minY<0&&(t.minY=0),t.maxY=t.maxY+5*a/100}return e.yaxis.forEach((function(e,i){void 0!==e.max&&("number"==typeof e.max?t.maxYArr[i]=e.max:"function"==typeof e.max&&(t.maxYArr[i]=e.max(t.isMultipleYAxis?t.maxYArr[i]:t.maxY)),t.maxY=t.maxYArr[i]),void 0!==e.min&&("number"==typeof e.min?t.minYArr[i]=e.min:"function"==typeof e.min&&(t.minYArr[i]=e.min(t.isMultipleYAxis?t.minYArr[i]===Number.MIN_VALUE?0:t.minYArr[i]:t.minY)),t.minY=t.minYArr[i])})),t.isBarHorizontal&&["min","max"].forEach((function(i){void 0!==e.xaxis[i]&&"number"==typeof e.xaxis[i]&&("min"===i?t.minY=e.xaxis[i]:t.maxY=e.xaxis[i])})),t.isMultipleYAxis?(this.scales.setMultipleYScales(),t.minY=i,t.yAxisScale.forEach((function(e,i){t.minYArr[i]=e.niceMin,t.maxYArr[i]=e.niceMax}))):(this.scales.setYScaleForIndex(0,t.minY,t.maxY),t.minY=t.yAxisScale[0].niceMin,t.maxY=t.yAxisScale[0].niceMax,t.minYArr[0]=t.yAxisScale[0].niceMin,t.maxYArr[0]=t.yAxisScale[0].niceMax),{minY:t.minY,maxY:t.maxY,minYArr:t.minYArr,maxYArr:t.maxYArr,yAxisScale:t.yAxisScale}}},{key:"setXRange",value:function(){var t=this.w.globals,e=this.w.config,i="numeric"===e.xaxis.type||"datetime"===e.xaxis.type||"category"===e.xaxis.type&&!t.noLabelsProvided||t.noLabelsProvided||t.isXNumeric;if(t.isXNumeric&&function(){for(var e=0;e<t.series.length;e++)if(t.labels[e])for(var i=0;i<t.labels[e].length;i++)null!==t.labels[e][i]&&b.isNumber(t.labels[e][i])&&(t.maxX=Math.max(t.maxX,t.labels[e][i]),t.initialMaxX=Math.max(t.maxX,t.labels[e][i]),t.minX=Math.min(t.minX,t.labels[e][i]),t.initialMinX=Math.min(t.minX,t.labels[e][i]))}(),t.noLabelsProvided&&0===e.xaxis.categories.length&&(t.maxX=t.labels[t.labels.length-1],t.initialMaxX=t.labels[t.labels.length-1],t.minX=1,t.initialMinX=1),t.isXNumeric||t.noLabelsProvided||t.dataFormatXNumeric){var n;if(void 0===e.xaxis.tickAmount?(n=Math.round(t.svgWidth/150),"numeric"===e.xaxis.type&&t.dataPoints<30&&(n=t.dataPoints-1),n>t.dataPoints&&0!==t.dataPoints&&(n=t.dataPoints-1)):"dataPoints"===e.xaxis.tickAmount?(t.series.length>1&&(n=t.series[t.maxValsInArrayIndex].length-1),t.isXNumeric&&(n=t.maxX-t.minX-1)):n=e.xaxis.tickAmount,t.xTickAmount=n,void 0!==e.xaxis.max&&"number"==typeof e.xaxis.max&&(t.maxX=e.xaxis.max),void 0!==e.xaxis.min&&"number"==typeof e.xaxis.min&&(t.minX=e.xaxis.min),void 0!==e.xaxis.range&&(t.minX=t.maxX-e.xaxis.range),t.minX!==Number.MAX_VALUE&&t.maxX!==-Number.MAX_VALUE)if(e.xaxis.convertedCatToNumeric&&!t.dataFormatXNumeric){for(var r=[],s=t.minX-1;s<t.maxX;s++)r.push(s+1);t.xAxisScale={result:r,niceMin:r[0],niceMax:r[r.length-1]}}else t.xAxisScale=this.scales.setXScale(t.minX,t.maxX);else t.xAxisScale=this.scales.linearScale(1,n,n),t.noLabelsProvided&&t.labels.length>0&&(t.xAxisScale=this.scales.linearScale(1,t.labels.length,n-1),t.seriesX=t.labels.slice());i&&(t.labels=t.xAxisScale.result.slice())}return t.isBarHorizontal&&t.labels.length&&(t.xTickAmount=t.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:t.minX,maxX:t.maxX}}},{key:"setZRange",value:function(){var t=this.w.globals;if(t.isDataXYZ)for(var e=0;e<t.series.length;e++)if(void 0!==t.seriesZ[e])for(var i=0;i<t.seriesZ[e].length;i++)null!==t.seriesZ[e][i]&&b.isNumber(t.seriesZ[e][i])&&(t.maxZ=Math.max(t.maxZ,t.seriesZ[e][i]),t.minZ=Math.min(t.minZ,t.seriesZ[e][i]))}},{key:"_handleSingleDataPoint",value:function(){var t=this.w.globals,e=this.w.config;if(t.minX===t.maxX){var i=new H(this.ctx);if("datetime"===e.xaxis.type){var n=i.getDate(t.minX);e.xaxis.labels.datetimeUTC?n.setUTCDate(n.getUTCDate()-2):n.setDate(n.getDate()-2),t.minX=new Date(n).getTime();var r=i.getDate(t.maxX);e.xaxis.labels.datetimeUTC?r.setUTCDate(r.getUTCDate()+2):r.setDate(r.getDate()+2),t.maxX=new Date(r).getTime()}else("numeric"===e.xaxis.type||"category"===e.xaxis.type&&!t.noLabelsProvided)&&(t.minX=t.minX-2,t.initialMinX=t.minX,t.maxX=t.maxX+2,t.initialMaxX=t.maxX)}}},{key:"_getMinXDiff",value:function(){var t=this.w.globals;t.isXNumeric&&t.seriesX.forEach((function(e,i){1===e.length&&e.push(t.seriesX[t.maxValsInArrayIndex][t.seriesX[t.maxValsInArrayIndex].length-1]);var n=e.slice();n.sort((function(t,e){return t-e})),n.forEach((function(e,i){if(i>0){var r=e-n[i-1];r>0&&(t.minXDiff=Math.min(r,t.minXDiff))}})),1!==t.dataPoints&&t.minXDiff!==Number.MAX_VALUE||(t.minXDiff=.5)}))}},{key:"_setStackedMinMax",value:function(){var t=this.w.globals,e=[],i=[];if(t.series.length)for(var n=0;n<t.series[t.maxValsInArrayIndex].length;n++)for(var r=0,s=0,a=0;a<t.series.length;a++)null!==t.series[a][n]&&b.isNumber(t.series[a][n])&&(t.series[a][n]>0?r=r+parseFloat(t.series[a][n])+1e-4:s+=parseFloat(t.series[a][n])),a===t.series.length-1&&(e.push(r),i.push(s));for(var o=0;o<e.length;o++)t.maxY=Math.max(t.maxY,e[o]),t.minY=Math.min(t.minY,i[o])}}]),t}(),tt=function(){function t(e){o(this,t),this.ctx=e,this.w=e.w;var i=this.w;this.xaxisFontSize=i.config.xaxis.labels.style.fontSize,this.axisFontFamily=i.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=i.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal="bar"===i.config.chart.type&&i.config.plotOptions.bar.horizontal,this.xAxisoffX=0,"bottom"===i.config.xaxis.position&&(this.xAxisoffX=i.globals.gridHeight),this.drawnLabels=[],this.axesUtils=new q(e)}return c(t,[{key:"drawYaxis",value:function(t){var e=this,i=this.w,n=new A(this.ctx),r=i.config.yaxis[t].labels.style,s=r.fontSize,a=r.fontFamily,o=r.fontWeight,l=n.group({class:"apexcharts-yaxis",rel:t,transform:"translate("+i.globals.translateYAxisX[t]+", 0)"});if(this.axesUtils.isYAxisHidden(t))return l;var c=n.group({class:"apexcharts-yaxis-texts-g"});l.add(c);var h=i.globals.yAxisScale[t].result.length-1,u=i.globals.gridHeight/h,d=i.globals.translateY,f=i.globals.yLabelFormatters[t],p=i.globals.yAxisScale[t].result.slice();p=this.axesUtils.checkForReversedLabels(t,p);var g="";if(i.config.yaxis[t].labels.show)for(var m=function(l){var m=p[l];m=f(m,l,i);var v=i.config.yaxis[t].labels.padding;i.config.yaxis[t].opposite&&0!==i.config.yaxis.length&&(v*=-1);var y=e.axesUtils.getYAxisForeColor(r.colors,t),x=n.drawText({x:v,y:d+h/10+i.config.yaxis[t].labels.offsetY+1,text:m,textAnchor:i.config.yaxis[t].opposite?"start":"end",fontSize:s,fontFamily:a,fontWeight:o,foreColor:Array.isArray(y)?y[l]:y,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+r.cssClass});l===h&&(g=x),c.add(x);var b=document.createElementNS(i.globals.SVGNS,"title");if(b.textContent=Array.isArray(m)?m.join(" "):m,x.node.appendChild(b),0!==i.config.yaxis[t].labels.rotate){var w=n.rotateAroundCenter(g.node),k=n.rotateAroundCenter(x.node);x.node.setAttribute("transform","rotate(".concat(i.config.yaxis[t].labels.rotate," ").concat(w.x," ").concat(k.y,")"))}d+=u},v=h;v>=0;v--)m(v);if(void 0!==i.config.yaxis[t].title.text){var y=n.group({class:"apexcharts-yaxis-title"}),x=0;i.config.yaxis[t].opposite&&(x=i.globals.translateYAxisX[t]);var b=n.drawText({x:x,y:i.globals.gridHeight/2+i.globals.translateY+i.config.yaxis[t].title.offsetY,text:i.config.yaxis[t].title.text,textAnchor:"end",foreColor:i.config.yaxis[t].title.style.color,fontSize:i.config.yaxis[t].title.style.fontSize,fontWeight:i.config.yaxis[t].title.style.fontWeight,fontFamily:i.config.yaxis[t].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+i.config.yaxis[t].title.style.cssClass});y.add(b),l.add(y)}var w=i.config.yaxis[t].axisBorder,k=31+w.offsetX;if(i.config.yaxis[t].opposite&&(k=-31-w.offsetX),w.show){var S=n.drawLine(k,i.globals.translateY+w.offsetY-2,k,i.globals.gridHeight+i.globals.translateY+w.offsetY+2,w.color,0,w.width);l.add(S)}return i.config.yaxis[t].axisTicks.show&&this.axesUtils.drawYAxisTicks(k,h,w,i.config.yaxis[t].axisTicks,t,u,l),l}},{key:"drawYaxisInversed",value:function(t){var e=this.w,i=new A(this.ctx),n=i.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),r=i.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(e.globals.translateXAxisX,", ").concat(e.globals.translateXAxisY,")")});n.add(r);var s=e.globals.yAxisScale[t].result.length-1,a=e.globals.gridWidth/s+.1,o=a+e.config.xaxis.labels.offsetX,l=e.globals.xLabelFormatter,c=e.globals.yAxisScale[t].result.slice(),h=e.globals.timescaleLabels;h.length>0&&(this.xaxisLabels=h.slice(),s=(c=h.slice()).length),c=this.axesUtils.checkForReversedLabels(t,c);var u=h.length;if(e.config.xaxis.labels.show)for(var d=u?0:s;u?d<u:d>=0;u?d++:d--){var f=c[d];f=l(f,d,e);var p=e.globals.gridWidth+e.globals.padHorizontal-(o-a+e.config.xaxis.labels.offsetX);if(h.length){var g=this.axesUtils.getLabel(c,h,p,d,this.drawnLabels,this.xaxisFontSize);p=g.x,f=g.text,this.drawnLabels.push(g.text),0===d&&e.globals.skipFirstTimelinelabel&&(f=""),d===c.length-1&&e.globals.skipLastTimelinelabel&&(f="")}var m=i.drawText({x:p,y:this.xAxisoffX+e.config.xaxis.labels.offsetY+30-("top"===e.config.xaxis.position?e.globals.xAxisHeight+e.config.xaxis.axisTicks.height-2:0),text:f,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[t]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:e.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label "+e.config.xaxis.labels.style.cssClass});r.add(m),m.tspan(f);var v=document.createElementNS(e.globals.SVGNS,"title");v.textContent=f,m.node.appendChild(v),o+=a}return this.inversedYAxisTitleText(n),this.inversedYAxisBorder(n),n}},{key:"inversedYAxisBorder",value:function(t){var e=this.w,i=new A(this.ctx),n=e.config.xaxis.axisBorder;if(n.show){var r=0;"bar"===e.config.chart.type&&e.globals.isXNumeric&&(r-=15);var s=i.drawLine(e.globals.padHorizontal+r+n.offsetX,this.xAxisoffX,e.globals.gridWidth,this.xAxisoffX,n.color,0,n.height);t.add(s)}}},{key:"inversedYAxisTitleText",value:function(t){var e=this.w,i=new A(this.ctx);if(void 0!==e.config.xaxis.title.text){var n=i.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),r=i.drawText({x:e.globals.gridWidth/2+e.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(e.config.xaxis.title.style.fontSize)+e.config.xaxis.title.offsetY+20,text:e.config.xaxis.title.text,textAnchor:"middle",fontSize:e.config.xaxis.title.style.fontSize,fontFamily:e.config.xaxis.title.style.fontFamily,fontWeight:e.config.xaxis.title.style.fontWeight,foreColor:e.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+e.config.xaxis.title.style.cssClass});n.add(r),t.add(n)}}},{key:"yAxisTitleRotate",value:function(t,e){var i=this.w,n=new A(this.ctx),r={width:0,height:0},s={width:0,height:0},a=i.globals.dom.baseEl.querySelector(" .apexcharts-yaxis[rel='".concat(t,"'] .apexcharts-yaxis-texts-g"));null!==a&&(r=a.getBoundingClientRect());var o=i.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(t,"'] .apexcharts-yaxis-title text"));if(null!==o&&(s=o.getBoundingClientRect()),null!==o){var l=this.xPaddingForYAxisTitle(t,r,s,e);o.setAttribute("x",l.xPos-(e?10:0))}if(null!==o){var c=n.rotateAroundCenter(o);o.setAttribute("transform","rotate(".concat(e?-1*i.config.yaxis[t].title.rotate:i.config.yaxis[t].title.rotate," ").concat(c.x," ").concat(c.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(t,e,i,n){var r=this.w,s=0,a=0,o=10;return void 0===r.config.yaxis[t].title.text||t<0?{xPos:a,padd:0}:(n?(a=e.width+r.config.yaxis[t].title.offsetX+i.width/2+o/2,0===(s+=1)&&(a-=o/2)):(a=-1*e.width+r.config.yaxis[t].title.offsetX+o/2+i.width/2,r.globals.isBarHorizontal&&(o=25,a=-1*e.width-r.config.yaxis[t].title.offsetX-o)),{xPos:a,padd:o})}},{key:"setYAxisXPosition",value:function(t,e){var i=this.w,n=0,r=0,s=18,a=1;i.config.yaxis.length>1&&(this.multipleYs=!0),i.config.yaxis.map((function(o,l){var c=i.globals.ignoreYAxisIndexes.indexOf(l)>-1||!o.show||o.floating||0===t[l].width,h=t[l].width+e[l].width;o.opposite?i.globals.isBarHorizontal?(r=i.globals.gridWidth+i.globals.translateX-1,i.globals.translateYAxisX[l]=r-o.labels.offsetX):(r=i.globals.gridWidth+i.globals.translateX+a,c||(a=a+h+20),i.globals.translateYAxisX[l]=r-o.labels.offsetX+20):(n=i.globals.translateX-s,c||(s=s+h+20),i.globals.translateYAxisX[l]=n+o.labels.offsetX)}))}},{key:"setYAxisTextAlignments",value:function(){var t=this.w,e=t.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis");(e=b.listToArray(e)).forEach((function(e,i){var n=t.config.yaxis[i];if(n&&void 0!==n.labels.align){var r=t.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(i,"'] .apexcharts-yaxis-texts-g")),s=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(i,"'] .apexcharts-yaxis-label"));s=b.listToArray(s);var a=r.getBoundingClientRect();"left"===n.labels.align?(s.forEach((function(t,e){t.setAttribute("text-anchor","start")})),n.opposite||r.setAttribute("transform","translate(-".concat(a.width,", 0)"))):"center"===n.labels.align?(s.forEach((function(t,e){t.setAttribute("text-anchor","middle")})),r.setAttribute("transform","translate(".concat(a.width/2*(n.opposite?1:-1),", 0)"))):"right"===n.labels.align&&(s.forEach((function(t,e){t.setAttribute("text-anchor","end")})),n.opposite&&r.setAttribute("transform","translate(".concat(a.width,", 0)")))}}))}}]),t}(),et=function(){function t(e){o(this,t),this.ctx=e,this.w=e.w,this.documentEvent=b.bind(this.documentEvent,this)}return c(t,[{key:"addEventListener",value:function(t,e){var i=this.w;i.globals.events.hasOwnProperty(t)?i.globals.events[t].push(e):i.globals.events[t]=[e]}},{key:"removeEventListener",value:function(t,e){var i=this.w;if(i.globals.events.hasOwnProperty(t)){var n=i.globals.events[t].indexOf(e);-1!==n&&i.globals.events[t].splice(n,1)}}},{key:"fireEvent",value:function(t,e){var i=this.w;if(i.globals.events.hasOwnProperty(t)){e&&e.length||(e=[]);for(var n=i.globals.events[t],r=n.length,s=0;s<r;s++)n[s].apply(null,e)}}},{key:"setupEventHandlers",value:function(){var t=this,e=this.w,i=this.ctx,n=e.globals.dom.baseEl.querySelector(e.globals.chartClass);this.ctx.eventList.forEach((function(t){n.addEventListener(t,(function(t){var n=Object.assign({},e,{seriesIndex:e.globals.capturedSeriesIndex,dataPointIndex:e.globals.capturedDataPointIndex});"mousemove"===t.type||"touchmove"===t.type?"function"==typeof e.config.chart.events.mouseMove&&e.config.chart.events.mouseMove(t,i,n):"mouseleave"===t.type||"touchleave"===t.type?"function"==typeof e.config.chart.events.mouseLeave&&e.config.chart.events.mouseLeave(t,i,n):("mouseup"===t.type&&1===t.which||"touchend"===t.type)&&("function"==typeof e.config.chart.events.click&&e.config.chart.events.click(t,i,n),i.ctx.events.fireEvent("click",[t,i,n]))}),{capture:!1,passive:!0})})),this.ctx.eventList.forEach((function(i){e.globals.dom.baseEl.addEventListener(i,t.documentEvent,{passive:!0})})),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(t){var e=this.w,i=t.target.className;if("click"===t.type){var n=e.globals.dom.baseEl.querySelector(".apexcharts-menu");n&&n.classList.contains("apexcharts-menu-open")&&"apexcharts-menu-icon"!==i&&n.classList.remove("apexcharts-menu-open")}e.globals.clientX="touchmove"===t.type?t.touches[0].clientX:t.clientX,e.globals.clientY="touchmove"===t.type?t.touches[0].clientY:t.clientY}}]),t}(),it=function(){function t(e){o(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"setCurrentLocaleValues",value:function(t){var e=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(e=this.w.config.chart.locales.concat(window.Apex.chart.locales));var i=e.filter((function(e){return e.name===t}))[0];if(!i)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var n=b.extend(_,i);this.w.globals.locale=n.options}}]),t}(),nt=function(){function t(e){o(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"drawAxis",value:function(t,e){var i,n,r=this.w.globals,s=this.w.config,a=new K(this.ctx),o=new tt(this.ctx);r.axisCharts&&"radar"!==t&&(r.isBarHorizontal?(n=o.drawYaxisInversed(0),i=a.drawXaxisInversed(0),r.dom.elGraphical.add(i),r.dom.elGraphical.add(n)):(i=a.drawXaxis(),r.dom.elGraphical.add(i),s.yaxis.map((function(t,e){-1===r.ignoreYAxisIndexes.indexOf(e)&&(n=o.drawYaxis(e),r.dom.Paper.add(n))}))))}}]),t}(),rt=function(){function t(e){o(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"drawXCrosshairs",value:function(){var t=this.w,e=new A(this.ctx),i=new k(this.ctx),n=t.config.xaxis.crosshairs.fill.gradient,r=t.config.xaxis.crosshairs.dropShadow,s=t.config.xaxis.crosshairs.fill.type,a=n.colorFrom,o=n.colorTo,l=n.opacityFrom,c=n.opacityTo,h=n.stops,u=r.enabled,d=r.left,f=r.top,p=r.blur,g=r.color,m=r.opacity,v=t.config.xaxis.crosshairs.fill.color;if(t.config.xaxis.crosshairs.show){"gradient"===s&&(v=e.drawGradient("vertical",a,o,l,c,null,h,null));var y=e.drawRect();1===t.config.xaxis.crosshairs.width&&(y=e.drawLine());var x=t.globals.gridHeight;(!b.isNumber(x)||x<0)&&(x=0);var w=t.config.xaxis.crosshairs.width;(!b.isNumber(w)||w<0)&&(w=0),y.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:x,width:w,height:x,fill:v,filter:"none","fill-opacity":t.config.xaxis.crosshairs.opacity,stroke:t.config.xaxis.crosshairs.stroke.color,"stroke-width":t.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":t.config.xaxis.crosshairs.stroke.dashArray}),u&&(y=i.dropShadow(y,{left:d,top:f,blur:p,color:g,opacity:m})),t.globals.dom.elGraphical.add(y)}}},{key:"drawYCrosshairs",value:function(){var t=this.w,e=new A(this.ctx),i=t.config.yaxis[0].crosshairs,n=t.globals.barPadForNumericAxis;if(t.config.yaxis[0].crosshairs.show){var r=e.drawLine(-n,0,t.globals.gridWidth+n,0,i.stroke.color,i.stroke.dashArray,i.stroke.width);r.attr({class:"apexcharts-ycrosshairs"}),t.globals.dom.elGraphical.add(r)}var s=e.drawLine(-n,0,t.globals.gridWidth+n,0,i.stroke.color,0,0);s.attr({class:"apexcharts-ycrosshairs-hidden"}),t.globals.dom.elGraphical.add(s)}}]),t}(),st=function(){function t(e){o(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"checkResponsiveConfig",value:function(t){var e=this,i=this.w,n=i.config;if(0!==n.responsive.length){var r=n.responsive.slice();r.sort((function(t,e){return t.breakpoint>e.breakpoint?1:e.breakpoint>t.breakpoint?-1:0})).reverse();var s=new Y({}),a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r[0].breakpoint,a=window.innerWidth>0?window.innerWidth:screen.width;if(a>n){var o=E.extendArrayProps(s,i.globals.initialConfig,i);t=b.extend(o,t),t=b.extend(i.config,t),e.overrideResponsiveOptions(t)}else for(var l=0;l<r.length;l++)a<r[l].breakpoint&&(t=E.extendArrayProps(s,r[l].options,i),t=b.extend(i.config,t),e.overrideResponsiveOptions(t))};if(t){var o=E.extendArrayProps(s,t,i);o=b.extend(i.config,o),a(o=b.extend(o,t))}else a({})}}},{key:"overrideResponsiveOptions",value:function(t){var e=new Y(t).init({responsiveOverride:!0});this.w.config=e}}]),t}(),at=function(){function t(e){o(this,t),this.ctx=e,this.colors=[],this.w=e.w;var i=this.w;this.isColorFn=!1,this.isHeatmapDistributed="treemap"===i.config.chart.type&&i.config.plotOptions.treemap.distributed||"heatmap"===i.config.chart.type&&i.config.plotOptions.heatmap.distributed,this.isBarDistributed=i.config.plotOptions.bar.distributed&&("bar"===i.config.chart.type||"rangeBar"===i.config.chart.type)}return c(t,[{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var t=this,e=this.w,i=new b;if(e.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(e.config.theme.mode)),void 0===e.config.colors?e.globals.colors=this.predefined():(e.globals.colors=e.config.colors,Array.isArray(e.config.colors)&&e.config.colors.length>0&&"function"==typeof e.config.colors[0]&&(e.globals.colors=e.config.series.map((function(i,n){var r=e.config.colors[n];return r||(r=e.config.colors[0]),"function"==typeof r?(t.isColorFn=!0,r({value:e.globals.axisCharts?e.globals.series[n][0]?e.globals.series[n][0]:0:e.globals.series[n],seriesIndex:n,dataPointIndex:n,w:e})):r})))),e.globals.seriesColors.map((function(t,i){t&&(e.globals.colors[i]=t)})),e.config.theme.monochrome.enabled){var n=[],r=e.globals.series.length;(this.isBarDistributed||this.isHeatmapDistributed)&&(r=e.globals.series[0].length*e.globals.series.length);for(var s=e.config.theme.monochrome.color,a=1/(r/e.config.theme.monochrome.shadeIntensity),o=e.config.theme.monochrome.shadeTo,l=0,c=0;c<r;c++){var h=void 0;"dark"===o?(h=i.shadeColor(-1*l,s),l+=a):(h=i.shadeColor(l,s),l+=a),n.push(h)}e.globals.colors=n.slice()}var u=e.globals.colors.slice();this.pushExtraColors(e.globals.colors),["fill","stroke"].forEach((function(i){void 0===e.config[i].colors?e.globals[i].colors=t.isColorFn?e.config.colors:u:e.globals[i].colors=e.config[i].colors.slice(),t.pushExtraColors(e.globals[i].colors)})),void 0===e.config.dataLabels.style.colors?e.globals.dataLabels.style.colors=u:e.globals.dataLabels.style.colors=e.config.dataLabels.style.colors.slice(),this.pushExtraColors(e.globals.dataLabels.style.colors,50),void 0===e.config.plotOptions.radar.polygons.fill.colors?e.globals.radarPolygons.fill.colors=["dark"===e.config.theme.mode?"#424242":"none"]:e.globals.radarPolygons.fill.colors=e.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(e.globals.radarPolygons.fill.colors,20),void 0===e.config.markers.colors?e.globals.markers.colors=u:e.globals.markers.colors=e.config.markers.colors.slice(),this.pushExtraColors(e.globals.markers.colors)}},{key:"pushExtraColors",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=this.w,r=e||n.globals.series.length;if(null===i&&(i=this.isBarDistributed||this.isHeatmapDistributed||"heatmap"===n.config.chart.type&&n.config.plotOptions.heatmap.colorScale.inverse),i&&n.globals.series.length&&(r=n.globals.series[n.globals.maxValsInArrayIndex].length*n.globals.series.length),t.length<r)for(var s=r-t.length,a=0;a<s;a++)t.push(t[a])}},{key:"updateThemeOptions",value:function(t){t.chart=t.chart||{},t.tooltip=t.tooltip||{};var e=t.theme.mode||"light",i=t.theme.palette?t.theme.palette:"dark"===e?"palette4":"palette1",n=t.chart.foreColor?t.chart.foreColor:"dark"===e?"#f6f7f8":"#373d3f";return t.tooltip.theme=e,t.chart.foreColor=n,t.theme.palette=i,t}},{key:"predefined",value:function(){switch(this.w.config.theme.palette){case"palette1":this.colors=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"];break;case"palette2":this.colors=["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"];break;case"palette3":this.colors=["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"];break;case"palette4":this.colors=["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"];break;case"palette5":this.colors=["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"];break;case"palette6":this.colors=["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"];break;case"palette7":this.colors=["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"];break;case"palette8":this.colors=["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"];break;case"palette9":this.colors=["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"];break;case"palette10":this.colors=["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"];break;default:this.colors=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"]}return this.colors}}]),t}(),ot=function(){function t(e){o(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(t){var e=this.w,i="title"===t?e.config.title:e.config.subtitle,n=e.globals.svgWidth/2,r=i.offsetY,s="middle";if("left"===i.align?(n=10,s="start"):"right"===i.align&&(n=e.globals.svgWidth-10,s="end"),n+=i.offsetX,r=r+parseInt(i.style.fontSize,10)+i.margin/2,void 0!==i.text){var a=new A(this.ctx).drawText({x:n,y:r,text:i.text,textAnchor:s,fontSize:i.style.fontSize,fontFamily:i.style.fontFamily,fontWeight:i.style.fontWeight,foreColor:i.style.color,opacity:1});a.node.setAttribute("class","apexcharts-".concat(t,"-text")),e.globals.dom.Paper.add(a)}}}]),t}(),lt=function(){function t(e){o(this,t),this.w=e.w,this.dCtx=e}return c(t,[{key:"getTitleSubtitleCoords",value:function(t){var e=this.w,i=0,n=0,r="title"===t?e.config.title.floating:e.config.subtitle.floating,s=e.globals.dom.baseEl.querySelector(".apexcharts-".concat(t,"-text"));if(null!==s&&!r){var a=s.getBoundingClientRect();i=a.width,n=e.globals.axisCharts?a.height+5:a.height}return{width:i,height:n}}},{key:"getLegendsRect",value:function(){var t=this.w,e=t.globals.dom.baseEl.querySelector(".apexcharts-legend");t.config.legend.height||"top"!==t.config.legend.position&&"bottom"!==t.config.legend.position||(e.style.maxHeight=t.globals.svgHeight/2+"px");var i=Object.assign({},b.getBoundingClientRect(e));return null!==e&&!t.config.legend.floating&&t.config.legend.show?this.dCtx.lgRect={x:i.x,y:i.y,height:i.height,width:0===i.height?0:i.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},"left"!==t.config.legend.position&&"right"!==t.config.legend.position||1.5*this.dCtx.lgRect.width>t.globals.svgWidth&&(this.dCtx.lgRect.width=t.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getLargestStringFromMultiArr",value:function(t,e){var i=t;if(this.w.globals.isMultiLineX){var n=e.map((function(t,e){return Array.isArray(t)?t.length:1})),r=Math.max.apply(Math,v(n));i=e[n.indexOf(r)]}return i}}]),t}(),ct=function(){function t(e){o(this,t),this.w=e.w,this.dCtx=e}return c(t,[{key:"getxAxisLabelsCoords",value:function(){var t,e=this.w,i=e.globals.labels.slice();if(e.config.xaxis.convertedCatToNumeric&&0===i.length&&(i=e.globals.categoryLabels),e.globals.timescaleLabels.length>0){var n=this.getxAxisTimeScaleLabelsCoords();t={width:n.width,height:n.height},e.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends="left"!==e.config.legend.position&&"right"!==e.config.legend.position||e.config.legend.floating?0:this.dCtx.lgRect.width;var r=e.globals.xLabelFormatter,s=b.getLargestStringFromArr(i),a=this.dCtx.dimHelpers.getLargestStringFromMultiArr(s,i);e.globals.isBarHorizontal&&(a=s=e.globals.yAxisScale[0].result.reduce((function(t,e){return t.length>e.length?t:e}),0));var o=new G(this.dCtx.ctx),l=s;s=o.xLabelFormat(r,s,l,{i:void 0,dateFormatter:new H(this.dCtx.ctx).formatDate,w:e}),a=o.xLabelFormat(r,a,l,{i:void 0,dateFormatter:new H(this.dCtx.ctx).formatDate,w:e}),(e.config.xaxis.convertedCatToNumeric&&void 0===s||""===String(s).trim())&&(a=s="1");var c=new A(this.dCtx.ctx),h=c.getTextRects(s,e.config.xaxis.labels.style.fontSize),u=h;if(s!==a&&(u=c.getTextRects(a,e.config.xaxis.labels.style.fontSize)),(t={width:h.width>=u.width?h.width:u.width,height:h.height>=u.height?h.height:u.height}).width*i.length>e.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&0!==e.config.xaxis.labels.rotate||e.config.xaxis.labels.rotateAlways){if(!e.globals.isBarHorizontal){e.globals.rotateXLabels=!0;var d=function(t){return c.getTextRects(t,e.config.xaxis.labels.style.fontSize,e.config.xaxis.labels.style.fontFamily,"rotate(".concat(e.config.xaxis.labels.rotate," 0 0)"),!1)};h=d(s),s!==a&&(u=d(a)),t.height=(h.height>u.height?h.height:u.height)/1.5,t.width=h.width>u.width?h.width:u.width}}else e.globals.rotateXLabels=!1}return e.config.xaxis.labels.show||(t={width:0,height:0}),{width:t.width,height:t.height}}},{key:"getxAxisTitleCoords",value:function(){var t=this.w,e=0,i=0;if(void 0!==t.config.xaxis.title.text){var n=new A(this.dCtx.ctx).getTextRects(t.config.xaxis.title.text,t.config.xaxis.title.style.fontSize);e=n.width,i=n.height}return{width:e,height:i}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var t,e=this.w;this.dCtx.timescaleLabels=e.globals.timescaleLabels.slice();var i=this.dCtx.timescaleLabels.map((function(t){return t.value})),n=i.reduce((function(t,e){return void 0===t?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):t.length>e.length?t:e}),0);return 1.05*(t=new A(this.dCtx.ctx).getTextRects(n,e.config.xaxis.labels.style.fontSize)).width*i.length>e.globals.gridWidth&&0!==e.config.xaxis.labels.rotate&&(e.globals.overlappingXLabels=!0),t}},{key:"additionalPaddingXLabels",value:function(t){var e=this,i=this.w,n=i.globals,r=i.config,s=r.xaxis.type,a=t.width;n.skipLastTimelinelabel=!1,n.skipFirstTimelinelabel=!1;var o=i.config.yaxis[0].opposite&&i.globals.isBarHorizontal,l=function(t,o){(function(t){return-1!==n.collapsedSeriesIndices.indexOf(t)})(o)||function(t){if(e.dCtx.timescaleLabels&&e.dCtx.timescaleLabels.length){var o=e.dCtx.timescaleLabels[0],l=e.dCtx.timescaleLabels[e.dCtx.timescaleLabels.length-1].position+a/1.75-e.dCtx.yAxisWidthRight,c=o.position-a/1.75+e.dCtx.yAxisWidthLeft,h="right"===i.config.legend.position&&e.dCtx.lgRect.width>0?e.dCtx.lgRect.width:0;l>n.svgWidth-n.translateX-h&&(n.skipLastTimelinelabel=!0),c<-(t.show&&!t.floating||"bar"!==r.chart.type&&"candlestick"!==r.chart.type&&"rangeBar"!==r.chart.type&&"boxPlot"!==r.chart.type?10:a/1.75)&&(n.skipFirstTimelinelabel=!0)}else"datetime"===s?e.dCtx.gridPad.right<a&&!n.rotateXLabels&&(n.skipLastTimelinelabel=!0):"datetime"!==s&&e.dCtx.gridPad.right<a/2-e.dCtx.yAxisWidthRight&&!n.rotateXLabels&&!i.config.xaxis.labels.trim&&("between"!==i.config.xaxis.tickPlacement||i.globals.isBarHorizontal)&&(e.dCtx.xPadRight=a/2+1)}(t)};r.yaxis.forEach((function(t,i){o?(e.dCtx.gridPad.left<a&&(e.dCtx.xPadLeft=a/2+1),e.dCtx.xPadRight=a/2+1):l(t,i)}))}}]),t}(),ht=function(){function t(e){o(this,t),this.w=e.w,this.dCtx=e}return c(t,[{key:"getyAxisLabelsCoords",value:function(){var t=this,e=this.w,i=[],n=10,r=new q(this.dCtx.ctx);return e.config.yaxis.map((function(s,a){var o=e.globals.yAxisScale[a],l=0;if(!r.isYAxisHidden(a)&&s.labels.show&&void 0!==s.labels.minWidth&&(l=s.labels.minWidth),!r.isYAxisHidden(a)&&s.labels.show&&o.result.length){var c=e.globals.yLabelFormatters[a],h=o.niceMin===Number.MIN_VALUE?0:o.niceMin,u=String(h).length>String(o.niceMax).length?h:o.niceMax,d=c(u,{seriesIndex:a,dataPointIndex:-1,w:e}),f=d;if(void 0!==d&&0!==d.length||(d=u),e.globals.isBarHorizontal){n=0;var p=e.globals.labels.slice();d=c(d=b.getLargestStringFromArr(p),{seriesIndex:a,dataPointIndex:-1,w:e}),f=t.dCtx.dimHelpers.getLargestStringFromMultiArr(d,p)}var g=new A(t.dCtx.ctx),m="rotate(".concat(s.labels.rotate," 0 0)"),v=g.getTextRects(d,s.labels.style.fontSize,s.labels.style.fontFamily,m,!1),y=v;d!==f&&(y=g.getTextRects(f,s.labels.style.fontSize,s.labels.style.fontFamily,m,!1)),i.push({width:(l>y.width||l>v.width?l:y.width>v.width?y.width:v.width)+n,height:y.height>v.height?y.height:v.height})}else i.push({width:0,height:0})})),i}},{key:"getyAxisTitleCoords",value:function(){var t=this,e=this.w,i=[];return e.config.yaxis.map((function(e,n){if(e.show&&void 0!==e.title.text){var r=new A(t.dCtx.ctx),s="rotate(".concat(e.title.rotate," 0 0)"),a=r.getTextRects(e.title.text,e.title.style.fontSize,e.title.style.fontFamily,s,!1);i.push({width:a.width,height:a.height})}else i.push({width:0,height:0})})),i}},{key:"getTotalYAxisWidth",value:function(){var t=this.w,e=0,i=0,n=0,r=t.globals.yAxisScale.length>1?10:0,s=new q(this.dCtx.ctx),a=function(a,o){var l=t.config.yaxis[o].floating,c=0;a.width>0&&!l?(c=a.width+r,function(e){return t.globals.ignoreYAxisIndexes.indexOf(e)>-1}(o)&&(c=c-a.width-r)):c=l||s.isYAxisHidden(o)?0:5,t.config.yaxis[o].opposite?n+=c:i+=c,e+=c};return t.globals.yLabelsCoords.map((function(t,e){a(t,e)})),t.globals.yTitleCoords.map((function(t,e){a(t,e)})),t.globals.isBarHorizontal&&!t.config.yaxis[0].floating&&(e=t.globals.yLabelsCoords[0].width+t.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=i,this.dCtx.yAxisWidthRight=n,e}}]),t}(),ut=function(){function t(e){o(this,t),this.w=e.w,this.dCtx=e}return c(t,[{key:"gridPadForColumnsInNumericAxis",value:function(t){var e=this.w;if(e.globals.noData||e.globals.allSeriesCollapsed)return 0;var i=function(t){return"bar"===t||"rangeBar"===t||"candlestick"===t||"boxPlot"===t},n=e.config.chart.type,r=0,s=i(n)?e.config.series.length:1;if(e.globals.comboBarCount>0&&(s=e.globals.comboBarCount),e.globals.collapsedSeries.forEach((function(t){i(t.type)&&(s-=1)})),e.config.chart.stacked&&(s=1),(i(n)||e.globals.comboBarCount>0)&&e.globals.isXNumeric&&!e.globals.isBarHorizontal&&s>0){var a,o,l=Math.abs(e.globals.initialMaxX-e.globals.initialMinX);l<=3&&(l=e.globals.dataPoints),a=l/t,e.globals.minXDiff&&e.globals.minXDiff/a>0&&(o=e.globals.minXDiff/a),o>t/2&&(o/=2),(r=o/s*parseInt(e.config.plotOptions.bar.columnWidth,10)/100)<1&&(r=1),r=r/(s>1?1:1.5)+5,e.globals.barPadForNumericAxis=r}return r}},{key:"gridPadFortitleSubtitle",value:function(){var t=this,e=this.w,i=e.globals,n=this.dCtx.isSparkline||!e.globals.axisCharts?0:10;["title","subtitle"].forEach((function(i){void 0!==e.config[i].text?n+=e.config[i].margin:n+=t.dCtx.isSparkline||!e.globals.axisCharts?0:5})),!e.config.legend.show||"bottom"!==e.config.legend.position||e.config.legend.floating||e.globals.axisCharts||(n+=10);var r=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),s=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");i.gridHeight=i.gridHeight-r.height-s.height-n,i.translateY=i.translateY+r.height+s.height+n}},{key:"setGridXPosForDualYAxis",value:function(t,e){var i=this.w,n=new q(this.dCtx.ctx);i.config.yaxis.map((function(r,s){-1!==i.globals.ignoreYAxisIndexes.indexOf(s)||r.floating||n.isYAxisHidden(s)||(r.opposite&&(i.globals.translateX=i.globals.translateX-(e[s].width+t[s].width)-parseInt(i.config.yaxis[s].labels.style.fontSize,10)/1.2-12),i.globals.translateX<2&&(i.globals.translateX=2))}))}}]),t}(),dt=function(){function t(e){o(this,t),this.ctx=e,this.w=e.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new lt(this),this.dimYAxis=new ht(this),this.dimXAxis=new ct(this),this.dimGrid=new ut(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return c(t,[{key:"plotCoords",value:function(){var t=this,e=this.w,i=e.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.isSparkline&&(e.config.markers.discrete.length>0||e.config.markers.size>0)&&Object.entries(this.gridPad).forEach((function(e){var i=m(e,2),n=i[0],r=i[1];t.gridPad[n]=Math.max(r,t.w.globals.markers.largestSize/1.5)})),i.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),i.gridHeight=i.gridHeight-this.gridPad.top-this.gridPad.bottom,i.gridWidth=i.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var n=this.dimGrid.gridPadForColumnsInNumericAxis(i.gridWidth);i.gridWidth=i.gridWidth-2*n,i.translateX=i.translateX+this.gridPad.left+this.xPadLeft+(n>0?n+4:0),i.translateY=i.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var t=this,e=this.w,i=e.globals,n=this.dimYAxis.getyAxisLabelsCoords(),r=this.dimYAxis.getyAxisTitleCoords();e.globals.yLabelsCoords=[],e.globals.yTitleCoords=[],e.config.yaxis.map((function(t,i){e.globals.yLabelsCoords.push({width:n[i].width,index:i}),e.globals.yTitleCoords.push({width:r[i].width,index:i})})),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var s=this.dimXAxis.getxAxisLabelsCoords(),a=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(s,a),i.translateXAxisY=e.globals.rotateXLabels?this.xAxisHeight/8:-4,i.translateXAxisX=e.globals.rotateXLabels&&e.globals.isXNumeric&&e.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,e.globals.isBarHorizontal&&(i.rotateXLabels=!1,i.translateXAxisY=parseInt(e.config.xaxis.labels.style.fontSize,10)/1.5*-1),i.translateXAxisY=i.translateXAxisY+e.config.xaxis.labels.offsetY,i.translateXAxisX=i.translateXAxisX+e.config.xaxis.labels.offsetX;var o=this.yAxisWidth,l=this.xAxisHeight;i.xAxisLabelsHeight=this.xAxisHeight-a.height,i.xAxisLabelsWidth=this.xAxisWidth,i.xAxisHeight=this.xAxisHeight;var c=10;("radar"===e.config.chart.type||this.isSparkline)&&(o=0,l=i.goldenPadding),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||"treemap"===e.config.chart.type)&&(o=0,l=0,c=0),this.isSparkline||this.dimXAxis.additionalPaddingXLabels(s);var h=function(){i.translateX=o,i.gridHeight=i.svgHeight-t.lgRect.height-l-(t.isSparkline||"treemap"===e.config.chart.type?0:e.globals.rotateXLabels?10:15),i.gridWidth=i.svgWidth-o};switch("top"===e.config.xaxis.position&&(c=i.xAxisHeight-e.config.xaxis.axisTicks.height-5),e.config.legend.position){case"bottom":i.translateY=c,h();break;case"top":i.translateY=this.lgRect.height+c,h();break;case"left":i.translateY=c,i.translateX=this.lgRect.width+o,i.gridHeight=i.svgHeight-l-12,i.gridWidth=i.svgWidth-this.lgRect.width-o;break;case"right":i.translateY=c,i.translateX=o,i.gridHeight=i.svgHeight-l-12,i.gridWidth=i.svgWidth-this.lgRect.width-o-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(r,n),new tt(this.ctx).setYAxisXPosition(n,r)}},{key:"setDimensionsForNonAxisCharts",value:function(){var t=this.w,e=t.globals,i=t.config,n=0;t.config.legend.show&&!t.config.legend.floating&&(n=20);var r="pie"===i.chart.type||"polarArea"===i.chart.type||"donut"===i.chart.type?"pie":"radialBar",s=i.plotOptions[r].offsetY,a=i.plotOptions[r].offsetX;if(!i.legend.show||i.legend.floating)return e.gridHeight=e.svgHeight-i.grid.padding.left+i.grid.padding.right,e.gridWidth=e.gridHeight,e.translateY=s,void(e.translateX=a+(e.svgWidth-e.gridWidth)/2);switch(i.legend.position){case"bottom":e.gridHeight=e.svgHeight-this.lgRect.height-e.goldenPadding,e.gridWidth=e.svgWidth,e.translateY=s-10,e.translateX=a+(e.svgWidth-e.gridWidth)/2;break;case"top":e.gridHeight=e.svgHeight-this.lgRect.height-e.goldenPadding,e.gridWidth=e.svgWidth,e.translateY=this.lgRect.height+s+10,e.translateX=a+(e.svgWidth-e.gridWidth)/2;break;case"left":e.gridWidth=e.svgWidth-this.lgRect.width-n,e.gridHeight="auto"!==i.chart.height?e.svgHeight:e.gridWidth,e.translateY=s,e.translateX=a+this.lgRect.width+n;break;case"right":e.gridWidth=e.svgWidth-this.lgRect.width-n-5,e.gridHeight="auto"!==i.chart.height?e.svgHeight:e.gridWidth,e.translateY=s,e.translateX=a+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(t,e){var i=this.w,n=t.height+e.height,r=i.globals.isMultiLineX?1.2:i.globals.LINE_HEIGHT_RATIO,s=i.globals.rotateXLabels?22:10,a=i.globals.rotateXLabels&&"bottom"===i.config.legend.position?10:0;this.xAxisHeight=n*r+s+a,this.xAxisWidth=t.width,this.xAxisHeight-e.height>i.config.xaxis.labels.maxHeight&&(this.xAxisHeight=i.config.xaxis.labels.maxHeight),i.config.xaxis.labels.minHeight&&this.xAxisHeight<i.config.xaxis.labels.minHeight&&(this.xAxisHeight=i.config.xaxis.labels.minHeight),i.config.xaxis.floating&&(this.xAxisHeight=0);var o=0,l=0;i.config.yaxis.forEach((function(t){o+=t.labels.minWidth,l+=t.labels.maxWidth})),this.yAxisWidth<o&&(this.yAxisWidth=o),this.yAxisWidth>l&&(this.yAxisWidth=l)}}]),t}(),ft=function(){function t(e){o(this,t),this.w=e.w,this.lgCtx=e}return c(t,[{key:"getLegendStyles",value:function(){var t=document.createElement("style");t.setAttribute("type","text/css");var e=document.createTextNode("\t\n    \t\n      .apexcharts-legend {\t\n        display: flex;\t\n        overflow: auto;\t\n        padding: 0 10px;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {\t\n        flex-wrap: wrap\t\n      }\t\n      .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\t\n        flex-direction: column;\t\n        bottom: 0;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\t\n        justify-content: flex-start;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {\t\n        justify-content: center;  \t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {\t\n        justify-content: flex-end;\t\n      }\t\n      .apexcharts-legend-series {\t\n        cursor: pointer;\t\n        line-height: normal;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom .apexcharts-legend-series, .apexcharts-legend.apx-legend-position-top .apexcharts-legend-series{\t\n        display: flex;\t\n        align-items: center;\t\n      }\t\n      .apexcharts-legend-text {\t\n        position: relative;\t\n        font-size: 14px;\t\n      }\t\n      .apexcharts-legend-text *, .apexcharts-legend-marker * {\t\n        pointer-events: none;\t\n      }\t\n      .apexcharts-legend-marker {\t\n        position: relative;\t\n        display: inline-block;\t\n        cursor: pointer;\t\n        margin-right: 3px;\t\n        border-style: solid;\n      }\t\n      \t\n      .apexcharts-legend.apexcharts-align-right .apexcharts-legend-series, .apexcharts-legend.apexcharts-align-left .apexcharts-legend-series{\t\n        display: inline-block;\t\n      }\t\n      .apexcharts-legend-series.apexcharts-no-click {\t\n        cursor: auto;\t\n      }\t\n      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {\t\n        display: none !important;\t\n      }\t\n      .apexcharts-inactive-legend {\t\n        opacity: 0.45;\t\n      }");return t.appendChild(e),t}},{key:"getLegendBBox",value:function(){var t=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect(),e=t.width;return{clwh:t.height,clww:e}}},{key:"appendToForeignObject",value:function(){var t=this.w.globals;t.dom.elLegendForeign=document.createElementNS(t.SVGNS,"foreignObject");var e=t.dom.elLegendForeign;e.setAttribute("x",0),e.setAttribute("y",0),e.setAttribute("width",t.svgWidth),e.setAttribute("height",t.svgHeight),t.dom.elLegendWrap.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),e.appendChild(t.dom.elLegendWrap),e.appendChild(this.getLegendStyles()),t.dom.Paper.node.insertBefore(e,t.dom.elGraphical.node)}},{key:"toggleDataSeries",value:function(t,e){var i=this,n=this.w;if(n.globals.axisCharts||"radialBar"===n.config.chart.type){n.globals.resized=!0;var r=null,s=null;n.globals.risingSeries=[],n.globals.axisCharts?(r=n.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(t,"']")),s=parseInt(r.getAttribute("data:realIndex"),10)):(r=n.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(t+1,"']")),s=parseInt(r.getAttribute("rel"),10)-1),e?[{cs:n.globals.collapsedSeries,csi:n.globals.collapsedSeriesIndices},{cs:n.globals.ancillaryCollapsedSeries,csi:n.globals.ancillaryCollapsedSeriesIndices}].forEach((function(t){i.riseCollapsedSeries(t.cs,t.csi,s)})):this.hideSeries({seriesEl:r,realIndex:s})}else{var a=n.globals.dom.Paper.select(" .apexcharts-series[rel='".concat(t+1,"'] path")),o=n.config.chart.type;if("pie"===o||"polarArea"===o||"donut"===o){var l=n.config.plotOptions.pie.donut.labels;new A(this.lgCtx.ctx).pathMouseDown(a.members[0],null),this.lgCtx.ctx.pie.printDataLabelsInner(a.members[0].node,l)}a.fire("click")}}},{key:"hideSeries",value:function(t){var e=t.seriesEl,i=t.realIndex,n=this.w,r=b.clone(n.config.series);if(n.globals.axisCharts){var s=!1;if(n.config.yaxis[i]&&n.config.yaxis[i].show&&n.config.yaxis[i].showAlways&&(s=!0,n.globals.ancillaryCollapsedSeriesIndices.indexOf(i)<0&&(n.globals.ancillaryCollapsedSeries.push({index:i,data:r[i].data.slice(),type:e.parentNode.className.baseVal.split("-")[1]}),n.globals.ancillaryCollapsedSeriesIndices.push(i))),!s){n.globals.collapsedSeries.push({index:i,data:r[i].data.slice(),type:e.parentNode.className.baseVal.split("-")[1]}),n.globals.collapsedSeriesIndices.push(i);var a=n.globals.risingSeries.indexOf(i);n.globals.risingSeries.splice(a,1)}}else n.globals.collapsedSeries.push({index:i,data:r[i]}),n.globals.collapsedSeriesIndices.push(i);for(var o=e.childNodes,l=0;l<o.length;l++)o[l].classList.contains("apexcharts-series-markers-wrap")&&(o[l].classList.contains("apexcharts-hide")?o[l].classList.remove("apexcharts-hide"):o[l].classList.add("apexcharts-hide"));n.globals.allSeriesCollapsed=n.globals.collapsedSeries.length===n.config.series.length,r=this._getSeriesBasedOnCollapsedState(r),this.lgCtx.ctx.updateHelpers._updateSeries(r,n.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(t,e,i){var n=this.w,r=b.clone(n.config.series);if(t.length>0){for(var s=0;s<t.length;s++)t[s].index===i&&(n.globals.axisCharts?(r[i].data=t[s].data.slice(),t.splice(s,1),e.splice(s,1),n.globals.risingSeries.push(i)):(r[i]=t[s].data,t.splice(s,1),e.splice(s,1),n.globals.risingSeries.push(i)));r=this._getSeriesBasedOnCollapsedState(r),this.lgCtx.ctx.updateHelpers._updateSeries(r,n.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(t){var e=this.w;return e.globals.axisCharts?t.forEach((function(i,n){e.globals.collapsedSeriesIndices.indexOf(n)>-1&&(t[n].data=[])})):t.forEach((function(i,n){e.globals.collapsedSeriesIndices.indexOf(n)>-1&&(t[n]=0)})),t}}]),t}(),pt=function(){function t(e,i){o(this,t),this.ctx=e,this.w=e.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed="bar"===this.w.config.chart.type&&this.w.config.plotOptions.bar.distributed&&1===this.w.config.series.length,this.legendHelpers=new ft(this)}return c(t,[{key:"init",value:function(){var t=this.w,e=t.globals,i=t.config;if((i.legend.showForSingleSeries&&1===e.series.length||this.isBarsDistributed||e.series.length>1||!e.axisCharts)&&i.legend.show){for(;e.dom.elLegendWrap.firstChild;)e.dom.elLegendWrap.removeChild(e.dom.elLegendWrap.firstChild);this.drawLegends(),b.isIE11()?document.getElementsByTagName("head")[0].appendChild(this.legendHelpers.getLegendStyles()):this.legendHelpers.appendToForeignObject(),"bottom"===i.legend.position||"top"===i.legend.position?this.legendAlignHorizontal():"right"!==i.legend.position&&"left"!==i.legend.position||this.legendAlignVertical()}}},{key:"drawLegends",value:function(){var t=this,e=this.w,i=e.config.legend.fontFamily,n=e.globals.seriesNames,r=e.globals.colors.slice();if("heatmap"===e.config.chart.type){var s=e.config.plotOptions.heatmap.colorScale.ranges;n=s.map((function(t){return t.name?t.name:t.from+" - "+t.to})),r=s.map((function(t){return t.color}))}else this.isBarsDistributed&&(n=e.globals.labels.slice());e.config.legend.customLegendItems.length&&(n=e.config.legend.customLegendItems);for(var a=e.globals.legendFormatter,o=e.config.legend.inverseOrder,l=o?n.length-1:0;o?l>=0:l<=n.length-1;o?l--:l++){var c=a(n[l],{seriesIndex:l,w:e}),h=!1,u=!1;if(e.globals.collapsedSeries.length>0)for(var d=0;d<e.globals.collapsedSeries.length;d++)e.globals.collapsedSeries[d].index===l&&(h=!0);if(e.globals.ancillaryCollapsedSeriesIndices.length>0)for(var f=0;f<e.globals.ancillaryCollapsedSeriesIndices.length;f++)e.globals.ancillaryCollapsedSeriesIndices[f]===l&&(u=!0);var p=document.createElement("span");p.classList.add("apexcharts-legend-marker");var g=e.config.legend.markers.offsetX,m=e.config.legend.markers.offsetY,v=e.config.legend.markers.height,y=e.config.legend.markers.width,x=e.config.legend.markers.strokeWidth,w=e.config.legend.markers.strokeColor,k=e.config.legend.markers.radius,S=p.style;S.background=r[l],S.color=r[l],S.setProperty("background",r[l],"important"),e.config.legend.markers.fillColors&&e.config.legend.markers.fillColors[l]&&(S.background=e.config.legend.markers.fillColors[l]),void 0!==e.globals.seriesColors[l]&&(S.background=e.globals.seriesColors[l],S.color=e.globals.seriesColors[l]),S.height=Array.isArray(v)?parseFloat(v[l])+"px":parseFloat(v)+"px",S.width=Array.isArray(y)?parseFloat(y[l])+"px":parseFloat(y)+"px",S.left=(Array.isArray(g)?parseFloat(g[l]):parseFloat(g))+"px",S.top=(Array.isArray(m)?parseFloat(m[l]):parseFloat(m))+"px",S.borderWidth=Array.isArray(x)?x[l]:x,S.borderColor=Array.isArray(w)?w[l]:w,S.borderRadius=Array.isArray(k)?parseFloat(k[l])+"px":parseFloat(k)+"px",e.config.legend.markers.customHTML&&(Array.isArray(e.config.legend.markers.customHTML)?e.config.legend.markers.customHTML[l]&&(p.innerHTML=e.config.legend.markers.customHTML[l]()):p.innerHTML=e.config.legend.markers.customHTML()),A.setAttrs(p,{rel:l+1,"data:collapsed":h||u}),(h||u)&&p.classList.add("apexcharts-inactive-legend");var C=document.createElement("div"),I=document.createElement("span");I.classList.add("apexcharts-legend-text"),I.innerHTML=Array.isArray(c)?c.join(" "):c;var T=e.config.legend.labels.useSeriesColors?e.globals.colors[l]:e.config.legend.labels.colors;T||(T=e.config.chart.foreColor),I.style.color=T,I.style.fontSize=parseFloat(e.config.legend.fontSize)+"px",I.style.fontWeight=e.config.legend.fontWeight,I.style.fontFamily=i||e.config.chart.fontFamily,A.setAttrs(I,{rel:l+1,i:l,"data:default-text":encodeURIComponent(c),"data:collapsed":h||u}),C.appendChild(p),C.appendChild(I);var _=new E(this.ctx);e.config.legend.showForZeroSeries||0===_.getSeriesTotalByIndex(l)&&_.seriesHaveSameValues(l)&&!_.isSeriesNull(l)&&-1===e.globals.collapsedSeriesIndices.indexOf(l)&&-1===e.globals.ancillaryCollapsedSeriesIndices.indexOf(l)&&C.classList.add("apexcharts-hidden-zero-series"),e.config.legend.showForNullSeries||_.isSeriesNull(l)&&-1===e.globals.collapsedSeriesIndices.indexOf(l)&&-1===e.globals.ancillaryCollapsedSeriesIndices.indexOf(l)&&C.classList.add("apexcharts-hidden-null-series"),e.globals.dom.elLegendWrap.appendChild(C),e.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(e.config.legend.horizontalAlign)),e.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+e.config.legend.position),C.classList.add("apexcharts-legend-series"),C.style.margin="".concat(e.config.legend.itemMargin.vertical,"px ").concat(e.config.legend.itemMargin.horizontal,"px"),e.globals.dom.elLegendWrap.style.width=e.config.legend.width?e.config.legend.width+"px":"",e.globals.dom.elLegendWrap.style.height=e.config.legend.height?e.config.legend.height+"px":"",A.setAttrs(C,{rel:l+1,seriesName:b.escapeString(n[l]),"data:collapsed":h||u}),(h||u)&&C.classList.add("apexcharts-inactive-legend"),e.config.legend.onItemClick.toggleDataSeries||C.classList.add("apexcharts-no-click")}e.globals.dom.elWrap.addEventListener("click",t.onLegendClick,!0),e.config.legend.onItemHover.highlightDataSeries&&0===e.config.legend.customLegendItems.length&&(e.globals.dom.elWrap.addEventListener("mousemove",t.onLegendHovered,!0),e.globals.dom.elWrap.addEventListener("mouseout",t.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(t,e){var i=this.w,n=i.globals.dom.baseEl.querySelector(".apexcharts-legend"),r=n.getBoundingClientRect(),s=0,a=0;if("bottom"===i.config.legend.position)a+=i.globals.svgHeight-r.height/2;else if("top"===i.config.legend.position){var o=new dt(this.ctx),l=o.dimHelpers.getTitleSubtitleCoords("title").height,c=o.dimHelpers.getTitleSubtitleCoords("subtitle").height;a=a+(l>0?l-10:0)+(c>0?c-10:0)}n.style.position="absolute",s=s+t+i.config.legend.offsetX,a=a+e+i.config.legend.offsetY,n.style.left=s+"px",n.style.top=a+"px","bottom"===i.config.legend.position?(n.style.top="auto",n.style.bottom=5-i.config.legend.offsetY+"px"):"right"===i.config.legend.position&&(n.style.left="auto",n.style.right=25+i.config.legend.offsetX+"px"),["width","height"].forEach((function(t){n.style[t]&&(n.style[t]=parseInt(i.config.legend[t],10)+"px")}))}},{key:"legendAlignHorizontal",value:function(){var t=this.w;t.globals.dom.baseEl.querySelector(".apexcharts-legend").style.right=0;var e=this.legendHelpers.getLegendBBox(),i=new dt(this.ctx),n=i.dimHelpers.getTitleSubtitleCoords("title"),r=i.dimHelpers.getTitleSubtitleCoords("subtitle"),s=0;"bottom"===t.config.legend.position?s=-e.clwh/1.8:"top"===t.config.legend.position&&(s=n.height+r.height+t.config.title.margin+t.config.subtitle.margin-10),this.setLegendWrapXY(20,s)}},{key:"legendAlignVertical",value:function(){var t=this.w,e=this.legendHelpers.getLegendBBox(),i=0;"left"===t.config.legend.position&&(i=20),"right"===t.config.legend.position&&(i=t.globals.svgWidth-e.clww-10),this.setLegendWrapXY(i,20)}},{key:"onLegendHovered",value:function(t){var e=this.w,i=t.target.classList.contains("apexcharts-legend-text")||t.target.classList.contains("apexcharts-legend-marker");if("heatmap"===e.config.chart.type||this.isBarsDistributed){if(i){var n=parseInt(t.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,n,this.w]),new F(this.ctx).highlightRangeInSeries(t,t.target)}}else!t.target.classList.contains("apexcharts-inactive-legend")&&i&&new F(this.ctx).toggleSeriesOnHover(t,t.target)}},{key:"onLegendClick",value:function(t){var e=this.w;if(!e.config.legend.customLegendItems.length&&(t.target.classList.contains("apexcharts-legend-text")||t.target.classList.contains("apexcharts-legend-marker"))){var i=parseInt(t.target.getAttribute("rel"),10)-1,n="true"===t.target.getAttribute("data:collapsed"),r=this.w.config.chart.events.legendClick;"function"==typeof r&&r(this.ctx,i,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,i,this.w]);var s=this.w.config.legend.markers.onClick;"function"==typeof s&&t.target.classList.contains("apexcharts-legend-marker")&&(s(this.ctx,i,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,i,this.w])),"treemap"!==e.config.chart.type&&"heatmap"!==e.config.chart.type&&!this.isBarsDistributed&&e.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(i,n)}}}]),t}(),gt=function(){function t(e){o(this,t),this.ctx=e,this.w=e.w;var i=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=i.globals.minX,this.maxX=i.globals.maxX}return c(t,[{key:"createToolbar",value:function(){var t=this,e=this.w,i=function(){return document.createElement("div")},n=i();if(n.setAttribute("class","apexcharts-toolbar"),n.style.top=e.config.chart.toolbar.offsetY+"px",n.style.right=3-e.config.chart.toolbar.offsetX+"px",e.globals.dom.elWrap.appendChild(n),this.elZoom=i(),this.elZoomIn=i(),this.elZoomOut=i(),this.elPan=i(),this.elSelection=i(),this.elZoomReset=i(),this.elMenuIcon=i(),this.elMenu=i(),this.elCustomIcons=[],this.t=e.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var r=0;r<this.t.customIcons.length;r++)this.elCustomIcons.push(i());var s=[],a=function(i,n,r){var a=i.toLowerCase();t.t[a]&&e.config.chart.zoom.enabled&&s.push({el:n,icon:"string"==typeof t.t[a]?t.t[a]:r,title:t.localeValues[i],class:"apexcharts-".concat(a,"-icon")})};a("zoomIn",this.elZoomIn,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n'),a("zoomOut",this.elZoomOut,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n');var o=function(i){t.t[i]&&e.config.chart[i].enabled&&s.push({el:"zoom"===i?t.elZoom:t.elSelection,icon:"string"==typeof t.t[i]?t.t[i]:"zoom"===i?'<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>\n    <path d="M0 0h24v24H0V0z" fill="none"/>\n    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>\n</svg>':'<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>\n</svg>',title:t.localeValues["zoom"===i?"selectionZoom":"selection"],class:e.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(i,"-icon")})};o("zoom"),o("selection"),this.t.pan&&e.config.chart.zoom.enabled&&s.push({el:this.elPan,icon:"string"==typeof this.t.pan?this.t.pan:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <defs>\n        <path d="M0 0h24v24H0z" id="a"/>\n    </defs>\n    <clipPath id="b">\n        <use overflow="visible" xlink:href="#a"/>\n    </clipPath>\n    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>\n</svg>',title:this.localeValues.pan,class:e.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),a("reset",this.elZoomReset,'<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>\n    <path d="M0 0h24v24H0z" fill="none"/>\n</svg>'),this.t.download&&s.push({el:this.elMenuIcon,icon:"string"==typeof this.t.download?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var l=0;l<this.elCustomIcons.length;l++)s.push({el:this.elCustomIcons[l],icon:this.t.customIcons[l].icon,title:this.t.customIcons[l].title,index:this.t.customIcons[l].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[l].class});s.forEach((function(t,e){t.index&&b.moveIndexInArray(s,e,t.index)}));for(var c=0;c<s.length;c++)A.setAttrs(s[c].el,{class:s[c].class,title:s[c].title}),s[c].el.innerHTML=s[c].icon,n.appendChild(s[c].el);this._createHamburgerMenu(n),e.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):e.globals.panEnabled?this.elPan.classList.add(this.selectedClass):e.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(t){this.elMenuItems=[],t.appendChild(this.elMenu),A.setAttrs(this.elMenu,{class:"apexcharts-menu"});var e=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}];this.w.globals.allSeriesHasEqualX||e.splice(2,1);for(var i=0;i<e.length;i++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[i].innerHTML=e[i].title,A.setAttrs(this.elMenuItems[i],{class:"apexcharts-menu-item ".concat(e[i].name),title:e[i].title}),this.elMenu.appendChild(this.elMenuItems[i])}},{key:"addToolbarEventListeners",value:function(){var t=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach((function(e){e.classList.contains("exportSVG")?e.addEventListener("click",t.handleDownload.bind(t,"svg")):e.classList.contains("exportPNG")?e.addEventListener("click",t.handleDownload.bind(t,"png")):e.classList.contains("exportCSV")&&e.addEventListener("click",t.handleDownload.bind(t,"csv"))}));for(var e=0;e<this.t.customIcons.length;e++)this.elCustomIcons[e].addEventListener("click",this.t.customIcons[e].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(t){this.ctx.getSyncedCharts().forEach((function(e){e.ctx.toolbar.toggleOtherControls();var i="selection"===t?e.ctx.toolbar.elSelection:e.ctx.toolbar.elZoom,n="selection"===t?"selectionEnabled":"zoomEnabled";e.w.globals[n]=!e.w.globals[n],i.classList.contains(e.ctx.toolbar.selectedClass)?i.classList.remove(e.ctx.toolbar.selectedClass):i.classList.add(e.ctx.toolbar.selectedClass)}))}},{key:"getToolbarIconsReference",value:function(){var t=this.w;this.elZoom||(this.elZoom=t.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=t.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=t.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(t){this.toggleOtherControls(),"pan"===t?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var e="pan"===t?this.elPan:this.elZoom,i="pan"===t?this.elZoom:this.elPan;e&&e.classList.add(this.selectedClass),i&&i.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach((function(t){t.ctx.toolbar.toggleOtherControls(),t.w.globals.panEnabled=!t.w.globals.panEnabled,t.ctx.toolbar.elPan.classList.contains(t.ctx.toolbar.selectedClass)?t.ctx.toolbar.elPan.classList.remove(t.ctx.toolbar.selectedClass):t.ctx.toolbar.elPan.classList.add(t.ctx.toolbar.selectedClass)}))}},{key:"toggleOtherControls",value:function(){var t=this,e=this.w;e.globals.panEnabled=!1,e.globals.zoomEnabled=!1,e.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach((function(e){e&&e.classList.remove(t.selectedClass)}))}},{key:"handleZoomIn",value:function(){var t=this.w;t.globals.isRangeBar&&(this.minX=t.globals.minY,this.maxX=t.globals.maxY);var e=(this.minX+this.maxX)/2,i=(this.minX+e)/2,n=(this.maxX+e)/2,r=this._getNewMinXMaxX(i,n);t.globals.disableZoomIn||this.zoomUpdateOptions(r.minX,r.maxX)}},{key:"handleZoomOut",value:function(){var t=this.w;if(t.globals.isRangeBar&&(this.minX=t.globals.minY,this.maxX=t.globals.maxY),!("datetime"===t.config.xaxis.type&&new Date(this.minX).getUTCFullYear()<1e3)){var e=(this.minX+this.maxX)/2,i=this.minX-(e-this.minX),n=this.maxX-(e-this.maxX),r=this._getNewMinXMaxX(i,n);t.globals.disableZoomOut||this.zoomUpdateOptions(r.minX,r.maxX)}}},{key:"_getNewMinXMaxX",value:function(t,e){var i=this.w.config.xaxis.convertedCatToNumeric;return{minX:i?Math.floor(t):t,maxX:i?Math.floor(e):e}}},{key:"zoomUpdateOptions",value:function(t,e){var i=this.w;if(void 0!==t||void 0!==e){if(!(i.config.xaxis.convertedCatToNumeric&&(t<1&&(t=1,e=i.globals.dataPoints),e-t<2))){var n={min:t,max:e},r=this.getBeforeZoomRange(n);r&&(n=r.xaxis);var s={xaxis:n},a=b.clone(i.globals.initialConfig.yaxis);i.config.chart.zoom.autoScaleYaxis&&(a=new Z(this.ctx).autoScaleY(this.ctx,a,{xaxis:n})),i.config.chart.group||(s.yaxis=a),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(s,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(n,a)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(t,e){"function"==typeof this.ev.zoomed&&this.ev.zoomed(this.ctx,{xaxis:t,yaxis:e})}},{key:"getBeforeZoomRange",value:function(t,e){var i=null;return"function"==typeof this.ev.beforeZoom&&(i=this.ev.beforeZoom(this,{xaxis:t,yaxis:e})),i}},{key:"toggleMenu",value:function(){var t=this;window.setTimeout((function(){t.elMenu.classList.contains("apexcharts-menu-open")?t.elMenu.classList.remove("apexcharts-menu-open"):t.elMenu.classList.add("apexcharts-menu-open")}),0)}},{key:"handleDownload",value:function(t){var e=this.w,i=new $(this.ctx);switch(t){case"svg":i.exportToSVG(this.ctx);break;case"png":i.exportToPng(this.ctx);break;case"csv":i.exportToCSV({series:e.config.series,columnDelimiter:e.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(t){this.ctx.getSyncedCharts().forEach((function(t){var e=t.w;if(e.globals.lastXAxis.min=void 0,e.globals.lastXAxis.max=void 0,t.updateHelpers.revertDefaultAxisMinMax(),"function"==typeof e.config.chart.events.beforeResetZoom){var i=e.config.chart.events.beforeResetZoom(t,e);i&&t.updateHelpers.revertDefaultAxisMinMax(i)}"function"==typeof e.config.chart.events.zoomed&&t.ctx.toolbar.zoomCallback({min:e.config.xaxis.min,max:e.config.xaxis.max}),e.globals.zoomed=!1;var n=t.ctx.series.emptyCollapsedSeries(b.clone(e.globals.initialSeries));t.updateHelpers._updateSeries(n,e.config.chart.animations.dynamicAnimation.enabled)}))}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),t}(),mt=function(t){u(i,gt);var e=g(i);function i(t){var n;return o(this,i),(n=e.call(this,t)).ctx=t,n.w=t.w,n.dragged=!1,n.graphics=new A(n.ctx),n.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend"],n.clientX=0,n.clientY=0,n.startX=0,n.endX=0,n.dragX=0,n.startY=0,n.endY=0,n.dragY=0,n.moveDirection="none",n}return c(i,[{key:"init",value:function(t){var e=this,i=t.xyRatios,n=this.w,r=this;this.xyRatios=i,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=n.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),n.globals.dom.elGraphical.add(this.zoomRect),n.globals.dom.elGraphical.add(this.selectionRect),"x"===n.config.chart.selection.type?this.slDraggableRect=this.selectionRect.draggable({minX:0,minY:0,maxX:n.globals.gridWidth,maxY:n.globals.gridHeight}).on("dragmove",this.selectionDragging.bind(this,"dragging")):"y"===n.config.chart.selection.type?this.slDraggableRect=this.selectionRect.draggable({minX:0,maxX:n.globals.gridWidth}).on("dragmove",this.selectionDragging.bind(this,"dragging")):this.slDraggableRect=this.selectionRect.draggable().on("dragmove",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=n.globals.dom.baseEl.querySelector("".concat(n.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach((function(t){e.hoverArea.addEventListener(t,r.svgMouseEvents.bind(r,i),{capture:!1,passive:!0})}))}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(t,e){var i=this.w,n=this,r=this.ctx.toolbar,s=i.globals.zoomEnabled?i.config.chart.zoom.type:i.config.chart.selection.type,a=i.config.chart.toolbar.autoSelected;if(e.shiftKey?(this.shiftWasPressed=!0,r.enableZoomPanFromToolbar("pan"===a?"zoom":"pan")):this.shiftWasPressed&&(r.enableZoomPanFromToolbar(a),this.shiftWasPressed=!1),e.target){var o,l=e.target.classList;if(e.target.parentNode&&null!==e.target.parentNode&&(o=e.target.parentNode.classList),!(l.contains("apexcharts-selection-rect")||l.contains("apexcharts-legend-marker")||l.contains("apexcharts-legend-text")||o&&o.contains("apexcharts-toolbar"))){if(n.clientX="touchmove"===e.type||"touchstart"===e.type?e.touches[0].clientX:"touchend"===e.type?e.changedTouches[0].clientX:e.clientX,n.clientY="touchmove"===e.type||"touchstart"===e.type?e.touches[0].clientY:"touchend"===e.type?e.changedTouches[0].clientY:e.clientY,"mousedown"===e.type&&1===e.which){var c=n.gridRect.getBoundingClientRect();n.startX=n.clientX-c.left,n.startY=n.clientY-c.top,n.dragged=!1,n.w.globals.mousedown=!0}if(("mousemove"===e.type&&1===e.which||"touchmove"===e.type)&&(n.dragged=!0,i.globals.panEnabled?(i.globals.selection=null,n.w.globals.mousedown&&n.panDragging({context:n,zoomtype:s,xyRatios:t})):(n.w.globals.mousedown&&i.globals.zoomEnabled||n.w.globals.mousedown&&i.globals.selectionEnabled)&&(n.selection=n.selectionDrawing({context:n,zoomtype:s}))),"mouseup"===e.type||"touchend"===e.type||"mouseleave"===e.type){var h=n.gridRect.getBoundingClientRect();n.w.globals.mousedown&&(n.endX=n.clientX-h.left,n.endY=n.clientY-h.top,n.dragX=Math.abs(n.endX-n.startX),n.dragY=Math.abs(n.endY-n.startY),(i.globals.zoomEnabled||i.globals.selectionEnabled)&&n.selectionDrawn({context:n,zoomtype:s}),i.globals.panEnabled&&i.config.xaxis.convertedCatToNumeric&&n.delayedPanScrolled()),i.globals.zoomEnabled&&n.hideSelectionRect(this.selectionRect),n.dragged=!1,n.w.globals.mousedown=!1}this.makeSelectionRectDraggable()}}}},{key:"makeSelectionRectDraggable",value:function(){var t=this.w;if(this.selectionRect){var e=this.selectionRect.node.getBoundingClientRect();e.width>0&&e.height>0&&this.slDraggableRect.selectize({points:"l, r",pointSize:8,pointType:"rect"}).resize({constraint:{minX:0,minY:0,maxX:t.globals.gridWidth,maxY:t.globals.gridHeight}}).on("resizing",this.selectionDragging.bind(this,"resizing"))}}},{key:"preselectedSelection",value:function(){var t=this.w,e=this.xyRatios;if(!t.globals.zoomEnabled)if(void 0!==t.globals.selection&&null!==t.globals.selection)this.drawSelectionRect(t.globals.selection);else if(void 0!==t.config.chart.selection.xaxis.min&&void 0!==t.config.chart.selection.xaxis.max){var i=(t.config.chart.selection.xaxis.min-t.globals.minX)/e.xRatio,n={x:i,y:0,width:t.globals.gridWidth-(t.globals.maxX-t.config.chart.selection.xaxis.max)/e.xRatio-i,height:t.globals.gridHeight,translateX:0,translateY:0,selectionEnabled:!0};this.drawSelectionRect(n),this.makeSelectionRectDraggable(),"function"==typeof t.config.chart.events.selection&&t.config.chart.events.selection(this.ctx,{xaxis:{min:t.config.chart.selection.xaxis.min,max:t.config.chart.selection.xaxis.max},yaxis:{}})}}},{key:"drawSelectionRect",value:function(t){var e=t.x,i=t.y,n=t.width,r=t.height,s=t.translateX,a=void 0===s?0:s,o=t.translateY,l=void 0===o?0:o,c=this.w,h=this.zoomRect,u=this.selectionRect;if(this.dragged||null!==c.globals.selection){var d={transform:"translate("+a+", "+l+")"};c.globals.zoomEnabled&&this.dragged&&(n<0&&(n=1),h.attr({x:e,y:i,width:n,height:r,fill:c.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":c.config.chart.zoom.zoomedArea.fill.opacity,stroke:c.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":c.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":c.config.chart.zoom.zoomedArea.stroke.opacity}),A.setAttrs(h.node,d)),c.globals.selectionEnabled&&(u.attr({x:e,y:i,width:n>0?n:0,height:r>0?r:0,fill:c.config.chart.selection.fill.color,"fill-opacity":c.config.chart.selection.fill.opacity,stroke:c.config.chart.selection.stroke.color,"stroke-width":c.config.chart.selection.stroke.width,"stroke-dasharray":c.config.chart.selection.stroke.dashArray,"stroke-opacity":c.config.chart.selection.stroke.opacity}),A.setAttrs(u.node,d))}}},{key:"hideSelectionRect",value:function(t){t&&t.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(t){var e=t.context,i=t.zoomtype,n=this.w,r=e,s=this.gridRect.getBoundingClientRect(),a=r.startX-1,o=r.startY,l=!1,c=!1,h=r.clientX-s.left-a,u=r.clientY-s.top-o,d={};return Math.abs(h+a)>n.globals.gridWidth?h=n.globals.gridWidth-a:r.clientX-s.left<0&&(h=a),a>r.clientX-s.left&&(l=!0,h=Math.abs(h)),o>r.clientY-s.top&&(c=!0,u=Math.abs(u)),d="x"===i?{x:l?a-h:a,y:0,width:h,height:n.globals.gridHeight}:"y"===i?{x:0,y:c?o-u:o,width:n.globals.gridWidth,height:u}:{x:l?a-h:a,y:c?o-u:o,width:h,height:u},r.drawSelectionRect(d),r.selectionDragging("resizing"),d}},{key:"selectionDragging",value:function(t,e){var i=this,n=this.w,r=this.xyRatios,s=this.selectionRect,a=0;"resizing"===t&&(a=30);var o=function(t){return parseFloat(s.node.getAttribute(t))},l={x:o("x"),y:o("y"),width:o("width"),height:o("height")};n.globals.selection=l,"function"==typeof n.config.chart.events.selection&&n.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout((function(){var t=i.gridRect.getBoundingClientRect(),e=s.node.getBoundingClientRect(),a={xaxis:{min:n.globals.xAxisScale.niceMin+(e.left-t.left)*r.xRatio,max:n.globals.xAxisScale.niceMin+(e.right-t.left)*r.xRatio},yaxis:{min:n.globals.yAxisScale[0].niceMin+(t.bottom-e.bottom)*r.yRatio[0],max:n.globals.yAxisScale[0].niceMax-(e.top-t.top)*r.yRatio[0]}};n.config.chart.events.selection(i.ctx,a),n.config.chart.brush.enabled&&void 0!==n.config.chart.events.brushScrolled&&n.config.chart.events.brushScrolled(i.ctx,a)}),a))}},{key:"selectionDrawn",value:function(t){var e=t.context,i=t.zoomtype,n=this.w,r=e,s=this.xyRatios,a=this.ctx.toolbar;if(r.startX>r.endX){var o=r.startX;r.startX=r.endX,r.endX=o}if(r.startY>r.endY){var l=r.startY;r.startY=r.endY,r.endY=l}var c=void 0,h=void 0;n.globals.isRangeBar?(c=n.globals.yAxisScale[0].niceMin+r.startX*s.invertedYRatio,h=n.globals.yAxisScale[0].niceMin+r.endX*s.invertedYRatio):(c=n.globals.xAxisScale.niceMin+r.startX*s.xRatio,h=n.globals.xAxisScale.niceMin+r.endX*s.xRatio);var u=[],d=[];if(n.config.yaxis.forEach((function(t,e){u.push(n.globals.yAxisScale[e].niceMax-s.yRatio[e]*r.startY),d.push(n.globals.yAxisScale[e].niceMax-s.yRatio[e]*r.endY)})),r.dragged&&(r.dragX>10||r.dragY>10)&&c!==h)if(n.globals.zoomEnabled){var f=b.clone(n.globals.initialConfig.yaxis),p=b.clone(n.globals.initialConfig.xaxis);if(n.globals.zoomed=!0,n.config.xaxis.convertedCatToNumeric&&(c=Math.floor(c),h=Math.floor(h),c<1&&(c=1,h=n.globals.dataPoints),h-c<2&&(h=c+1)),"xy"!==i&&"x"!==i||(p={min:c,max:h}),"xy"!==i&&"y"!==i||f.forEach((function(t,e){f[e].min=d[e],f[e].max=u[e]})),n.config.chart.zoom.autoScaleYaxis){var g=new Z(r.ctx);f=g.autoScaleY(r.ctx,f,{xaxis:p})}if(a){var m=a.getBeforeZoomRange(p,f);m&&(p=m.xaxis?m.xaxis:p,f=m.yaxis?m.yaxis:f)}var v={xaxis:p};n.config.chart.group||(v.yaxis=f),r.ctx.updateHelpers._updateOptions(v,!1,r.w.config.chart.animations.dynamicAnimation.enabled),"function"==typeof n.config.chart.events.zoomed&&a.zoomCallback(p,f)}else if(n.globals.selectionEnabled){var y,x=null;y={min:c,max:h},"xy"!==i&&"y"!==i||(x=b.clone(n.config.yaxis)).forEach((function(t,e){x[e].min=d[e],x[e].max=u[e]})),n.globals.selection=r.selection,"function"==typeof n.config.chart.events.selection&&n.config.chart.events.selection(r.ctx,{xaxis:y,yaxis:x})}}},{key:"panDragging",value:function(t){var e=t.context,i=this.w,n=e;if(void 0!==i.globals.lastClientPosition.x){var r=i.globals.lastClientPosition.x-n.clientX,s=i.globals.lastClientPosition.y-n.clientY;Math.abs(r)>Math.abs(s)&&r>0?this.moveDirection="left":Math.abs(r)>Math.abs(s)&&r<0?this.moveDirection="right":Math.abs(s)>Math.abs(r)&&s>0?this.moveDirection="up":Math.abs(s)>Math.abs(r)&&s<0&&(this.moveDirection="down")}i.globals.lastClientPosition={x:n.clientX,y:n.clientY};var a=i.globals.isRangeBar?i.globals.minY:i.globals.minX,o=i.globals.isRangeBar?i.globals.maxY:i.globals.maxX;i.config.xaxis.convertedCatToNumeric||n.panScrolled(a,o)}},{key:"delayedPanScrolled",value:function(){var t=this.w,e=t.globals.minX,i=t.globals.maxX,n=(t.globals.maxX-t.globals.minX)/2;"left"===this.moveDirection?(e=t.globals.minX+n,i=t.globals.maxX+n):"right"===this.moveDirection&&(e=t.globals.minX-n,i=t.globals.maxX-n),e=Math.floor(e),i=Math.floor(i),this.updateScrolledChart({xaxis:{min:e,max:i}},e,i)}},{key:"panScrolled",value:function(t,e){var i=this.w,n=this.xyRatios,r=b.clone(i.globals.initialConfig.yaxis),s=n.xRatio,a=i.globals.minX,o=i.globals.maxX;i.globals.isRangeBar&&(s=n.invertedYRatio,a=i.globals.minY,o=i.globals.maxY),"left"===this.moveDirection?(t=a+i.globals.gridWidth/15*s,e=o+i.globals.gridWidth/15*s):"right"===this.moveDirection&&(t=a-i.globals.gridWidth/15*s,e=o-i.globals.gridWidth/15*s),i.globals.isRangeBar||(t<i.globals.initialMinX||e>i.globals.initialMaxX)&&(t=a,e=o);var l={min:t,max:e};i.config.chart.zoom.autoScaleYaxis&&(r=new Z(this.ctx).autoScaleY(this.ctx,r,{xaxis:l}));var c={xaxis:{min:t,max:e}};i.config.chart.group||(c.yaxis=r),this.updateScrolledChart(c,t,e)}},{key:"updateScrolledChart",value:function(t,e,i){var n=this.w;this.ctx.updateHelpers._updateOptions(t,!1,!1),"function"==typeof n.config.chart.events.scrolled&&n.config.chart.events.scrolled(this.ctx,{xaxis:{min:e,max:i}})}}]),i}(),vt=function(){function t(e){o(this,t),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx}return c(t,[{key:"getNearestValues",value:function(t){var e=t.hoverArea,i=t.elGrid,n=t.clientX,r=t.clientY,s=this.w,a=i.getBoundingClientRect(),o=a.width,l=a.height,c=o/(s.globals.dataPoints-1),h=l/s.globals.dataPoints,u=this.hasBars();!s.globals.comboCharts&&!u||s.config.xaxis.convertedCatToNumeric||(c=o/s.globals.dataPoints);var d=n-a.left-s.globals.barPadForNumericAxis,f=r-a.top;d<0||f<0||d>o||f>l?(e.classList.remove("hovering-zoom"),e.classList.remove("hovering-pan")):s.globals.zoomEnabled?(e.classList.remove("hovering-pan"),e.classList.add("hovering-zoom")):s.globals.panEnabled&&(e.classList.remove("hovering-zoom"),e.classList.add("hovering-pan"));var p=Math.round(d/c),g=Math.floor(f/h);u&&!s.config.xaxis.convertedCatToNumeric&&(p=Math.ceil(d/c),p-=1);var m=null,v=null,y=[],x=[];if(s.globals.seriesXvalues.forEach((function(t){y.push([t[0]+1e-6].concat(t))})),s.globals.seriesYvalues.forEach((function(t){x.push([t[0]+1e-6].concat(t))})),y=y.map((function(t){return t.filter((function(t){return b.isNumber(t)}))})),x=x.map((function(t){return t.filter((function(t){return b.isNumber(t)}))})),s.globals.isXNumeric){var w=this.ttCtx.getElGrid().getBoundingClientRect(),k=d*(w.width/o),A=f*(w.height/l);m=(v=this.closestInMultiArray(k,A,y,x)).index,p=v.j,null!==m&&(y=s.globals.seriesXvalues[m],p=(v=this.closestInArray(k,y)).index)}return s.globals.capturedSeriesIndex=null===m?-1:m,(!p||p<1)&&(p=0),s.globals.isBarHorizontal?s.globals.capturedDataPointIndex=g:s.globals.capturedDataPointIndex=p,{capturedSeries:m,j:s.globals.isBarHorizontal?g:p,hoverX:d,hoverY:f}}},{key:"closestInMultiArray",value:function(t,e,i,n){var r=this.w,s=0,a=null,o=-1;r.globals.series.length>1?s=this.getFirstActiveXArray(i):a=0;var l=i[s][0],c=Math.abs(t-l);if(i.forEach((function(e){e.forEach((function(e,i){var n=Math.abs(t-e);n<c&&(c=n,o=i)}))})),-1!==o){var h=n[s][o],u=Math.abs(e-h);a=s,n.forEach((function(t,i){var n=Math.abs(e-t[o]);n<u&&(u=n,a=i)}))}return{index:a,j:o}}},{key:"getFirstActiveXArray",value:function(t){for(var e=this.w,i=0,n=t.map((function(t,e){return t.length>0?e:-1})),r=0;r<n.length;r++)if(-1!==n[r]&&-1===e.globals.collapsedSeriesIndices.indexOf(r)&&-1===e.globals.ancillaryCollapsedSeriesIndices.indexOf(r)){i=n[r];break}return i}},{key:"closestInArray",value:function(t,e){for(var i=e[0],n=null,r=Math.abs(t-i),s=0;s<e.length;s++){var a=Math.abs(t-e[s]);a<r&&(r=a,n=s)}return{index:n}}},{key:"isXoverlap",value:function(t){var e=[],i=this.w.globals.seriesX.filter((function(t){return void 0!==t[0]}));if(i.length>0)for(var n=0;n<i.length-1;n++)void 0!==i[n][t]&&void 0!==i[n+1][t]&&i[n][t]!==i[n+1][t]&&e.push("unEqual");return 0===e.length}},{key:"isInitialSeriesSameLen",value:function(){for(var t=!0,e=this.w.globals.initialSeries,i=0;i<e.length-1;i++)if(e[i].data.length!==e[i+1].data.length){t=!1;break}return t}},{key:"getBarsHeight",value:function(t){return v(t).reduce((function(t,e){return t+e.getBBox().height}),0)}},{key:"getElMarkers",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(" .apexcharts-series-markers")}},{key:"getAllMarkers",value:function(){var t=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");(t=v(t)).sort((function(t,e){return Number(e.getAttribute("data:realIndex"))<Number(t.getAttribute("data:realIndex"))?0:-1}));var e=[];return t.forEach((function(t){e.push(t.querySelector(".apexcharts-marker"))})),e}},{key:"hasMarkers",value:function(){return this.getElMarkers().length>0}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(t){var e=this.w,i=e.config.markers.hover.size;return void 0===i&&(i=e.globals.markers.size[t]+e.config.markers.hover.sizeOffset),i}},{key:"toggleAllTooltipSeriesGroups",value:function(t){var e=this.w,i=this.ttCtx;0===i.allTooltipSeriesGroups.length&&(i.allTooltipSeriesGroups=e.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var n=i.allTooltipSeriesGroups,r=0;r<n.length;r++)"enable"===t?(n[r].classList.add("apexcharts-active"),n[r].style.display=e.config.tooltip.items.display):(n[r].classList.remove("apexcharts-active"),n[r].style.display="none")}}]),t}(),yt=function(){function t(e){o(this,t),this.w=e.w,this.ctx=e.ctx,this.ttCtx=e,this.tooltipUtil=new vt(e)}return c(t,[{key:"drawSeriesTexts",value:function(t){var e=t.shared,i=void 0===e||e,n=t.ttItems,r=t.i,s=void 0===r?0:r,a=t.j,o=void 0===a?null:a,l=t.y1,c=t.y2,h=t.e,u=this.w;void 0!==u.config.tooltip.custom?this.handleCustomTooltip({i:s,j:o,y1:l,y2:c,w:u}):this.toggleActiveInactiveSeries(i);var d=this.getValuesToPrint({i:s,j:o});this.printLabels({i:s,j:o,values:d,ttItems:n,shared:i,e:h});var f=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=f.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=f.getBoundingClientRect().height}},{key:"printLabels",value:function(t){var e,i=this,n=t.i,r=t.j,a=t.values,o=t.ttItems,l=t.shared,c=t.e,h=this.w,u=[],d=function(t){return h.globals.seriesGoals[t]&&h.globals.seriesGoals[t][r]&&Array.isArray(h.globals.seriesGoals[t][r])},f=a.xVal,p=a.zVal,g=a.xAxisTTVal,m="",v=h.globals.colors[n];null!==r&&h.config.plotOptions.bar.distributed&&(v=h.globals.colors[r]);for(var y=function(t,a){var y=i.getFormatters(n);m=i.getSeriesName({fn:y.yLbTitleFormatter,index:n,seriesIndex:n,j:r}),"treemap"===h.config.chart.type&&(m=y.yLbTitleFormatter(String(h.config.series[n].data[r].x),{series:h.globals.series,seriesIndex:n,dataPointIndex:r,w:h}));var x=h.config.tooltip.inverseOrder?a:t;if(h.globals.axisCharts){var b=function(t){return y.yLbFormatter(h.globals.series[t][r],{series:h.globals.series,seriesIndex:t,dataPointIndex:r,w:h})};if(l)y=i.getFormatters(x),m=i.getSeriesName({fn:y.yLbTitleFormatter,index:x,seriesIndex:n,j:r}),v=h.globals.colors[x],e=b(x),d(x)&&(u=h.globals.seriesGoals[x][r].map((function(t){return{attrs:t,val:y.yLbFormatter(t.value,{seriesIndex:x,dataPointIndex:r,w:h})}})));else{var w,k=null==c||null===(w=c.target)||void 0===w?void 0:w.getAttribute("fill");k&&(v=-1!==k.indexOf("url")?document.querySelector(k.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke"):k),e=b(n),d(n)&&Array.isArray(h.globals.seriesGoals[n][r])&&(u=h.globals.seriesGoals[n][r].map((function(t){return{attrs:t,val:y.yLbFormatter(t.value,{seriesIndex:n,dataPointIndex:r,w:h})}})))}}null===r&&(e=y.yLbFormatter(h.globals.series[n],s(s({},h),{},{seriesIndex:n,dataPointIndex:n}))),i.DOMHandling({i:n,t:x,j:r,ttItems:o,values:{val:e,goalVals:u,xVal:f,xAxisTTVal:g,zVal:p},seriesName:m,shared:l,pColor:v})},x=0,b=h.globals.series.length-1;x<h.globals.series.length;x++,b--)y(x,b)}},{key:"getFormatters",value:function(t){var e,i=this.w,n=i.globals.yLabelFormatters[t];return void 0!==i.globals.ttVal?Array.isArray(i.globals.ttVal)?(n=i.globals.ttVal[t]&&i.globals.ttVal[t].formatter,e=i.globals.ttVal[t]&&i.globals.ttVal[t].title&&i.globals.ttVal[t].title.formatter):(n=i.globals.ttVal.formatter,"function"==typeof i.globals.ttVal.title.formatter&&(e=i.globals.ttVal.title.formatter)):e=i.config.tooltip.y.title.formatter,"function"!=typeof n&&(n=i.globals.yLabelFormatters[0]?i.globals.yLabelFormatters[0]:function(t){return t}),"function"!=typeof e&&(e=function(t){return t}),{yLbFormatter:n,yLbTitleFormatter:e}}},{key:"getSeriesName",value:function(t){var e=t.fn,i=t.index,n=t.seriesIndex,r=t.j,s=this.w;return e(String(s.globals.seriesNames[i]),{series:s.globals.series,seriesIndex:n,dataPointIndex:r,w:s})}},{key:"DOMHandling",value:function(t){t.i;var e=t.t,i=t.j,n=t.ttItems,r=t.values,s=t.seriesName,a=t.shared,o=t.pColor,l=this.w,c=this.ttCtx,h=r.val,u=r.goalVals,d=r.xVal,f=r.xAxisTTVal,p=r.zVal,g=null;g=n[e].children,l.config.tooltip.fillSeriesColor&&(n[e].style.backgroundColor=o,g[0].style.display="none"),c.showTooltipTitle&&(null===c.tooltipTitle&&(c.tooltipTitle=l.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),c.tooltipTitle.innerHTML=d),c.isXAxisTooltipEnabled&&(c.xaxisTooltipText.innerHTML=""!==f?f:d);var m=n[e].querySelector(".apexcharts-tooltip-text-y-label");m&&(m.innerHTML=s||"");var v=n[e].querySelector(".apexcharts-tooltip-text-y-value");v&&(v.innerHTML=void 0!==h?h:""),g[0]&&g[0].classList.contains("apexcharts-tooltip-marker")&&(l.config.tooltip.marker.fillColors&&Array.isArray(l.config.tooltip.marker.fillColors)&&(o=l.config.tooltip.marker.fillColors[e]),g[0].style.backgroundColor=o),l.config.tooltip.marker.show||(g[0].style.display="none");var y=n[e].querySelector(".apexcharts-tooltip-text-goals-label"),x=n[e].querySelector(".apexcharts-tooltip-text-goals-value");if(u.length&&l.globals.seriesGoals[e]){var b=function(){var t="<div >",e="<div>";u.forEach((function(i,n){t+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(i.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(i.attrs.name,"</div>"),e+="<div>".concat(i.val,"</div>")})),y.innerHTML=t+"</div>",x.innerHTML=e+"</div>"};a?l.globals.seriesGoals[e][i]&&Array.isArray(l.globals.seriesGoals[e][i])?b():(y.innerHTML="",x.innerHTML=""):b()}else y.innerHTML="",x.innerHTML="";null!==p&&(n[e].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=l.config.tooltip.z.title,n[e].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=void 0!==p?p:""),a&&g[0]&&(null==h||l.globals.ancillaryCollapsedSeriesIndices.indexOf(e)>-1||l.globals.collapsedSeriesIndices.indexOf(e)>-1?g[0].parentNode.style.display="none":g[0].parentNode.style.display=l.config.tooltip.items.display)}},{key:"toggleActiveInactiveSeries",value:function(t){var e=this.w;if(t)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var i=e.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group");i&&(i.classList.add("apexcharts-active"),i.style.display=e.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(t){var e=t.i,i=t.j,n=this.w,r=this.ctx.series.filteredSeriesX(),s="",a="",o=null,l=null,c={series:n.globals.series,seriesIndex:e,dataPointIndex:i,w:n},h=n.globals.ttZFormatter;null===i?l=n.globals.series[e]:n.globals.isXNumeric&&"treemap"!==n.config.chart.type?(s=r[e][i],0===r[e].length&&(s=r[this.tooltipUtil.getFirstActiveXArray(r)][i])):s=void 0!==n.globals.labels[i]?n.globals.labels[i]:"";var u=s;return s=n.globals.isXNumeric&&"datetime"===n.config.xaxis.type?new G(this.ctx).xLabelFormat(n.globals.ttKeyFormatter,u,u,{i:void 0,dateFormatter:new H(this.ctx).formatDate,w:this.w}):n.globals.isBarHorizontal?n.globals.yLabelFormatters[0](u,c):n.globals.xLabelFormatter(u,c),void 0!==n.config.tooltip.x.formatter&&(s=n.globals.ttKeyFormatter(u,c)),n.globals.seriesZ.length>0&&n.globals.seriesZ[e].length>0&&(o=h(n.globals.seriesZ[e][i],n)),a="function"==typeof n.config.xaxis.tooltip.formatter?n.globals.xaxisTooltipFormatter(u,c):s,{val:Array.isArray(l)?l.join(" "):l,xVal:Array.isArray(s)?s.join(" "):s,xAxisTTVal:Array.isArray(a)?a.join(" "):a,zVal:o}}},{key:"handleCustomTooltip",value:function(t){var e=t.i,i=t.j,n=t.y1,r=t.y2,s=t.w,a=this.ttCtx.getElTooltip(),o=s.config.tooltip.custom;Array.isArray(o)&&o[e]&&(o=o[e]),a.innerHTML=o({ctx:this.ctx,series:s.globals.series,seriesIndex:e,dataPointIndex:i,y1:n,y2:r,w:s})}}]),t}(),xt=function(){function t(e){o(this,t),this.ttCtx=e,this.ctx=e.ctx,this.w=e.w}return c(t,[{key:"moveXCrosshairs",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=this.ttCtx,n=this.w,r=i.getElXCrosshairs(),s=t-i.xcrosshairsWidth/2,a=n.globals.labels.slice().length;if(null!==e&&(s=n.globals.gridWidth/a*e),null===r||n.globals.isBarHorizontal||(r.setAttribute("x",s),r.setAttribute("x1",s),r.setAttribute("x2",s),r.setAttribute("y2",n.globals.gridHeight),r.classList.add("apexcharts-active")),s<0&&(s=0),s>n.globals.gridWidth&&(s=n.globals.gridWidth),i.isXAxisTooltipEnabled){var o=s;"tickWidth"!==n.config.xaxis.crosshairs.width&&"barWidth"!==n.config.xaxis.crosshairs.width||(o=s+i.xcrosshairsWidth/2),this.moveXAxisTooltip(o)}}},{key:"moveYCrosshairs",value:function(t){var e=this.ttCtx;null!==e.ycrosshairs&&A.setAttrs(e.ycrosshairs,{y1:t,y2:t}),null!==e.ycrosshairsHidden&&A.setAttrs(e.ycrosshairsHidden,{y1:t,y2:t})}},{key:"moveXAxisTooltip",value:function(t){var e=this.w,i=this.ttCtx;if(null!==i.xaxisTooltip&&0!==i.xcrosshairsWidth){i.xaxisTooltip.classList.add("apexcharts-active");var n,r=i.xaxisOffY+e.config.xaxis.tooltip.offsetY+e.globals.translateY+1+e.config.xaxis.offsetY;if(t-=i.xaxisTooltip.getBoundingClientRect().width/2,!isNaN(t))t+=e.globals.translateX,n=new A(this.ctx).getTextRects(i.xaxisTooltipText.innerHTML),i.xaxisTooltipText.style.minWidth=n.width+"px",i.xaxisTooltip.style.left=t+"px",i.xaxisTooltip.style.top=r+"px"}}},{key:"moveYAxisTooltip",value:function(t){var e=this.w,i=this.ttCtx;null===i.yaxisTTEls&&(i.yaxisTTEls=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var n=parseInt(i.ycrosshairsHidden.getAttribute("y1"),10),r=e.globals.translateY+n,s=i.yaxisTTEls[t].getBoundingClientRect().height,a=e.globals.translateYAxisX[t]-2;e.config.yaxis[t].opposite&&(a-=26),r-=s/2,-1===e.globals.ignoreYAxisIndexes.indexOf(t)?(i.yaxisTTEls[t].classList.add("apexcharts-active"),i.yaxisTTEls[t].style.top=r+"px",i.yaxisTTEls[t].style.left=a+e.config.yaxis[t].tooltip.offsetX+"px"):i.yaxisTTEls[t].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=this.w,r=this.ttCtx,s=r.getElTooltip(),a=r.tooltipRect,o=null!==i?parseFloat(i):1,l=parseFloat(t)+o+5,c=parseFloat(e)+o/2;if(l>n.globals.gridWidth/2&&(l=l-a.ttWidth-o-15),l>n.globals.gridWidth-a.ttWidth-10&&(l=n.globals.gridWidth-a.ttWidth),l<-20&&(l=-20),n.config.tooltip.followCursor){var h=r.getElGrid(),u=h.getBoundingClientRect();c=r.e.clientY+n.globals.translateY-u.top-a.ttHeight/2}else n.globals.isBarHorizontal||(a.ttHeight/2+c>n.globals.gridHeight&&(c=n.globals.gridHeight-a.ttHeight+n.globals.translateY),c<0&&(c=0));isNaN(l)||(l+=n.globals.translateX,s.style.left=l+"px",s.style.top=c+"px")}},{key:"moveMarkers",value:function(t,e){var i=this.w,n=this.ttCtx;if(i.globals.markers.size[t]>0)for(var r=i.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(t,"'] .apexcharts-marker")),s=0;s<r.length;s++)parseInt(r[s].getAttribute("rel"),10)===e&&(n.marker.resetPointsSize(),n.marker.enlargeCurrentPoint(e,r[s]));else n.marker.resetPointsSize(),this.moveDynamicPointOnHover(e,t)}},{key:"moveDynamicPointOnHover",value:function(t,e){var i,n,r=this.w,s=this.ttCtx,a=r.globals.pointsArray,o=s.tooltipUtil.getHoverMarkerSize(e),l=r.config.series[e].type;if(!l||"column"!==l&&"candlestick"!==l&&"boxPlot"!==l){i=a[e][t][0],n=a[e][t][1]?a[e][t][1]:0;var c=r.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-series-markers circle"));c&&n<r.globals.gridHeight&&n>0&&(c.setAttribute("r",o),c.setAttribute("cx",i),c.setAttribute("cy",n)),this.moveXCrosshairs(i),s.fixedTooltip||this.moveTooltip(i,n,o)}}},{key:"moveDynamicPointsOnHover",value:function(t){var e,i=this.ttCtx,n=i.w,r=0,s=0,a=n.globals.pointsArray;e=new F(this.ctx).getActiveConfigSeriesIndex(!0);var o=i.tooltipUtil.getHoverMarkerSize(e);a[e]&&(r=a[e][t][0],s=a[e][t][1]);var l=i.tooltipUtil.getAllMarkers();if(null!==l)for(var c=0;c<n.globals.series.length;c++){var h=a[c];if(n.globals.comboCharts&&void 0===h&&l.splice(c,0,null),h&&h.length){var u=a[c][t][1];l[c].setAttribute("cx",r),null!==u&&!isNaN(u)&&u<n.globals.gridHeight+o&&u+o>0?(l[c]&&l[c].setAttribute("r",o),l[c]&&l[c].setAttribute("cy",u)):l[c]&&l[c].setAttribute("r",0)}}if(this.moveXCrosshairs(r),!i.fixedTooltip){var d=s||n.globals.gridHeight;this.moveTooltip(r,d,o)}}},{key:"moveStickyTooltipOverBars",value:function(t){var e=this.w,i=this.ttCtx,n=e.globals.columnSeries?e.globals.columnSeries.length:e.globals.series.length,r=n>=2&&n%2==0?Math.floor(n/2):Math.floor(n/2)+1;e.globals.isBarHorizontal&&(r=new F(this.ctx).getActiveConfigSeriesIndex(!1,"desc")+1);var s=e.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(r,"'] path[j='").concat(t,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(r,"'] path[j='").concat(t,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(r,"'] path[j='").concat(t,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(r,"'] path[j='").concat(t,"']")),a=s?parseFloat(s.getAttribute("cx")):0,o=s?parseFloat(s.getAttribute("cy")):0,l=s?parseFloat(s.getAttribute("barWidth")):0,c=s?parseFloat(s.getAttribute("barHeight")):0,h=i.getElGrid().getBoundingClientRect(),u=s.classList.contains("apexcharts-candlestick-area")||s.classList.contains("apexcharts-boxPlot-area");if(e.globals.isXNumeric?(s&&!u&&(a-=n%2!=0?l/2:0),s&&u&&e.globals.comboCharts&&(a-=l/2)):e.globals.isBarHorizontal||(a=i.xAxisTicksPositions[t-1]+i.dataPointsDividedWidth/2,isNaN(a)&&(a=i.xAxisTicksPositions[t]-i.dataPointsDividedWidth/2)),e.globals.isBarHorizontal?(o=o+e.config.grid.padding.top+c/3)+c>e.globals.gridHeight&&(o=e.globals.gridHeight-c):e.config.tooltip.followCursor&&(o=i.e.clientY-h.top-i.tooltipRect.ttHeight/2),e.globals.isBarHorizontal||this.moveXCrosshairs(a),!i.fixedTooltip){var d=o||e.globals.gridHeight;this.moveTooltip(a,d)}}}]),t}(),bt=function(){function t(e){o(this,t),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx,this.tooltipPosition=new xt(e)}return c(t,[{key:"drawDynamicPoints",value:function(){var t=this.w,e=new A(this.ctx),i=new O(this.ctx),n=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series");n=v(n),t.config.chart.stacked&&n.sort((function(t,e){return parseFloat(t.getAttribute("data:realIndex"))-parseFloat(e.getAttribute("data:realIndex"))}));for(var r=0;r<n.length;r++){var s=n[r].querySelector(".apexcharts-series-markers-wrap");if(null!==s){var a=void 0,o="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));"line"!==t.config.chart.type&&"area"!==t.config.chart.type||t.globals.comboCharts||t.config.tooltip.intersect||(o+=" no-pointer-events");var l=i.getMarkerConfig({cssClass:o,seriesIndex:Number(s.getAttribute("data:realIndex"))});(a=e.drawMarker(0,0,l)).node.setAttribute("default-marker-size",0);var c=document.createElementNS(t.globals.SVGNS,"g");c.classList.add("apexcharts-series-markers"),c.appendChild(a.node),s.appendChild(c)}}}},{key:"enlargeCurrentPoint",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=this.w;"bubble"!==r.config.chart.type&&this.newPointSize(t,e);var s=e.getAttribute("cx"),a=e.getAttribute("cy");if(null!==i&&null!==n&&(s=i,a=n),this.tooltipPosition.moveXCrosshairs(s),!this.fixedTooltip){if("radar"===r.config.chart.type){var o=this.ttCtx.getElGrid(),l=o.getBoundingClientRect();s=this.ttCtx.e.clientX-l.left}this.tooltipPosition.moveTooltip(s,a,r.config.markers.hover.size)}}},{key:"enlargePoints",value:function(t){for(var e=this.w,i=this,n=this.ttCtx,r=t,s=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),a=e.config.markers.hover.size,o=0;o<s.length;o++){var l=s[o].getAttribute("rel"),c=s[o].getAttribute("index");if(void 0===a&&(a=e.globals.markers.size[c]+e.config.markers.hover.sizeOffset),r===parseInt(l,10)){i.newPointSize(r,s[o]);var h=s[o].getAttribute("cx"),u=s[o].getAttribute("cy");i.tooltipPosition.moveXCrosshairs(h),n.fixedTooltip||i.tooltipPosition.moveTooltip(h,u,a)}else i.oldPointSize(s[o])}}},{key:"newPointSize",value:function(t,e){var i=this.w,n=i.config.markers.hover.size,r=0===t?e.parentNode.firstChild:e.parentNode.lastChild;if("0"!==r.getAttribute("default-marker-size")){var s=parseInt(r.getAttribute("index"),10);void 0===n&&(n=i.globals.markers.size[s]+i.config.markers.hover.sizeOffset),n<0&&(n=0),r.setAttribute("r",n)}}},{key:"oldPointSize",value:function(t){var e=parseFloat(t.getAttribute("default-marker-size"));t.setAttribute("r",e)}},{key:"resetPointsSize",value:function(){for(var t=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),e=0;e<t.length;e++){var i=parseFloat(t[e].getAttribute("default-marker-size"));b.isNumber(i)&&i>=0?t[e].setAttribute("r",i):t[e].setAttribute("r",0)}}}]),t}(),wt=function(){function t(e){o(this,t),this.w=e.w,this.ttCtx=e}return c(t,[{key:"getAttr",value:function(t,e){return parseFloat(t.target.getAttribute(e))}},{key:"handleHeatTreeTooltip",value:function(t){var e=t.e,i=t.opt,n=t.x,r=t.y,s=t.type,a=this.ttCtx,o=this.w;if(e.target.classList.contains("apexcharts-".concat(s,"-rect"))){var l=this.getAttr(e,"i"),c=this.getAttr(e,"j"),h=this.getAttr(e,"cx"),u=this.getAttr(e,"cy"),d=this.getAttr(e,"width"),f=this.getAttr(e,"height");if(a.tooltipLabels.drawSeriesTexts({ttItems:i.ttItems,i:l,j:c,shared:!1,e:e}),o.globals.capturedSeriesIndex=l,o.globals.capturedDataPointIndex=c,n=h+a.tooltipRect.ttWidth/2+d,r=u+a.tooltipRect.ttHeight/2-f/2,a.tooltipPosition.moveXCrosshairs(h+d/2),n>o.globals.gridWidth/2&&(n=h-a.tooltipRect.ttWidth/2+d),a.w.config.tooltip.followCursor){var p=o.globals.dom.elWrap.getBoundingClientRect();n=o.globals.clientX-p.left-(n>o.globals.gridWidth/2?a.tooltipRect.ttWidth:0),r=o.globals.clientY-p.top}}return{x:n,y:r}}},{key:"handleMarkerTooltip",value:function(t){var e,i,n=t.e,r=t.opt,s=t.x,a=t.y,o=this.w,l=this.ttCtx;if(n.target.classList.contains("apexcharts-marker")){var c=parseInt(r.paths.getAttribute("cx"),10),h=parseInt(r.paths.getAttribute("cy"),10),u=parseFloat(r.paths.getAttribute("val"));if(i=parseInt(r.paths.getAttribute("rel"),10),e=parseInt(r.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,l.intersect){var d=b.findAncestor(r.paths,"apexcharts-series");d&&(e=parseInt(d.getAttribute("data:realIndex"),10))}if(l.tooltipLabels.drawSeriesTexts({ttItems:r.ttItems,i:e,j:i,shared:!l.showOnIntersect&&o.config.tooltip.shared,e:n}),"mouseup"===n.type&&l.markerClick(n,e,i),o.globals.capturedSeriesIndex=e,o.globals.capturedDataPointIndex=i,s=c,a=h+o.globals.translateY-1.4*l.tooltipRect.ttHeight,l.w.config.tooltip.followCursor){var f=l.getElGrid().getBoundingClientRect();a=l.e.clientY+o.globals.translateY-f.top}u<0&&(a=h),l.marker.enlargeCurrentPoint(i,r.paths,s,a)}return{x:s,y:a}}},{key:"handleBarTooltip",value:function(t){var e,i,n=t.e,r=t.opt,s=this.w,a=this.ttCtx,o=a.getElTooltip(),l=0,c=0,h=0,u=this.getBarTooltipXY({e:n,opt:r});e=u.i;var d=u.barHeight,f=u.j;s.globals.capturedSeriesIndex=e,s.globals.capturedDataPointIndex=f,s.globals.isBarHorizontal&&a.tooltipUtil.hasBars()||!s.config.tooltip.shared?(c=u.x,h=u.y,i=Array.isArray(s.config.stroke.width)?s.config.stroke.width[e]:s.config.stroke.width,l=c):s.globals.comboCharts||s.config.tooltip.shared||(l/=2),isNaN(h)?h=s.globals.svgHeight-a.tooltipRect.ttHeight:h<0&&(h=0);var p=parseInt(r.paths.parentNode.getAttribute("data:realIndex"),10),g=s.globals.isMultipleYAxis?s.config.yaxis[p]&&s.config.yaxis[p].reversed:s.config.yaxis[0].reversed;if(c+a.tooltipRect.ttWidth>s.globals.gridWidth&&!g?c-=a.tooltipRect.ttWidth:c<0&&(c=0),a.w.config.tooltip.followCursor){var m=a.getElGrid().getBoundingClientRect();h=a.e.clientY-m.top}null===a.tooltip&&(a.tooltip=s.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),s.config.tooltip.shared||(s.globals.comboBarCount>0?a.tooltipPosition.moveXCrosshairs(l+i/2):a.tooltipPosition.moveXCrosshairs(l)),!a.fixedTooltip&&(!s.config.tooltip.shared||s.globals.isBarHorizontal&&a.tooltipUtil.hasBars())&&(g&&(c-=a.tooltipRect.ttWidth)<0&&(c=0),!g||s.globals.isBarHorizontal&&a.tooltipUtil.hasBars()||(h=h+d-2*(s.globals.series[e][f]<0?d:0)),a.tooltipRect.ttHeight+h>s.globals.gridHeight?h=s.globals.gridHeight-a.tooltipRect.ttHeight+s.globals.translateY:(h=h+s.globals.translateY-a.tooltipRect.ttHeight/2)<0&&(h=0),o.style.left=c+s.globals.translateX+"px",o.style.top=h+"px")}},{key:"getBarTooltipXY",value:function(t){var e=t.e,i=t.opt,n=this.w,r=null,s=this.ttCtx,a=0,o=0,l=0,c=0,h=0,u=e.target.classList;if(u.contains("apexcharts-bar-area")||u.contains("apexcharts-candlestick-area")||u.contains("apexcharts-boxPlot-area")||u.contains("apexcharts-rangebar-area")){var d=e.target,f=d.getBoundingClientRect(),p=i.elGrid.getBoundingClientRect(),g=f.height;h=f.height;var m=f.width,v=parseInt(d.getAttribute("cx"),10),y=parseInt(d.getAttribute("cy"),10);c=parseFloat(d.getAttribute("barWidth"));var x="touchmove"===e.type?e.touches[0].clientX:e.clientX;r=parseInt(d.getAttribute("j"),10),a=parseInt(d.parentNode.getAttribute("rel"),10)-1;var b=d.getAttribute("data-range-y1"),w=d.getAttribute("data-range-y2");n.globals.comboCharts&&(a=parseInt(d.parentNode.getAttribute("data:realIndex"),10)),s.tooltipLabels.drawSeriesTexts({ttItems:i.ttItems,i:a,j:r,y1:b?parseInt(b,10):null,y2:w?parseInt(w,10):null,shared:!s.showOnIntersect&&n.config.tooltip.shared,e:e}),n.config.tooltip.followCursor?n.globals.isBarHorizontal?(o=x-p.left+15,l=y-s.dataPointsDividedHeight+g/2-s.tooltipRect.ttHeight/2):(o=n.globals.isXNumeric?v-m/2:v-s.dataPointsDividedWidth+m/2,l=e.clientY-p.top-s.tooltipRect.ttHeight/2-15):n.globals.isBarHorizontal?((o=v)<s.xyRatios.baseLineInvertedY&&(o=v-s.tooltipRect.ttWidth),l=y-s.dataPointsDividedHeight+g/2-s.tooltipRect.ttHeight/2):(o=n.globals.isXNumeric?v-m/2:v-s.dataPointsDividedWidth+m/2,l=y)}return{x:o,y:l,barHeight:h,barWidth:c,i:a,j:r}}}]),t}(),kt=function(){function t(e){o(this,t),this.w=e.w,this.ttCtx=e}return c(t,[{key:"drawXaxisTooltip",value:function(){var t=this.w,e=this.ttCtx,i="bottom"===t.config.xaxis.position;e.xaxisOffY=i?t.globals.gridHeight+1:-t.globals.xAxisHeight-t.config.xaxis.axisTicks.height+3;var n=i?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",r=t.globals.dom.elWrap;e.isXAxisTooltipEnabled&&null===t.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")&&(e.xaxisTooltip=document.createElement("div"),e.xaxisTooltip.setAttribute("class",n+" apexcharts-theme-"+t.config.tooltip.theme),r.appendChild(e.xaxisTooltip),e.xaxisTooltipText=document.createElement("div"),e.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),e.xaxisTooltipText.style.fontFamily=t.config.xaxis.tooltip.style.fontFamily||t.config.chart.fontFamily,e.xaxisTooltipText.style.fontSize=t.config.xaxis.tooltip.style.fontSize,e.xaxisTooltip.appendChild(e.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var t=this.w,e=this.ttCtx,i=function(i){var n=t.config.yaxis[i].opposite||t.config.yaxis[i].crosshairs.opposite;e.yaxisOffX=n?t.globals.gridWidth+1:1;var r="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(i,n?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left");t.globals.yAxisSameScaleIndices.map((function(e,n){e.map((function(e,n){n===i&&(r+=t.config.yaxis[n].show?" ":" apexcharts-yaxistooltip-hidden")}))}));var s=t.globals.dom.elWrap;null===t.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(i))&&(e.yaxisTooltip=document.createElement("div"),e.yaxisTooltip.setAttribute("class",r+" apexcharts-theme-"+t.config.tooltip.theme),s.appendChild(e.yaxisTooltip),0===i&&(e.yaxisTooltipText=[]),e.yaxisTooltipText[i]=document.createElement("div"),e.yaxisTooltipText[i].classList.add("apexcharts-yaxistooltip-text"),e.yaxisTooltip.appendChild(e.yaxisTooltipText[i]))},n=0;n<t.config.yaxis.length;n++)i(n)}},{key:"setXCrosshairWidth",value:function(){var t=this.w,e=this.ttCtx,i=e.getElXCrosshairs();if(e.xcrosshairsWidth=parseInt(t.config.xaxis.crosshairs.width,10),t.globals.comboCharts){var n=t.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==n&&"barWidth"===t.config.xaxis.crosshairs.width){var r=parseFloat(n.getAttribute("barWidth"));e.xcrosshairsWidth=r}else if("tickWidth"===t.config.xaxis.crosshairs.width){var s=t.globals.labels.length;e.xcrosshairsWidth=t.globals.gridWidth/s}}else if("tickWidth"===t.config.xaxis.crosshairs.width){var a=t.globals.labels.length;e.xcrosshairsWidth=t.globals.gridWidth/a}else if("barWidth"===t.config.xaxis.crosshairs.width){var o=t.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==o){var l=parseFloat(o.getAttribute("barWidth"));e.xcrosshairsWidth=l}else e.xcrosshairsWidth=1}t.globals.isBarHorizontal&&(e.xcrosshairsWidth=0),null!==i&&e.xcrosshairsWidth>0&&i.setAttribute("width",e.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var t=this.w,e=this.ttCtx;e.ycrosshairs=t.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),e.ycrosshairsHidden=t.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(t,e,i){var n=this.ttCtx,r=this.w,s=r.globals.yLabelFormatters[t];if(n.yaxisTooltips[t]){var a=n.getElGrid().getBoundingClientRect(),o=(e-a.top)*i.yRatio[t],l=r.globals.maxYArr[t]-r.globals.minYArr[t],c=r.globals.minYArr[t]+(l-o);n.tooltipPosition.moveYCrosshairs(e-a.top),n.yaxisTooltipText[t].innerHTML=s(c),n.tooltipPosition.moveYAxisTooltip(t)}}}]),t}(),At=function(){function t(e){o(this,t),this.ctx=e,this.w=e.w;var i=this.w;this.tConfig=i.config.tooltip,this.tooltipUtil=new vt(this),this.tooltipLabels=new yt(this),this.tooltipPosition=new xt(this),this.marker=new bt(this),this.intersect=new wt(this),this.axesTooltip=new kt(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!i.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return c(t,[{key:"getElTooltip",value:function(t){return t||(t=this),t.w.globals.dom.baseEl?t.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(t){var e=this.w;this.xyRatios=t,this.isXAxisTooltipEnabled=e.config.xaxis.tooltip.enabled&&e.globals.axisCharts,this.yaxisTooltips=e.config.yaxis.map((function(t,i){return!!(t.show&&t.tooltip.enabled&&e.globals.axisCharts)})),this.allTooltipSeriesGroups=[],e.globals.axisCharts||(this.showTooltipTitle=!1);var i=document.createElement("div");if(i.classList.add("apexcharts-tooltip"),i.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),e.globals.dom.elWrap.appendChild(i),e.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var n=new K(this.ctx);this.xAxisTicksPositions=n.getXAxisTicksPositions()}if(!e.globals.comboCharts&&!this.tConfig.intersect&&"rangeBar"!==e.config.chart.type||this.tConfig.shared||(this.showOnIntersect=!0),0!==e.config.markers.size&&0!==e.globals.markers.largestSize||this.marker.drawDynamicPoints(this),e.globals.collapsedSeries.length!==e.globals.series.length){this.dataPointsDividedHeight=e.globals.gridHeight/e.globals.dataPoints,this.dataPointsDividedWidth=e.globals.gridWidth/e.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||e.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,i.appendChild(this.tooltipTitle));var r=e.globals.series.length;(e.globals.xyCharts||e.globals.comboCharts)&&this.tConfig.shared&&(r=this.showOnIntersect?1:e.globals.series.length),this.legendLabels=e.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(r),this.addSVGEvents()}}},{key:"createTTElements",value:function(t){for(var e=this,i=this.w,n=[],r=this.getElTooltip(),s=function(s){var a=document.createElement("div");a.classList.add("apexcharts-tooltip-series-group"),a.style.order=i.config.tooltip.inverseOrder?t-s:s+1,e.tConfig.shared&&e.tConfig.enabledOnSeries&&Array.isArray(e.tConfig.enabledOnSeries)&&e.tConfig.enabledOnSeries.indexOf(s)<0&&a.classList.add("apexcharts-tooltip-series-group-hidden");var o=document.createElement("span");o.classList.add("apexcharts-tooltip-marker"),o.style.backgroundColor=i.globals.colors[s],a.appendChild(o);var l=document.createElement("div");l.classList.add("apexcharts-tooltip-text"),l.style.fontFamily=e.tConfig.style.fontFamily||i.config.chart.fontFamily,l.style.fontSize=e.tConfig.style.fontSize,["y","goals","z"].forEach((function(t){var e=document.createElement("div");e.classList.add("apexcharts-tooltip-".concat(t,"-group"));var i=document.createElement("span");i.classList.add("apexcharts-tooltip-text-".concat(t,"-label")),e.appendChild(i);var n=document.createElement("span");n.classList.add("apexcharts-tooltip-text-".concat(t,"-value")),e.appendChild(n),l.appendChild(e)})),a.appendChild(l),r.appendChild(a),n.push(a)},a=0;a<t;a++)s(a);return n}},{key:"addSVGEvents",value:function(){var t=this.w,e=t.config.chart.type,i=this.getElTooltip(),n=!("bar"!==e&&"candlestick"!==e&&"boxPlot"!==e&&"rangeBar"!==e),r="area"===e||"line"===e||"scatter"===e||"bubble"===e||"radar"===e,s=t.globals.dom.Paper.node,a=this.getElGrid();a&&(this.seriesBound=a.getBoundingClientRect());var o,l=[],c=[],h={hoverArea:s,elGrid:a,tooltipEl:i,tooltipY:l,tooltipX:c,ttItems:this.ttItems};if(t.globals.axisCharts&&(r?o=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):n?o=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):"heatmap"!==e&&"treemap"!==e||(o=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),o&&o.length))for(var u=0;u<o.length;u++)l.push(o[u].getAttribute("cy")),c.push(o[u].getAttribute("cx"));if(t.globals.xyCharts&&!this.showOnIntersect||t.globals.comboCharts&&!this.showOnIntersect||n&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([s],h);else if(n&&!t.globals.comboCharts||r&&this.showOnIntersect)this.addDatapointEventsListeners(h);else if(!t.globals.axisCharts||"heatmap"===e||"treemap"===e){var d=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(d,h)}if(this.showOnIntersect){var f=t.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");f.length>0&&this.addPathsEventListeners(f,h),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(h)}}},{key:"drawFixedTooltipRect",value:function(){var t=this.w,e=this.getElTooltip(),i=e.getBoundingClientRect(),n=i.width+10,r=i.height+10,s=this.tConfig.fixed.offsetX,a=this.tConfig.fixed.offsetY,o=this.tConfig.fixed.position.toLowerCase();return o.indexOf("right")>-1&&(s=s+t.globals.svgWidth-n+10),o.indexOf("bottom")>-1&&(a=a+t.globals.svgHeight-r-10),e.style.left=s+"px",e.style.top=a+"px",{x:s,y:a,ttWidth:n,ttHeight:r}}},{key:"addDatapointEventsListeners",value:function(t){var e=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(e,t)}},{key:"addPathsEventListeners",value:function(t,e){for(var i=this,n=function(n){var r={paths:t[n],tooltipEl:e.tooltipEl,tooltipY:e.tooltipY,tooltipX:e.tooltipX,elGrid:e.elGrid,hoverArea:e.hoverArea,ttItems:e.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map((function(e){return t[n].addEventListener(e,i.onSeriesHover.bind(i,r),{capture:!1,passive:!0})}))},r=0;r<t.length;r++)n(r)}},{key:"onSeriesHover",value:function(t,e){var i=this,n=Date.now()-this.lastHoverTime;n>=100?this.seriesHover(t,e):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout((function(){i.seriesHover(t,e)}),100-n))}},{key:"seriesHover",value:function(t,e){var i=this;this.lastHoverTime=Date.now();var n=[],r=this.w;r.config.chart.group&&(n=this.ctx.getGroupedCharts()),r.globals.axisCharts&&(r.globals.minX===-1/0&&r.globals.maxX===1/0||0===r.globals.dataPoints)||(n.length?n.forEach((function(n){var r=i.getElTooltip(n),s={paths:t.paths,tooltipEl:r,tooltipY:t.tooltipY,tooltipX:t.tooltipX,elGrid:t.elGrid,hoverArea:t.hoverArea,ttItems:n.w.globals.tooltip.ttItems};n.w.globals.minX===i.w.globals.minX&&n.w.globals.maxX===i.w.globals.maxX&&n.w.globals.tooltip.seriesHoverByContext({chartCtx:n,ttCtx:n.w.globals.tooltip,opt:s,e:e})})):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:t,e:e}))}},{key:"seriesHoverByContext",value:function(t){var e=t.chartCtx,i=t.ttCtx,n=t.opt,r=t.e,s=e.w,a=this.getElTooltip();a&&(i.tooltipRect={x:0,y:0,ttWidth:a.getBoundingClientRect().width,ttHeight:a.getBoundingClientRect().height},i.e=r,!i.tooltipUtil.hasBars()||s.globals.comboCharts||i.isBarShared||this.tConfig.onDatasetHover.highlightDataSeries&&new F(e).toggleSeriesOnHover(r,r.target.parentNode),i.fixedTooltip&&i.drawFixedTooltipRect(),s.globals.axisCharts?i.axisChartsTooltips({e:r,opt:n,tooltipRect:i.tooltipRect}):i.nonAxisChartsTooltips({e:r,opt:n,tooltipRect:i.tooltipRect}))}},{key:"axisChartsTooltips",value:function(t){var e,i,n=t.e,r=t.opt,s=this.w,a=r.elGrid.getBoundingClientRect(),o="touchmove"===n.type?n.touches[0].clientX:n.clientX,l="touchmove"===n.type?n.touches[0].clientY:n.clientY;if(this.clientY=l,this.clientX=o,s.globals.capturedSeriesIndex=-1,s.globals.capturedDataPointIndex=-1,l<a.top||l>a.top+a.height)this.handleMouseOut(r);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!s.config.tooltip.shared){var c=parseInt(r.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(c)<0)return void this.handleMouseOut(r)}var h=this.getElTooltip(),u=this.getElXCrosshairs(),d=s.globals.xyCharts||"bar"===s.config.chart.type&&!s.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||s.globals.comboCharts&&this.tooltipUtil.hasBars();if("mousemove"===n.type||"touchmove"===n.type||"mouseup"===n.type){if(s.globals.collapsedSeries.length+s.globals.ancillaryCollapsedSeries.length===s.globals.series.length)return;null!==u&&u.classList.add("apexcharts-active");var f=this.yaxisTooltips.filter((function(t){return!0===t}));if(null!==this.ycrosshairs&&f.length&&this.ycrosshairs.classList.add("apexcharts-active"),d&&!this.showOnIntersect)this.handleStickyTooltip(n,o,l,r);else if("heatmap"===s.config.chart.type||"treemap"===s.config.chart.type){var p=this.intersect.handleHeatTreeTooltip({e:n,opt:r,x:e,y:i,type:s.config.chart.type});e=p.x,i=p.y,h.style.left=e+"px",h.style.top=i+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:n,opt:r}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:n,opt:r,x:e,y:i});if(this.yaxisTooltips.length)for(var g=0;g<s.config.yaxis.length;g++)this.axesTooltip.drawYaxisTooltipText(g,l,this.xyRatios);r.tooltipEl.classList.add("apexcharts-active")}else"mouseout"!==n.type&&"touchend"!==n.type||this.handleMouseOut(r)}}},{key:"nonAxisChartsTooltips",value:function(t){var e=t.e,i=t.opt,n=t.tooltipRect,r=this.w,s=i.paths.getAttribute("rel"),a=this.getElTooltip(),o=r.globals.dom.elWrap.getBoundingClientRect();if("mousemove"===e.type||"touchmove"===e.type){a.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:i.ttItems,i:parseInt(s,10)-1,shared:!1});var l=r.globals.clientX-o.left-n.ttWidth/2,c=r.globals.clientY-o.top-n.ttHeight-10;if(a.style.left=l+"px",a.style.top=c+"px",r.config.legend.tooltipHoverFormatter){var h=s-1,u=(0,r.config.legend.tooltipHoverFormatter)(this.legendLabels[h].getAttribute("data:default-text"),{seriesIndex:h,dataPointIndex:h,w:r});this.legendLabels[h].innerHTML=u}}else"mouseout"!==e.type&&"touchend"!==e.type||(a.classList.remove("apexcharts-active"),r.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach((function(t){var e=t.getAttribute("data:default-text");t.innerHTML=decodeURIComponent(e)})))}},{key:"handleStickyTooltip",value:function(t,e,i,n){var r=this.w,s=this.tooltipUtil.getNearestValues({context:this,hoverArea:n.hoverArea,elGrid:n.elGrid,clientX:e,clientY:i}),a=s.j,o=s.capturedSeries,l=n.elGrid.getBoundingClientRect();s.hoverX<0||s.hoverX>l.width?this.handleMouseOut(n):null!==o?this.handleStickyCapturedSeries(t,o,n,a):(this.tooltipUtil.isXoverlap(a)||r.globals.isBarHorizontal)&&this.create(t,this,0,a,n.ttItems)}},{key:"handleStickyCapturedSeries",value:function(t,e,i,n){var r=this.w;this.tConfig.shared||null!==r.globals.series[e][n]?void 0!==r.globals.series[e][n]?this.tConfig.shared&&this.tooltipUtil.isXoverlap(n)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(t,this,e,n,i.ttItems):this.create(t,this,e,n,i.ttItems,!1):this.tooltipUtil.isXoverlap(n)&&this.create(t,this,0,n,i.ttItems):this.handleMouseOut(i)}},{key:"deactivateHoverFilter",value:function(){for(var t=this.w,e=new A(this.ctx),i=t.globals.dom.Paper.select(".apexcharts-bar-area"),n=0;n<i.length;n++)e.pathMouseLeave(i[n])}},{key:"handleMouseOut",value:function(t){var e=this.w,i=this.getElXCrosshairs();if(t.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),"bubble"!==e.config.chart.type&&this.marker.resetPointsSize(),null!==i&&i.classList.remove("apexcharts-active"),null!==this.ycrosshairs&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){null===this.yaxisTTEls&&(this.yaxisTTEls=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var n=0;n<this.yaxisTTEls.length;n++)this.yaxisTTEls[n].classList.remove("apexcharts-active")}e.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach((function(t){var e=t.getAttribute("data:default-text");t.innerHTML=decodeURIComponent(e)}))}},{key:"markerClick",value:function(t,e,i){var n=this.w;"function"==typeof n.config.chart.events.markerClick&&n.config.chart.events.markerClick(t,this.ctx,{seriesIndex:e,dataPointIndex:i,w:n}),this.ctx.events.fireEvent("markerClick",[t,this.ctx,{seriesIndex:e,dataPointIndex:i,w:n}])}},{key:"create",value:function(t,e,i,n,r){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=this.w,o=e;"mouseup"===t.type&&this.markerClick(t,i,n),null===s&&(s=this.tConfig.shared);var l=this.tooltipUtil.hasMarkers(),c=this.tooltipUtil.getElBars();if(a.config.legend.tooltipHoverFormatter){var h=a.config.legend.tooltipHoverFormatter,u=Array.from(this.legendLabels);u.forEach((function(t){var e=t.getAttribute("data:default-text");t.innerHTML=decodeURIComponent(e)}));for(var d=0;d<u.length;d++){var f=u[d],p=parseInt(f.getAttribute("i"),10),g=decodeURIComponent(f.getAttribute("data:default-text")),m=h(g,{seriesIndex:s?p:i,dataPointIndex:n,w:a});if(s)f.innerHTML=a.globals.collapsedSeriesIndices.indexOf(p)<0?m:g;else if(f.innerHTML=p===i?m:g,i===p)break}}if(s){if(o.tooltipLabels.drawSeriesTexts({ttItems:r,i:i,j:n,shared:!this.showOnIntersect&&this.tConfig.shared}),l&&(a.globals.markers.largestSize>0?o.marker.enlargePoints(n):o.tooltipPosition.moveDynamicPointsOnHover(n)),this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(c),this.barSeriesHeight>0)){var v=new A(this.ctx),y=a.globals.dom.Paper.select(".apexcharts-bar-area[j='".concat(n,"']"));this.deactivateHoverFilter(),this.tooltipPosition.moveStickyTooltipOverBars(n);for(var x=0;x<y.length;x++)v.pathMouseEnter(y[x])}}else o.tooltipLabels.drawSeriesTexts({shared:!1,ttItems:r,i:i,j:n}),this.tooltipUtil.hasBars()&&o.tooltipPosition.moveStickyTooltipOverBars(n),l&&o.tooltipPosition.moveMarkers(i,n)}}]),t}(),St=function(t){u(i,V);var e=g(i);function i(){return o(this,i),e.apply(this,arguments)}return c(i,[{key:"draw",value:function(t,e){var i=this,n=this.w;this.graphics=new A(this.ctx),this.bar=new V(this.ctx,this.xyRatios);var r=new E(this.ctx,n);t=r.getLogSeries(t),this.yRatio=r.getLogYRatios(this.yRatio),this.barHelpers.initVariables(t),"100%"===n.config.chart.stackType&&(t=n.globals.seriesPercent.slice()),this.series=t,this.totalItems=0,this.prevY=[],this.prevX=[],this.prevYF=[],this.prevXF=[],this.prevYVal=[],this.prevXVal=[],this.xArrj=[],this.xArrjF=[],this.xArrjVal=[],this.yArrj=[],this.yArrjF=[],this.yArrjVal=[];for(var a=0;a<t.length;a++)t[a].length>0&&(this.totalItems+=t[a].length);for(var o=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),l=0,c=0,h=function(r,a){var h=void 0,u=void 0,d=void 0,f=void 0,p=[],g=[],m=n.globals.comboCharts?e[r]:r;i.yRatio.length>1&&(i.yaxisIndex=m),i.isReversed=n.config.yaxis[i.yaxisIndex]&&n.config.yaxis[i.yaxisIndex].reversed;var v=i.graphics.group({class:"apexcharts-series",seriesName:b.escapeString(n.globals.seriesNames[m]),rel:r+1,"data:realIndex":m});i.ctx.series.addCollapsedClassToSeries(v,m);var y=i.graphics.group({class:"apexcharts-datalabels","data:realIndex":m}),x=0,w=0,k=i.initialPositions(l,c,h,u,d,f);c=k.y,x=k.barHeight,u=k.yDivision,f=k.zeroW,l=k.x,w=k.barWidth,h=k.xDivision,d=k.zeroH,i.yArrj=[],i.yArrjF=[],i.yArrjVal=[],i.xArrj=[],i.xArrjF=[],i.xArrjVal=[],1===i.prevY.length&&i.prevY[0].every((function(t){return isNaN(t)}))&&(i.prevY[0]=i.prevY[0].map((function(t){return d})),i.prevYF[0]=i.prevYF[0].map((function(t){return 0})));for(var A=0;A<n.globals.dataPoints;A++){var S=i.barHelpers.getStrokeWidth(r,A,m),C={indexes:{i:r,j:A,realIndex:m,bc:a},strokeWidth:S,x:l,y:c,elSeries:v},E=null;i.isHorizontal?(E=i.drawStackedBarPaths(s(s({},C),{},{zeroW:f,barHeight:x,yDivision:u})),w=i.series[r][A]/i.invertedYRatio):(E=i.drawStackedColumnPaths(s(s({},C),{},{xDivision:h,barWidth:w,zeroH:d})),x=i.series[r][A]/i.yRatio[i.yaxisIndex]),c=E.y,l=E.x,p.push(l),g.push(c);var I=i.barHelpers.getPathFillColor(t,r,A,m);v=i.renderSeries({realIndex:m,pathFill:I,j:A,i:r,pathFrom:E.pathFrom,pathTo:E.pathTo,strokeWidth:S,elSeries:v,x:l,y:c,series:t,barHeight:x,barWidth:w,elDataLabelsWrap:y,type:"bar",visibleSeries:0})}n.globals.seriesXvalues[m]=p,n.globals.seriesYvalues[m]=g,i.prevY.push(i.yArrj),i.prevYF.push(i.yArrjF),i.prevYVal.push(i.yArrjVal),i.prevX.push(i.xArrj),i.prevXF.push(i.xArrjF),i.prevXVal.push(i.xArrjVal),o.add(v)},u=0,d=0;u<t.length;u++,d++)h(u,d);return o}},{key:"initialPositions",value:function(t,e,i,n,r,s){var a,o,l=this.w;return this.isHorizontal?(a=(a=n=l.globals.gridHeight/l.globals.dataPoints)*parseInt(l.config.plotOptions.bar.barHeight,10)/100,s=this.baseLineInvertedY+l.globals.padHorizontal+(this.isReversed?l.globals.gridWidth:0)-(this.isReversed?2*this.baseLineInvertedY:0),e=(n-a)/2):(o=i=l.globals.gridWidth/l.globals.dataPoints,o=l.globals.isXNumeric&&l.globals.dataPoints>1?(i=l.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:o*parseInt(l.config.plotOptions.bar.columnWidth,10)/100,r=this.baseLineY[this.yaxisIndex]+(this.isReversed?l.globals.gridHeight:0)-(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),t=l.globals.padHorizontal+(i-o)/2),{x:t,y:e,yDivision:n,xDivision:i,barHeight:a,barWidth:o,zeroH:r,zeroW:s}}},{key:"drawStackedBarPaths",value:function(t){for(var e,i=t.indexes,n=t.barHeight,r=t.strokeWidth,s=t.zeroW,a=t.x,o=t.y,l=t.yDivision,c=t.elSeries,h=this.w,u=o,d=i.i,f=i.j,p=0,g=0;g<this.prevXF.length;g++)p+=this.prevXF[g][f];if(d>0){var m=s;this.prevXVal[d-1][f]<0?m=this.series[d][f]>=0?this.prevX[d-1][f]+p-2*(this.isReversed?p:0):this.prevX[d-1][f]:this.prevXVal[d-1][f]>=0&&(m=this.series[d][f]>=0?this.prevX[d-1][f]:this.prevX[d-1][f]-p+2*(this.isReversed?p:0)),e=m}else e=s;a=null===this.series[d][f]?e:e+this.series[d][f]/this.invertedYRatio-2*(this.isReversed?this.series[d][f]/this.invertedYRatio:0);var v=this.barHelpers.getBarpaths({barYPosition:u,barHeight:n,x1:e,x2:a,strokeWidth:r,series:this.series,realIndex:i.realIndex,i:d,j:f,w:h});return this.barHelpers.barBackground({j:f,i:d,y1:u,y2:n,elSeries:c}),o+=l,{pathTo:v.pathTo,pathFrom:v.pathFrom,x:a,y:o}}},{key:"drawStackedColumnPaths",value:function(t){var e=t.indexes,i=t.x,n=t.y,r=t.xDivision,s=t.barWidth,a=t.zeroH;t.strokeWidth;var o=t.elSeries,l=this.w,c=e.i,h=e.j,u=e.bc;if(l.globals.isXNumeric){var d=l.globals.seriesX[c][h];d||(d=0),i=(d-l.globals.minX)/this.xRatio-s/2}for(var f,p=i,g=0,m=0;m<this.prevYF.length;m++)g+=isNaN(this.prevYF[m][h])?0:this.prevYF[m][h];if(c>0&&!l.globals.isXNumeric||c>0&&l.globals.isXNumeric&&l.globals.seriesX[c-1][h]===l.globals.seriesX[c][h]){var v,y,x=Math.min(this.yRatio.length+1,c+1);if(void 0!==this.prevY[c-1])for(var b=1;b<x;b++)if(!isNaN(this.prevY[c-b][h])){y=this.prevY[c-b][h];break}for(var w=1;w<x;w++){if(this.prevYVal[c-w][h]<0){v=this.series[c][h]>=0?y-g+2*(this.isReversed?g:0):y;break}if(this.prevYVal[c-w][h]>=0){v=this.series[c][h]>=0?y:y+g-2*(this.isReversed?g:0);break}}void 0===v&&(v=l.globals.gridHeight),f=this.prevYF[0].every((function(t){return 0===t}))&&this.prevYF.slice(1,c).every((function(t){return t.every((function(t){return isNaN(t)}))}))?l.globals.gridHeight-a:v}else f=l.globals.gridHeight-a;n=f-this.series[c][h]/this.yRatio[this.yaxisIndex]+2*(this.isReversed?this.series[c][h]/this.yRatio[this.yaxisIndex]:0);var k=this.barHelpers.getColumnPaths({barXPosition:p,barWidth:s,y1:f,y2:n,yRatio:this.yRatio[this.yaxisIndex],strokeWidth:this.strokeWidth,series:this.series,realIndex:e.realIndex,i:c,j:h,w:l});return this.barHelpers.barBackground({bc:u,j:h,i:c,x1:p,x2:s,elSeries:o}),i+=r,{pathTo:k.pathTo,pathFrom:k.pathFrom,x:l.globals.isXNumeric?i-r:i,y:n}}}]),i}(),Ct=function(t){u(i,V);var e=g(i);function i(){return o(this,i),e.apply(this,arguments)}return c(i,[{key:"draw",value:function(t,e){var i=this,n=this.w,r=new A(this.ctx),a=new R(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=n.config.plotOptions.bar.horizontal;var o=new E(this.ctx,n);t=o.getLogSeries(t),this.series=t,this.yRatio=o.getLogYRatios(this.yRatio),this.barHelpers.initVariables(t);for(var l=r.group({class:"apexcharts-".concat(n.config.chart.type,"-series apexcharts-plot-series")}),c=function(o){i.isBoxPlot="boxPlot"===n.config.chart.type||"boxPlot"===n.config.series[o].type;var c,h,u,d,f,p,g=void 0,m=void 0,v=[],y=[],x=n.globals.comboCharts?e[o]:o,w=r.group({class:"apexcharts-series",seriesName:b.escapeString(n.globals.seriesNames[x]),rel:o+1,"data:realIndex":x});i.ctx.series.addCollapsedClassToSeries(w,x),t[o].length>0&&(i.visibleI=i.visibleI+1),i.yRatio.length>1&&(i.yaxisIndex=x);var k=i.barHelpers.initialPositions();m=k.y,f=k.barHeight,h=k.yDivision,d=k.zeroW,g=k.x,p=k.barWidth,c=k.xDivision,u=k.zeroH,y.push(g+p/2);for(var A=r.group({class:"apexcharts-datalabels","data:realIndex":x}),S=function(e){var r=i.barHelpers.getStrokeWidth(o,e,x),l=null,b={indexes:{i:o,j:e,realIndex:x},x:g,y:m,strokeWidth:r,elSeries:w};l=i.isHorizontal?i.drawHorizontalBoxPaths(s(s({},b),{},{yDivision:h,barHeight:f,zeroW:d})):i.drawVerticalBoxPaths(s(s({},b),{},{xDivision:c,barWidth:p,zeroH:u})),m=l.y,g=l.x,e>0&&y.push(g+p/2),v.push(m),l.pathTo.forEach((function(s,c){var h=!i.isBoxPlot&&i.candlestickOptions.wick.useFillColor?l.color[c]:n.globals.stroke.colors[o],u=a.fillPath({seriesNumber:x,dataPointIndex:e,color:l.color[c],value:t[o][e]});i.renderSeries({realIndex:x,pathFill:u,lineFill:h,j:e,i:o,pathFrom:l.pathFrom,pathTo:s,strokeWidth:r,elSeries:w,x:g,y:m,series:t,barHeight:f,barWidth:p,elDataLabelsWrap:A,visibleSeries:i.visibleI,type:n.config.chart.type})}))},C=0;C<n.globals.dataPoints;C++)S(C);n.globals.seriesXvalues[x]=y,n.globals.seriesYvalues[x]=v,l.add(w)},h=0;h<t.length;h++)c(h);return l}},{key:"drawVerticalBoxPaths",value:function(t){var e=t.indexes,i=t.x;t.y;var n=t.xDivision,r=t.barWidth,s=t.zeroH,a=t.strokeWidth,o=this.w,l=new A(this.ctx),c=e.i,h=e.j,u=!0,d=o.config.plotOptions.candlestick.colors.upward,f=o.config.plotOptions.candlestick.colors.downward,p="";this.isBoxPlot&&(p=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var g=this.yRatio[this.yaxisIndex],m=e.realIndex,v=this.getOHLCValue(m,h),y=s,x=s;v.o>v.c&&(u=!1);var b=Math.min(v.o,v.c),w=Math.max(v.o,v.c),k=v.m;o.globals.isXNumeric&&(i=(o.globals.seriesX[m][h]-o.globals.minX)/this.xRatio-r/2);var S=i+r*this.visibleI;void 0===this.series[c][h]||null===this.series[c][h]?(b=s,w=s):(b=s-b/g,w=s-w/g,y=s-v.h/g,x=s-v.l/g,k=s-v.m/g);var C=l.move(S,s),E=l.move(S+r/2,b);return o.globals.previousPaths.length>0&&(E=this.getPreviousPath(m,h,!0)),C=this.isBoxPlot?[l.move(S,b)+l.line(S+r/2,b)+l.line(S+r/2,y)+l.line(S+r/4,y)+l.line(S+r-r/4,y)+l.line(S+r/2,y)+l.line(S+r/2,b)+l.line(S+r,b)+l.line(S+r,k)+l.line(S,k)+l.line(S,b+a/2),l.move(S,k)+l.line(S+r,k)+l.line(S+r,w)+l.line(S+r/2,w)+l.line(S+r/2,x)+l.line(S+r-r/4,x)+l.line(S+r/4,x)+l.line(S+r/2,x)+l.line(S+r/2,w)+l.line(S,w)+l.line(S,k)+"z"]:[l.move(S,w)+l.line(S+r/2,w)+l.line(S+r/2,y)+l.line(S+r/2,w)+l.line(S+r,w)+l.line(S+r,b)+l.line(S+r/2,b)+l.line(S+r/2,x)+l.line(S+r/2,b)+l.line(S,b)+l.line(S,w-a/2)],E+=l.move(S,b),o.globals.isXNumeric||(i+=n),{pathTo:C,pathFrom:E,x:i,y:w,barXPosition:S,color:this.isBoxPlot?p:u?[d]:[f]}}},{key:"drawHorizontalBoxPaths",value:function(t){var e=t.indexes;t.x;var i=t.y,n=t.yDivision,r=t.barHeight,s=t.zeroW,a=t.strokeWidth,o=this.w,l=new A(this.ctx),c=e.i,h=e.j,u=this.boxOptions.colors.lower;this.isBoxPlot&&(u=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var d=this.invertedYRatio,f=e.realIndex,p=this.getOHLCValue(f,h),g=s,m=s,v=Math.min(p.o,p.c),y=Math.max(p.o,p.c),x=p.m;o.globals.isXNumeric&&(i=(o.globals.seriesX[f][h]-o.globals.minX)/this.invertedXRatio-r/2);var b=i+r*this.visibleI;void 0===this.series[c][h]||null===this.series[c][h]?(v=s,y=s):(v=s+v/d,y=s+y/d,g=s+p.h/d,m=s+p.l/d,x=s+p.m/d);var w=l.move(s,b),k=l.move(v,b+r/2);return o.globals.previousPaths.length>0&&(k=this.getPreviousPath(f,h,!0)),w=[l.move(v,b)+l.line(v,b+r/2)+l.line(g,b+r/2)+l.line(g,b+r/2-r/4)+l.line(g,b+r/2+r/4)+l.line(g,b+r/2)+l.line(v,b+r/2)+l.line(v,b+r)+l.line(x,b+r)+l.line(x,b)+l.line(v+a/2,b),l.move(x,b)+l.line(x,b+r)+l.line(y,b+r)+l.line(y,b+r/2)+l.line(m,b+r/2)+l.line(m,b+r-r/4)+l.line(m,b+r/4)+l.line(m,b+r/2)+l.line(y,b+r/2)+l.line(y,b)+l.line(x,b)+"z"],k+=l.move(v,b),o.globals.isXNumeric||(i+=n),{pathTo:w,pathFrom:k,x:y,y:i,barYPosition:b,color:u}}},{key:"getOHLCValue",value:function(t,e){var i=this.w;return{o:this.isBoxPlot?i.globals.seriesCandleH[t][e]:i.globals.seriesCandleO[t][e],h:this.isBoxPlot?i.globals.seriesCandleO[t][e]:i.globals.seriesCandleH[t][e],m:i.globals.seriesCandleM[t][e],l:this.isBoxPlot?i.globals.seriesCandleC[t][e]:i.globals.seriesCandleL[t][e],c:this.isBoxPlot?i.globals.seriesCandleL[t][e]:i.globals.seriesCandleC[t][e]}}}]),i}(),Et=function(){function t(e){o(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"checkColorRange",value:function(){var t=this.w,e=!1,i=t.config.plotOptions[t.config.chart.type];return i.colorScale.ranges.length>0&&i.colorScale.ranges.map((function(t,i){t.from<=0&&(e=!0)})),e}},{key:"getShadeColor",value:function(t,e,i,n){var r=this.w,s=1,a=r.config.plotOptions[t].shadeIntensity,o=this.determineColor(t,e,i);r.globals.hasNegs||n?s=r.config.plotOptions[t].reverseNegativeShade?o.percent<0?o.percent/100*(1.25*a):(1-o.percent/100)*(1.25*a):o.percent<=0?1-(1+o.percent/100)*a:(1-o.percent/100)*a:(s=1-o.percent/100,"treemap"===t&&(s=(1-o.percent/100)*(1.25*a)));var l=o.color,c=new b;return r.config.plotOptions[t].enableShades&&(l="dark"===this.w.config.theme.mode?b.hexToRgba(c.shadeColor(-1*s,o.color),r.config.fill.opacity):b.hexToRgba(c.shadeColor(s,o.color),r.config.fill.opacity)),{color:l,colorProps:o}}},{key:"determineColor",value:function(t,e,i){var n=this.w,r=n.globals.series[e][i],s=n.config.plotOptions[t],a=s.colorScale.inverse?i:e;s.distributed&&"treemap"===n.config.chart.type&&(a=i);var o=n.globals.colors[a],l=null,c=Math.min.apply(Math,v(n.globals.series[e])),h=Math.max.apply(Math,v(n.globals.series[e]));s.distributed||"heatmap"!==t||(c=n.globals.minY,h=n.globals.maxY),void 0!==s.colorScale.min&&(c=s.colorScale.min<n.globals.minY?s.colorScale.min:n.globals.minY,h=s.colorScale.max>n.globals.maxY?s.colorScale.max:n.globals.maxY);var u=Math.abs(h)+Math.abs(c),d=100*r/(0===u?u-1e-6:u);return s.colorScale.ranges.length>0&&s.colorScale.ranges.map((function(t,e){if(r>=t.from&&r<=t.to){o=t.color,l=t.foreColor?t.foreColor:null,c=t.from,h=t.to;var i=Math.abs(h)+Math.abs(c);d=100*r/(0===i?i-1e-6:i)}})),{color:o,foreColor:l,percent:d}}},{key:"calculateDataLabels",value:function(t){var e=t.text,i=t.x,n=t.y,r=t.i,s=t.j,a=t.colorProps,o=t.fontSize,l=this.w.config.dataLabels,c=new A(this.ctx),h=new M(this.ctx),u=null;if(l.enabled){u=c.group({class:"apexcharts-data-labels"});var d=l.offsetX,f=l.offsetY,p=i+d,g=n+parseFloat(l.style.fontSize)/3+f;h.plotDataLabelsText({x:p,y:g,text:e,i:r,j:s,color:a.foreColor,parent:u,fontSize:o,dataLabelsConfig:l})}return u}},{key:"addListeners",value:function(t){var e=new A(this.ctx);t.node.addEventListener("mouseenter",e.pathMouseEnter.bind(this,t)),t.node.addEventListener("mouseleave",e.pathMouseLeave.bind(this,t)),t.node.addEventListener("mousedown",e.pathMouseDown.bind(this,t))}}]),t}(),It=function(){function t(e,i){o(this,t),this.ctx=e,this.w=e.w,this.xRatio=i.xRatio,this.yRatio=i.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new Et(e),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return c(t,[{key:"draw",value:function(t){var e=this.w,i=new A(this.ctx),n=i.group({class:"apexcharts-heatmap"});n.attr("clip-path","url(#gridRectMask".concat(e.globals.cuid,")"));var r=e.globals.gridWidth/e.globals.dataPoints,s=e.globals.gridHeight/e.globals.series.length,a=0,o=!1;this.negRange=this.helpers.checkColorRange();var l=t.slice();e.config.yaxis[0].reversed&&(o=!0,l.reverse());for(var c=o?0:l.length-1;o?c<l.length:c>=0;o?c++:c--){var h=i.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:b.escapeString(e.globals.seriesNames[c]),rel:c+1,"data:realIndex":c});if(this.ctx.series.addCollapsedClassToSeries(h,c),e.config.chart.dropShadow.enabled){var u=e.config.chart.dropShadow;new k(this.ctx).dropShadow(h,u,c)}for(var d=0,f=e.config.plotOptions.heatmap.shadeIntensity,p=0;p<l[c].length;p++){var g=this.helpers.getShadeColor(e.config.chart.type,c,p,this.negRange),m=g.color,v=g.colorProps;"image"===e.config.fill.type&&(m=new R(this.ctx).fillPath({seriesNumber:c,dataPointIndex:p,opacity:e.globals.hasNegs?v.percent<0?1-(1+v.percent/100):f+v.percent/100:v.percent/100,patternID:b.randomId(),width:e.config.fill.image.width?e.config.fill.image.width:r,height:e.config.fill.image.height?e.config.fill.image.height:s}));var y=this.rectRadius,x=i.drawRect(d,a,r,s,y);if(x.attr({cx:d,cy:a}),x.node.classList.add("apexcharts-heatmap-rect"),h.add(x),x.attr({fill:m,i:c,index:c,j:p,val:l[c][p],"stroke-width":this.strokeWidth,stroke:e.config.plotOptions.heatmap.useFillColorAsStroke?m:e.globals.stroke.colors[0],color:m}),this.helpers.addListeners(x),e.config.chart.animations.enabled&&!e.globals.dataChanged){var w=1;e.globals.resized||(w=e.config.chart.animations.speed),this.animateHeatMap(x,d,a,r,s,w)}if(e.globals.dataChanged){var S=1;if(this.dynamicAnim.enabled&&e.globals.shouldAnimate){S=this.dynamicAnim.speed;var C=e.globals.previousPaths[c]&&e.globals.previousPaths[c][p]&&e.globals.previousPaths[c][p].color;C||(C="rgba(255, 255, 255, 0)"),this.animateHeatColor(x,b.isColorHex(C)?C:b.rgb2hex(C),b.isColorHex(m)?m:b.rgb2hex(m),S)}}var E=(0,e.config.dataLabels.formatter)(e.globals.series[c][p],{value:e.globals.series[c][p],seriesIndex:c,dataPointIndex:p,w:e}),I=this.helpers.calculateDataLabels({text:E,x:d+r/2,y:a+s/2,i:c,j:p,colorProps:v,series:l});null!==I&&h.add(I),d+=r}a+=s,n.add(h)}var T=e.globals.yAxisScale[0].result.slice();e.config.yaxis[0].reversed?T.unshift(""):T.push(""),e.globals.yAxisScale[0].result=T;var _=e.globals.gridHeight/e.globals.series.length;return e.config.yaxis[0].labels.offsetY=-_/2,n}},{key:"animateHeatMap",value:function(t,e,i,n,r,s){var a=new w(this.ctx);a.animateRect(t,{x:e+n/2,y:i+r/2,width:0,height:0},{x:e,y:i,width:n,height:r},s,(function(){a.animationCompleted(t)}))}},{key:"animateHeatColor",value:function(t,e,i,n){t.attr({fill:e}).animate(n).attr({fill:i})}}]),t}(),Tt=function(){function t(e){o(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"drawYAxisTexts",value:function(t,e,i,n){var r=this.w,s=r.config.yaxis[0],a=r.globals.yLabelFormatters[0];return new A(this.ctx).drawText({x:t+s.labels.offsetX,y:e+s.labels.offsetY,text:a(n,i),textAnchor:"middle",fontSize:s.labels.style.fontSize,fontFamily:s.labels.style.fontFamily,foreColor:Array.isArray(s.labels.style.colors)?s.labels.style.colors[i]:s.labels.style.colors})}}]),t}(),_t=function(){function t(e){o(this,t),this.ctx=e,this.w=e.w;var i=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=void 0!==i.globals.stroke.colors?i.globals.stroke.colors:i.globals.colors,this.defaultSize=Math.min(i.globals.gridWidth,i.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=i.globals.gridWidth/2,"radialBar"===i.config.chart.type?this.fullAngle=360:this.fullAngle=Math.abs(i.config.plotOptions.pie.endAngle-i.config.plotOptions.pie.startAngle),this.initialAngle=i.config.plotOptions.pie.startAngle%this.fullAngle,i.globals.radialSize=this.defaultSize/2.05-i.config.stroke.width-(i.config.chart.sparkline.enabled?0:i.config.chart.dropShadow.blur),this.donutSize=i.globals.radialSize*parseInt(i.config.plotOptions.pie.donut.size,10)/100,this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return c(t,[{key:"draw",value:function(t){var e=this,i=this.w,n=new A(this.ctx);if(this.ret=n.group({class:"apexcharts-pie"}),i.globals.noData)return this.ret;for(var r=0,s=0;s<t.length;s++)r+=b.negToZero(t[s]);var a=[],o=n.group();0===r&&(r=1e-5),t.forEach((function(t){e.maxY=Math.max(e.maxY,t)})),i.config.yaxis[0].max&&(this.maxY=i.config.yaxis[0].max),"back"===i.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(this.ret);for(var l=0;l<t.length;l++){var c=this.fullAngle*b.negToZero(t[l])/r;a.push(c),"polarArea"===this.chartType?(a[l]=this.fullAngle/t.length,this.sliceSizes.push(i.globals.radialSize*t[l]/this.maxY)):this.sliceSizes.push(i.globals.radialSize)}if(i.globals.dataChanged){for(var h,u=0,d=0;d<i.globals.previousPaths.length;d++)u+=b.negToZero(i.globals.previousPaths[d]);for(var f=0;f<i.globals.previousPaths.length;f++)h=this.fullAngle*b.negToZero(i.globals.previousPaths[f])/u,this.prevSectorAngleArr.push(h)}this.donutSize<0&&(this.donutSize=0);var p=i.config.plotOptions.pie.customScale,g=i.globals.gridWidth/2,m=i.globals.gridHeight/2,v=g-i.globals.gridWidth/2*p,y=m-i.globals.gridHeight/2*p;if("donut"===this.chartType){var x=n.drawCircle(this.donutSize);x.attr({cx:this.centerX,cy:this.centerY,fill:i.config.plotOptions.pie.donut.background?i.config.plotOptions.pie.donut.background:"transparent"}),o.add(x)}var w=this.drawArcs(a,t);if(this.sliceLabels.forEach((function(t){w.add(t)})),o.attr({transform:"translate(".concat(v,", ").concat(y,") scale(").concat(p,")")}),o.add(w),this.ret.add(o),this.donutDataLabels.show){var k=this.renderInnerDataLabels(this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show,translateX:v,translateY:y});this.ret.add(k)}return"front"===i.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(this.ret),this.ret}},{key:"drawArcs",value:function(t,e){var i=this.w,n=new k(this.ctx),r=new A(this.ctx),s=new R(this.ctx),a=r.group({class:"apexcharts-slices"}),o=this.initialAngle,l=this.initialAngle,c=this.initialAngle,h=this.initialAngle;this.strokeWidth=i.config.stroke.show?i.config.stroke.width:0;for(var u=0;u<t.length;u++){var d=r.group({class:"apexcharts-series apexcharts-pie-series",seriesName:b.escapeString(i.globals.seriesNames[u]),rel:u+1,"data:realIndex":u});a.add(d),l=h,c=(o=c)+t[u],h=l+this.prevSectorAngleArr[u];var f=c<o?this.fullAngle+c-o:c-o,p=s.fillPath({seriesNumber:u,size:this.sliceSizes[u],value:e[u]}),g=this.getChangedPath(l,h),m=r.drawPath({d:g,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[u]:this.lineColorArr,strokeWidth:0,fill:p,fillOpacity:i.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(u)});if(m.attr({index:0,j:u}),n.setSelectionFilter(m,0,u),i.config.chart.dropShadow.enabled){var v=i.config.chart.dropShadow;n.dropShadow(m,v,u)}this.addListeners(m,this.donutDataLabels),A.setAttrs(m.node,{"data:angle":f,"data:startAngle":o,"data:strokeWidth":this.strokeWidth,"data:value":e[u]});var y={x:0,y:0};"pie"===this.chartType||"polarArea"===this.chartType?y=b.polarToCartesian(this.centerX,this.centerY,i.globals.radialSize/1.25+i.config.plotOptions.pie.dataLabels.offset,(o+f/2)%this.fullAngle):"donut"===this.chartType&&(y=b.polarToCartesian(this.centerX,this.centerY,(i.globals.radialSize+this.donutSize)/2+i.config.plotOptions.pie.dataLabels.offset,(o+f/2)%this.fullAngle)),d.add(m);var x=0;if(!this.initialAnim||i.globals.resized||i.globals.dataChanged?this.animBeginArr.push(0):(0===(x=f/this.fullAngle*i.config.chart.animations.speed)&&(x=1),this.animDur=x+this.animDur,this.animBeginArr.push(this.animDur)),this.dynamicAnim&&i.globals.dataChanged?this.animatePaths(m,{size:this.sliceSizes[u],endAngle:c,startAngle:o,prevStartAngle:l,prevEndAngle:h,animateStartingPos:!0,i:u,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:i.config.chart.animations.dynamicAnimation.speed}):this.animatePaths(m,{size:this.sliceSizes[u],endAngle:c,startAngle:o,i:u,totalItems:t.length-1,animBeginArr:this.animBeginArr,dur:x}),i.config.plotOptions.pie.expandOnClick&&"polarArea"!==this.chartType&&m.click(this.pieClicked.bind(this,u)),void 0!==i.globals.selectedDataPoints[0]&&i.globals.selectedDataPoints[0].indexOf(u)>-1&&this.pieClicked(u),i.config.dataLabels.enabled){var w=y.x,S=y.y,C=100*f/this.fullAngle+"%";if(0!==f&&i.config.plotOptions.pie.dataLabels.minAngleToShowLabel<t[u]){var E=i.config.dataLabels.formatter;void 0!==E&&(C=E(i.globals.seriesPercent[u][0],{seriesIndex:u,w:i}));var I=i.globals.dataLabels.style.colors[u],T=r.group({class:"apexcharts-datalabels"}),_=r.drawText({x:w,y:S,text:C,textAnchor:"middle",fontSize:i.config.dataLabels.style.fontSize,fontFamily:i.config.dataLabels.style.fontFamily,fontWeight:i.config.dataLabels.style.fontWeight,foreColor:I});if(T.add(_),i.config.dataLabels.dropShadow.enabled){var P=i.config.dataLabels.dropShadow;n.dropShadow(_,P)}_.node.classList.add("apexcharts-pie-label"),i.config.chart.animations.animate&&!1===i.globals.resized&&(_.node.classList.add("apexcharts-pie-label-delay"),_.node.style.animationDelay=i.config.chart.animations.speed/940+"s"),this.sliceLabels.push(T)}}}return a}},{key:"addListeners",value:function(t,e){var i=new A(this.ctx);t.node.addEventListener("mouseenter",i.pathMouseEnter.bind(this,t)),t.node.addEventListener("mouseleave",i.pathMouseLeave.bind(this,t)),t.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,t.node,e)),t.node.addEventListener("mousedown",i.pathMouseDown.bind(this,t)),this.donutDataLabels.total.showAlways||(t.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,t.node,e)),t.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,t.node,e)))}},{key:"animatePaths",value:function(t,e){var i=this.w,n=e.endAngle<e.startAngle?this.fullAngle+e.endAngle-e.startAngle:e.endAngle-e.startAngle,r=n,s=e.startAngle,a=e.startAngle;void 0!==e.prevStartAngle&&void 0!==e.prevEndAngle&&(s=e.prevEndAngle,r=e.prevEndAngle<e.prevStartAngle?this.fullAngle+e.prevEndAngle-e.prevStartAngle:e.prevEndAngle-e.prevStartAngle),e.i===i.config.series.length-1&&(n+a>this.fullAngle?e.endAngle=e.endAngle-(n+a):n+a<this.fullAngle&&(e.endAngle=e.endAngle+(this.fullAngle-(n+a)))),n===this.fullAngle&&(n=this.fullAngle-.01),this.animateArc(t,s,a,n,r,e)}},{key:"animateArc",value:function(t,e,i,n,r,s){var a,o=this,l=this.w,c=new w(this.ctx),h=s.size;(isNaN(e)||isNaN(r))&&(e=i,r=n,s.dur=0);var u=n,d=i,f=e<i?this.fullAngle+e-i:e-i;l.globals.dataChanged&&s.shouldSetPrevPaths&&s.prevEndAngle&&(a=o.getPiePath({me:o,startAngle:s.prevStartAngle,angle:s.prevEndAngle<s.prevStartAngle?this.fullAngle+s.prevEndAngle-s.prevStartAngle:s.prevEndAngle-s.prevStartAngle,size:h}),t.attr({d:a})),0!==s.dur?t.animate(s.dur,l.globals.easing,s.animBeginArr[s.i]).afterAll((function(){"pie"!==o.chartType&&"donut"!==o.chartType&&"polarArea"!==o.chartType||this.animate(l.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":o.strokeWidth}),s.i===l.config.series.length-1&&c.animationCompleted(t)})).during((function(l){u=f+(n-f)*l,s.animateStartingPos&&(u=r+(n-r)*l,d=e-r+(i-(e-r))*l),a=o.getPiePath({me:o,startAngle:d,angle:u,size:h}),t.node.setAttribute("data:pathOrig",a),t.attr({d:a})})):(a=o.getPiePath({me:o,startAngle:d,angle:n,size:h}),s.isTrack||(l.globals.animationEnded=!0),t.node.setAttribute("data:pathOrig",a),t.attr({d:a,"stroke-width":o.strokeWidth}))}},{key:"pieClicked",value:function(t){var e,i=this.w,n=this,r=n.sliceSizes[t]+(i.config.plotOptions.pie.expandOnClick?4:0),s=i.globals.dom.Paper.select(".apexcharts-".concat(n.chartType.toLowerCase(),"-slice-").concat(t)).members[0];if("true"!==s.attr("data:pieClicked")){var a=i.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(a,(function(t){t.setAttribute("data:pieClicked","false");var e=t.getAttribute("data:pathOrig");t.setAttribute("d",e)})),s.attr("data:pieClicked","true");var o=parseInt(s.attr("data:startAngle"),10),l=parseInt(s.attr("data:angle"),10);e=n.getPiePath({me:n,startAngle:o,angle:l,size:r}),360!==l&&s.plot(e)}else{s.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(s.node,this.donutDataLabels);var c=s.attr("data:pathOrig");s.attr({d:c})}}},{key:"getChangedPath",value:function(t,e){var i="";return this.dynamicAnim&&this.w.globals.dataChanged&&(i=this.getPiePath({me:this,startAngle:t,angle:e-t,size:this.size})),i}},{key:"getPiePath",value:function(t){var e=t.me,i=t.startAngle,n=t.angle,r=t.size,s=i,a=Math.PI*(s-90)/180,o=n+i;Math.ceil(o)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(o=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(o)>this.fullAngle&&(o-=this.fullAngle);var l=Math.PI*(o-90)/180,c=e.centerX+r*Math.cos(a),h=e.centerY+r*Math.sin(a),u=e.centerX+r*Math.cos(l),d=e.centerY+r*Math.sin(l),f=b.polarToCartesian(e.centerX,e.centerY,e.donutSize,o),p=b.polarToCartesian(e.centerX,e.centerY,e.donutSize,s),g=n>180?1:0,m=["M",c,h,"A",r,r,0,g,1,u,d];return"donut"===e.chartType?[].concat(m,["L",f.x,f.y,"A",e.donutSize,e.donutSize,0,g,0,p.x,p.y,"L",c,h,"z"]).join(" "):"pie"===e.chartType||"polarArea"===e.chartType?[].concat(m,["L",e.centerX,e.centerY,"L",c,h]).join(" "):[].concat(m).join(" ")}},{key:"drawPolarElements",value:function(t){var e=this.w,i=new Z(this.ctx),n=new A(this.ctx),r=new Tt(this.ctx),s=n.group(),a=n.group(),o=i.niceScale(0,Math.ceil(this.maxY),e.config.yaxis[0].tickAmount,0,!0),l=o.result.reverse(),c=o.result.length;this.maxY=o.niceMax;for(var h=e.globals.radialSize,u=h/(c-1),d=0;d<c-1;d++){var f=n.drawCircle(h);if(f.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":e.config.plotOptions.polarArea.rings.strokeWidth,stroke:e.config.plotOptions.polarArea.rings.strokeColor}),e.config.yaxis[0].show){var p=r.drawYAxisTexts(this.centerX,this.centerY-h+parseInt(e.config.yaxis[0].labels.style.fontSize,10)/2,d,l[d]);a.add(p)}s.add(f),h-=u}this.drawSpokes(t),t.add(s),t.add(a)}},{key:"renderInnerDataLabels",value:function(t,e){var i=this.w,n=new A(this.ctx),r=n.group({class:"apexcharts-datalabels-group",transform:"translate(".concat(e.translateX?e.translateX:0,", ").concat(e.translateY?e.translateY:0,") scale(").concat(i.config.plotOptions.pie.customScale,")")}),s=t.total.show;r.node.style.opacity=e.opacity;var a,o,l=e.centerX,c=e.centerY;a=void 0===t.name.color?i.globals.colors[0]:t.name.color;var h=t.name.fontSize,u=t.name.fontFamily,d=t.name.fontWeight;o=void 0===t.value.color?i.config.chart.foreColor:t.value.color;var f=t.value.formatter,p="",g="";if(s?(a=t.total.color,h=t.total.fontSize,u=t.total.fontFamily,d=t.total.fontWeight,g=t.total.label,p=t.total.formatter(i)):1===i.globals.series.length&&(p=f(i.globals.series[0],i),g=i.globals.seriesNames[0]),g&&(g=t.name.formatter(g,t.total.show,i)),t.name.show){var m=n.drawText({x:l,y:c+parseFloat(t.name.offsetY),text:g,textAnchor:"middle",foreColor:a,fontSize:h,fontWeight:d,fontFamily:u});m.node.classList.add("apexcharts-datalabel-label"),r.add(m)}if(t.value.show){var v=t.name.show?parseFloat(t.value.offsetY)+16:t.value.offsetY,y=n.drawText({x:l,y:c+v,text:p,textAnchor:"middle",foreColor:o,fontWeight:t.value.fontWeight,fontSize:t.value.fontSize,fontFamily:t.value.fontFamily});y.node.classList.add("apexcharts-datalabel-value"),r.add(y)}return r}},{key:"printInnerLabels",value:function(t,e,i,n){var r,s=this.w;n?r=void 0===t.name.color?s.globals.colors[parseInt(n.parentNode.getAttribute("rel"),10)-1]:t.name.color:s.globals.series.length>1&&t.total.show&&(r=t.total.color);var a=s.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),o=s.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");i=(0,t.value.formatter)(i,s),n||"function"!=typeof t.total.formatter||(i=t.total.formatter(s));var l=e===t.total.label;e=t.name.formatter(e,l,s),null!==a&&(a.textContent=e),null!==o&&(o.textContent=i),null!==a&&(a.style.fill=r)}},{key:"printDataLabelsInner",value:function(t,e){var i=this.w,n=t.getAttribute("data:value"),r=i.globals.seriesNames[parseInt(t.parentNode.getAttribute("rel"),10)-1];i.globals.series.length>1&&this.printInnerLabels(e,r,n,t);var s=i.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");null!==s&&(s.style.opacity=1)}},{key:"drawSpokes",value:function(t){var e=this,i=this.w,n=new A(this.ctx),r=i.config.plotOptions.polarArea.spokes;if(0!==r.strokeWidth){for(var s=[],a=360/i.globals.series.length,o=0;o<i.globals.series.length;o++)s.push(b.polarToCartesian(this.centerX,this.centerY,i.globals.radialSize,i.config.plotOptions.pie.startAngle+a*o));s.forEach((function(i,s){var a=n.drawLine(i.x,i.y,e.centerX,e.centerY,Array.isArray(r.connectorColors)?r.connectorColors[s]:r.connectorColors);t.add(a)}))}}},{key:"revertDataLabelsInner",value:function(t,e,i){var n=this,r=this.w,s=r.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group"),a=!1,o=r.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area"),l=function(t){var i=t.makeSliceOut,r=t.printLabel;Array.prototype.forEach.call(o,(function(t){"true"===t.getAttribute("data:pieClicked")&&(i&&(a=!0),r&&n.printDataLabelsInner(t,e))}))};if(l({makeSliceOut:!0,printLabel:!1}),e.total.show&&r.globals.series.length>1)a&&!e.total.showAlways?l({makeSliceOut:!1,printLabel:!0}):this.printInnerLabels(e,e.total.label,e.total.formatter(r));else if(l({makeSliceOut:!1,printLabel:!0}),!a)if(r.globals.selectedDataPoints.length&&r.globals.series.length>1)if(r.globals.selectedDataPoints[0].length>0){var c=r.globals.selectedDataPoints[0],h=r.globals.dom.baseEl.querySelector(".apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(c));this.printDataLabelsInner(h,e)}else s&&r.globals.selectedDataPoints.length&&0===r.globals.selectedDataPoints[0].length&&(s.style.opacity=0);else s&&r.globals.series.length>1&&(s.style.opacity=0)}}]),t}(),Pt=function(){function t(e){o(this,t),this.ctx=e,this.w=e.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var i=this.w;this.graphics=new A(this.ctx),this.lineColorArr=void 0!==i.globals.stroke.colors?i.globals.stroke.colors:i.globals.colors,this.defaultSize=i.globals.svgHeight<i.globals.svgWidth?i.globals.gridHeight+1.5*i.globals.goldenPadding:i.globals.gridWidth,this.isLog=i.config.yaxis[0].logarithmic,this.coreUtils=new E(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(i.globals.maxY,0):i.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.w.globals.minY,0):i.globals.minY,this.polygons=i.config.plotOptions.radar.polygons,this.strokeWidth=i.config.stroke.show?i.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-i.config.chart.dropShadow.blur,i.config.xaxis.labels.show&&(this.size=this.size-i.globals.xAxisLabelsWidth/1.75),void 0!==i.config.plotOptions.radar.size&&(this.size=i.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return c(t,[{key:"draw",value:function(t){var e=this,i=this.w,n=new R(this.ctx),r=[],a=new M(this.ctx);t.length&&(this.dataPointsLen=t[i.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var o=i.globals.gridWidth/2,l=i.globals.gridHeight/2,c=o+i.config.plotOptions.radar.offsetX,h=l+i.config.plotOptions.radar.offsetY,u=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(c||0,", ").concat(h||0,")")}),d=[],f=null,p=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),t.forEach((function(t,o){var l=t.length===i.globals.dataPoints,c=e.graphics.group().attr({class:"apexcharts-series","data:longestSeries":l,seriesName:b.escapeString(i.globals.seriesNames[o]),rel:o+1,"data:realIndex":o});e.dataRadiusOfPercent[o]=[],e.dataRadius[o]=[],e.angleArr[o]=[],t.forEach((function(t,i){var n=Math.abs(e.maxValue-e.minValue);t+=Math.abs(e.minValue),e.isLog&&(t=e.coreUtils.getLogVal(t,0)),e.dataRadiusOfPercent[o][i]=t/n,e.dataRadius[o][i]=e.dataRadiusOfPercent[o][i]*e.size,e.angleArr[o][i]=i*e.disAngle})),d=e.getDataPointsPos(e.dataRadius[o],e.angleArr[o]);var h=e.createPaths(d,{x:0,y:0});f=e.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),p=e.graphics.group({class:"apexcharts-datalabels","data:realIndex":o}),i.globals.delayedElements.push({el:f.node,index:o});var u={i:o,realIndex:o,animationDelay:o,initialSpeed:i.config.chart.animations.speed,dataChangeSpeed:i.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:i.globals.stroke.colors[o],strokeLineCap:i.config.stroke.lineCap},g=null;i.globals.previousPaths.length>0&&(g=e.getPreviousPath(o));for(var m=0;m<h.linePathsTo.length;m++){var v=e.graphics.renderPaths(s(s({},u),{},{pathFrom:null===g?h.linePathsFrom[m]:g,pathTo:h.linePathsTo[m],strokeWidth:Array.isArray(e.strokeWidth)?e.strokeWidth[o]:e.strokeWidth,fill:"none",drawShadow:!1}));c.add(v);var y=n.fillPath({seriesNumber:o}),x=e.graphics.renderPaths(s(s({},u),{},{pathFrom:null===g?h.areaPathsFrom[m]:g,pathTo:h.areaPathsTo[m],strokeWidth:0,fill:y,drawShadow:!1}));if(i.config.chart.dropShadow.enabled){var w=new k(e.ctx),A=i.config.chart.dropShadow;w.dropShadow(x,Object.assign({},A,{noUserSpaceOnUse:!0}),o)}c.add(x)}t.forEach((function(t,n){var r=new O(e.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:o,dataPointIndex:n}),l=e.graphics.drawMarker(d[n].x,d[n].y,r);l.attr("rel",n),l.attr("j",n),l.attr("index",o),l.node.setAttribute("default-marker-size",r.pSize);var h=e.graphics.group({class:"apexcharts-series-markers"});h&&h.add(l),f.add(h),c.add(f);var u=i.config.dataLabels;if(u.enabled){var g=u.formatter(i.globals.series[o][n],{seriesIndex:o,dataPointIndex:n,w:i});a.plotDataLabelsText({x:d[n].x,y:d[n].y,text:g,textAnchor:"middle",i:o,j:o,parent:p,offsetCorrection:!1,dataLabelsConfig:s({},u)})}c.add(p)})),r.push(c)})),this.drawPolygons({parent:u}),i.config.xaxis.labels.show){var g=this.drawXAxisTexts();u.add(g)}return r.forEach((function(t){u.add(t)})),u.add(this.yaxisLabels),u}},{key:"drawPolygons",value:function(t){for(var e=this,i=this.w,n=t.parent,r=new Tt(this.ctx),s=i.globals.yAxisScale[0].result.reverse(),a=s.length,o=[],l=this.size/(a-1),c=0;c<a;c++)o[c]=l*c;o.reverse();var h=[],u=[];o.forEach((function(t,i){var n=b.getPolygonPos(t,e.dataPointsLen),r="";n.forEach((function(t,n){if(0===i){var s=e.graphics.drawLine(t.x,t.y,0,0,Array.isArray(e.polygons.connectorColors)?e.polygons.connectorColors[n]:e.polygons.connectorColors);u.push(s)}0===n&&e.yaxisLabelsTextsPos.push({x:t.x,y:t.y}),r+=t.x+","+t.y+" "})),h.push(r)})),h.forEach((function(t,r){var s=e.polygons.strokeColors,a=e.polygons.strokeWidth,o=e.graphics.drawPolygon(t,Array.isArray(s)?s[r]:s,Array.isArray(a)?a[r]:a,i.globals.radarPolygons.fill.colors[r]);n.add(o)})),u.forEach((function(t){n.add(t)})),i.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach((function(t,i){var n=r.drawYAxisTexts(t.x,t.y,i,s[i]);e.yaxisLabels.add(n)}))}},{key:"drawXAxisTexts",value:function(){var t=this,e=this.w,i=e.config.xaxis.labels,n=this.graphics.group({class:"apexcharts-xaxis"}),r=b.getPolygonPos(this.size,this.dataPointsLen);return e.globals.labels.forEach((function(a,o){var l=e.config.xaxis.labels.formatter,c=new M(t.ctx);if(r[o]){var h=t.getTextPos(r[o],t.size),u=l(a,{seriesIndex:-1,dataPointIndex:o,w:e});c.plotDataLabelsText({x:h.newX,y:h.newY,text:u,textAnchor:h.textAnchor,i:o,j:o,parent:n,color:Array.isArray(i.style.colors)&&i.style.colors[o]?i.style.colors[o]:"#a8a8a8",dataLabelsConfig:s({textAnchor:h.textAnchor,dropShadow:{enabled:!1}},i),offsetCorrection:!1})}})),n}},{key:"createPaths",value:function(t,e){var i=this,n=[],r=[],s=[],a=[];if(t.length){r=[this.graphics.move(e.x,e.y)],a=[this.graphics.move(e.x,e.y)];var o=this.graphics.move(t[0].x,t[0].y),l=this.graphics.move(t[0].x,t[0].y);t.forEach((function(e,n){o+=i.graphics.line(e.x,e.y),l+=i.graphics.line(e.x,e.y),n===t.length-1&&(o+="Z",l+="Z")})),n.push(o),s.push(l)}return{linePathsFrom:r,linePathsTo:n,areaPathsFrom:a,areaPathsTo:s}}},{key:"getTextPos",value:function(t,e){var i="middle",n=t.x,r=t.y;return Math.abs(t.x)>=10?t.x>0?(i="start",n+=10):t.x<0&&(i="end",n-=10):i="middle",Math.abs(t.y)>=e-10&&(t.y<0?r-=10:t.y>0&&(r+=10)),{textAnchor:i,newX:n,newY:r}}},{key:"getPreviousPath",value:function(t){for(var e=this.w,i=null,n=0;n<e.globals.previousPaths.length;n++){var r=e.globals.previousPaths[n];r.paths.length>0&&parseInt(r.realIndex,10)===parseInt(t,10)&&void 0!==e.globals.previousPaths[n].paths[0]&&(i=e.globals.previousPaths[n].paths[0].d)}return i}},{key:"getDataPointsPos",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.dataPointsLen;t=t||[],e=e||[];for(var n=[],r=0;r<i;r++){var s={};s.x=t[r]*Math.sin(e[r]),s.y=-t[r]*Math.cos(e[r]),n.push(s)}return n}}]),t}(),Lt=function(t){u(i,_t);var e=g(i);function i(t){var n;o(this,i),(n=e.call(this,t)).ctx=t,n.w=t.w,n.animBeginArr=[0],n.animDur=0;var r=n.w;return n.startAngle=r.config.plotOptions.radialBar.startAngle,n.endAngle=r.config.plotOptions.radialBar.endAngle,n.totalAngle=Math.abs(r.config.plotOptions.radialBar.endAngle-r.config.plotOptions.radialBar.startAngle),n.trackStartAngle=r.config.plotOptions.radialBar.track.startAngle,n.trackEndAngle=r.config.plotOptions.radialBar.track.endAngle,n.donutDataLabels=n.w.config.plotOptions.radialBar.dataLabels,n.radialDataLabels=n.donutDataLabels,n.trackStartAngle||(n.trackStartAngle=n.startAngle),n.trackEndAngle||(n.trackEndAngle=n.endAngle),360===n.endAngle&&(n.endAngle=359.99),n.margin=parseInt(r.config.plotOptions.radialBar.track.margin,10),n}return c(i,[{key:"draw",value:function(t){var e=this.w,i=new A(this.ctx),n=i.group({class:"apexcharts-radialbar"});if(e.globals.noData)return n;var r=i.group(),s=this.defaultSize/2,a=e.globals.gridWidth/2,o=this.defaultSize/2.05;e.config.chart.sparkline.enabled||(o=o-e.config.stroke.width-e.config.chart.dropShadow.blur);var l=e.globals.fill.colors;if(e.config.plotOptions.radialBar.track.show){var c=this.drawTracks({size:o,centerX:a,centerY:s,colorArr:l,series:t});r.add(c)}var h=this.drawArcs({size:o,centerX:a,centerY:s,colorArr:l,series:t}),u=360;e.config.plotOptions.radialBar.startAngle<0&&(u=this.totalAngle);var d=(360-u)/360;if(e.globals.radialSize=o-o*d,this.radialDataLabels.value.show){var f=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);e.globals.radialSize+=f*d}return r.add(h.g),"front"===e.config.plotOptions.radialBar.hollow.position&&(h.g.add(h.elHollow),h.dataLabels&&h.g.add(h.dataLabels)),n.add(r),n}},{key:"drawTracks",value:function(t){var e=this.w,i=new A(this.ctx),n=i.group({class:"apexcharts-tracks"}),r=new k(this.ctx),s=new R(this.ctx),a=this.getStrokeWidth(t);t.size=t.size-a/2;for(var o=0;o<t.series.length;o++){var l=i.group({class:"apexcharts-radialbar-track apexcharts-track"});n.add(l),l.attr({rel:o+1}),t.size=t.size-a-this.margin;var c=e.config.plotOptions.radialBar.track,h=s.fillPath({seriesNumber:0,size:t.size,fillColors:Array.isArray(c.background)?c.background[o]:c.background,solid:!0}),u=this.trackStartAngle,d=this.trackEndAngle;Math.abs(d)+Math.abs(u)>=360&&(d=360-Math.abs(this.startAngle)-.1);var f=i.drawPath({d:"",stroke:h,strokeWidth:a*parseInt(c.strokeWidth,10)/100,fill:"none",strokeOpacity:c.opacity,classes:"apexcharts-radialbar-area"});if(c.dropShadow.enabled){var p=c.dropShadow;r.dropShadow(f,p)}l.add(f),f.attr("id","apexcharts-radialbarTrack-"+o),this.animatePaths(f,{centerX:t.centerX,centerY:t.centerY,endAngle:d,startAngle:u,size:t.size,i:o,totalItems:2,animBeginArr:0,dur:0,isTrack:!0,easing:e.globals.easing})}return n}},{key:"drawArcs",value:function(t){var e=this.w,i=new A(this.ctx),n=new R(this.ctx),r=new k(this.ctx),s=i.group(),a=this.getStrokeWidth(t);t.size=t.size-a/2;var o=e.config.plotOptions.radialBar.hollow.background,l=t.size-a*t.series.length-this.margin*t.series.length-a*parseInt(e.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,c=l-e.config.plotOptions.radialBar.hollow.margin;void 0!==e.config.plotOptions.radialBar.hollow.image&&(o=this.drawHollowImage(t,s,l,o));var h=this.drawHollow({size:c,centerX:t.centerX,centerY:t.centerY,fill:o||"transparent"});if(e.config.plotOptions.radialBar.hollow.dropShadow.enabled){var u=e.config.plotOptions.radialBar.hollow.dropShadow;r.dropShadow(h,u)}var d=1;!this.radialDataLabels.total.show&&e.globals.series.length>1&&(d=0);var f=null;this.radialDataLabels.show&&(f=this.renderInnerDataLabels(this.radialDataLabels,{hollowSize:l,centerX:t.centerX,centerY:t.centerY,opacity:d})),"back"===e.config.plotOptions.radialBar.hollow.position&&(s.add(h),f&&s.add(f));var p=!1;e.config.plotOptions.radialBar.inverseOrder&&(p=!0);for(var g=p?t.series.length-1:0;p?g>=0:g<t.series.length;p?g--:g++){var m=i.group({class:"apexcharts-series apexcharts-radial-series",seriesName:b.escapeString(e.globals.seriesNames[g])});s.add(m),m.attr({rel:g+1,"data:realIndex":g}),this.ctx.series.addCollapsedClassToSeries(m,g),t.size=t.size-a-this.margin;var v=n.fillPath({seriesNumber:g,size:t.size,value:t.series[g]}),y=this.startAngle,x=void 0,w=b.negToZero(t.series[g]>100?100:t.series[g])/100,S=Math.round(this.totalAngle*w)+this.startAngle,C=void 0;e.globals.dataChanged&&(x=this.startAngle,C=Math.round(this.totalAngle*b.negToZero(e.globals.previousPaths[g])/100)+x),Math.abs(S)+Math.abs(y)>=360&&(S-=.01),Math.abs(C)+Math.abs(x)>=360&&(C-=.01);var E=S-y,I=Array.isArray(e.config.stroke.dashArray)?e.config.stroke.dashArray[g]:e.config.stroke.dashArray,T=i.drawPath({d:"",stroke:v,strokeWidth:a,fill:"none",fillOpacity:e.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+g,strokeDashArray:I});if(A.setAttrs(T.node,{"data:angle":E,"data:value":t.series[g]}),e.config.chart.dropShadow.enabled){var _=e.config.chart.dropShadow;r.dropShadow(T,_,g)}r.setSelectionFilter(T,0,g),this.addListeners(T,this.radialDataLabels),m.add(T),T.attr({index:0,j:g});var P=0;!this.initialAnim||e.globals.resized||e.globals.dataChanged||(P=e.config.chart.animations.speed),e.globals.dataChanged&&(P=e.config.chart.animations.dynamicAnimation.speed),this.animDur=P/(1.2*t.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(T,{centerX:t.centerX,centerY:t.centerY,endAngle:S,startAngle:y,prevEndAngle:C,prevStartAngle:x,size:t.size,i:g,totalItems:2,animBeginArr:this.animBeginArr,dur:P,shouldSetPrevPaths:!0,easing:e.globals.easing})}return{g:s,elHollow:h,dataLabels:f}}},{key:"drawHollow",value:function(t){var e=new A(this.ctx).drawCircle(2*t.size);return e.attr({class:"apexcharts-radialbar-hollow",cx:t.centerX,cy:t.centerY,r:t.size,fill:t.fill}),e}},{key:"drawHollowImage",value:function(t,e,i,n){var r=this.w,s=new R(this.ctx),a=b.randomId(),o=r.config.plotOptions.radialBar.hollow.image;if(r.config.plotOptions.radialBar.hollow.imageClipped)s.clippedImgArea({width:i,height:i,image:o,patternID:"pattern".concat(r.globals.cuid).concat(a)}),n="url(#pattern".concat(r.globals.cuid).concat(a,")");else{var l=r.config.plotOptions.radialBar.hollow.imageWidth,c=r.config.plotOptions.radialBar.hollow.imageHeight;if(void 0===l&&void 0===c){var h=r.globals.dom.Paper.image(o).loaded((function(e){this.move(t.centerX-e.width/2+r.config.plotOptions.radialBar.hollow.imageOffsetX,t.centerY-e.height/2+r.config.plotOptions.radialBar.hollow.imageOffsetY)}));e.add(h)}else{var u=r.globals.dom.Paper.image(o).loaded((function(e){this.move(t.centerX-l/2+r.config.plotOptions.radialBar.hollow.imageOffsetX,t.centerY-c/2+r.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(l,c)}));e.add(u)}}return n}},{key:"getStrokeWidth",value:function(t){var e=this.w;return t.size*(100-parseInt(e.config.plotOptions.radialBar.hollow.size,10))/100/(t.series.length+1)-this.margin}}]),i}(),Rt=function(){function t(e){o(this,t),this.w=e.w,this.lineCtx=e}return c(t,[{key:"sameValueSeriesFix",value:function(t,e){var i=this.w;if("line"===i.config.chart.type&&("gradient"===i.config.fill.type||"gradient"===i.config.fill.type[t])&&new E(this.lineCtx.ctx,i).seriesHaveSameValues(t)){var n=e[t].slice();n[n.length-1]=n[n.length-1]+1e-6,e[t]=n}return e}},{key:"calculatePoints",value:function(t){var e=t.series,i=t.realIndex,n=t.x,r=t.y,s=t.i,a=t.j,o=t.prevY,l=this.w,c=[],h=[];if(0===a){var u=this.lineCtx.categoryAxisCorrection+l.config.markers.offsetX;l.globals.isXNumeric&&(u=(l.globals.seriesX[i][0]-l.globals.minX)/this.lineCtx.xRatio+l.config.markers.offsetX),c.push(u),h.push(b.isNumber(e[s][0])?o+l.config.markers.offsetY:null),c.push(n+l.config.markers.offsetX),h.push(b.isNumber(e[s][a+1])?r+l.config.markers.offsetY:null)}else c.push(n+l.config.markers.offsetX),h.push(b.isNumber(e[s][a+1])?r+l.config.markers.offsetY:null);return{x:c,y:h}}},{key:"checkPreviousPaths",value:function(t){for(var e=t.pathFromLine,i=t.pathFromArea,n=t.realIndex,r=this.w,s=0;s<r.globals.previousPaths.length;s++){var a=r.globals.previousPaths[s];("line"===a.type||"area"===a.type)&&a.paths.length>0&&parseInt(a.realIndex,10)===parseInt(n,10)&&("line"===a.type?(this.lineCtx.appendPathFrom=!1,e=r.globals.previousPaths[s].paths[0].d):"area"===a.type&&(this.lineCtx.appendPathFrom=!1,i=r.globals.previousPaths[s].paths[0].d,r.config.stroke.show&&r.globals.previousPaths[s].paths[1]&&(e=r.globals.previousPaths[s].paths[1].d)))}return{pathFromLine:e,pathFromArea:i}}},{key:"determineFirstPrevY",value:function(t){var e=t.i,i=t.series,n=t.prevY,r=t.lineYPosition,s=this.w;if(void 0!==i[e][0])n=(r=s.config.chart.stacked&&e>0?this.lineCtx.prevSeriesY[e-1][0]:this.lineCtx.zeroY)-i[e][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]+2*(this.lineCtx.isReversed?i[e][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]:0);else if(s.config.chart.stacked&&e>0&&void 0===i[e][0])for(var a=e-1;a>=0;a--)if(null!==i[a][0]&&void 0!==i[a][0]){n=r=this.lineCtx.prevSeriesY[a][0];break}return{prevY:n,lineYPosition:r}}}]),t}(),Ot=function(){function t(e,i,n){o(this,t),this.ctx=e,this.w=e.w,this.xyRatios=i,this.pointsChart=!("bubble"!==this.w.config.chart.type&&"scatter"!==this.w.config.chart.type)||n,this.scatter=new N(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new Rt(this),this.markers=new O(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return c(t,[{key:"draw",value:function(t,e,i){var n=this.w,r=new A(this.ctx),s=n.globals.comboCharts?e:n.config.chart.type,a=r.group({class:"apexcharts-".concat(s,"-series apexcharts-plot-series")}),o=new E(this.ctx,n);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,t=o.getLogSeries(t),this.yRatio=o.getLogYRatios(this.yRatio);for(var l=[],c=0;c<t.length;c++){t=this.lineHelpers.sameValueSeriesFix(c,t);var h=n.globals.comboCharts?i[c]:c;this._initSerieVariables(t,c,h);var u=[],d=[],f=n.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,h),n.globals.isXNumeric&&n.globals.seriesX.length>0&&(f=(n.globals.seriesX[h][0]-n.globals.minX)/this.xRatio),d.push(f);var p,g=f,m=g,v=this.zeroY;v=this.lineHelpers.determineFirstPrevY({i:c,series:t,prevY:v,lineYPosition:0}).prevY,u.push(v),p=v;var y=this._calculatePathsFrom({series:t,i:c,realIndex:h,prevX:m,prevY:v}),x=this._iterateOverDataPoints({series:t,realIndex:h,i:c,x:f,y:1,pX:g,pY:p,pathsFrom:y,linePaths:[],areaPaths:[],seriesIndex:i,lineYPosition:0,xArrj:d,yArrj:u});this._handlePaths({type:s,realIndex:h,i:c,paths:x}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),l.push(this.elSeries)}if(n.config.chart.stacked)for(var b=l.length;b>0;b--)a.add(l[b-1]);else for(var w=0;w<l.length;w++)a.add(l[w]);return a}},{key:"_initSerieVariables",value:function(t,e,i){var n=this.w,r=new A(this.ctx);this.xDivision=n.globals.gridWidth/(n.globals.dataPoints-("on"===n.config.xaxis.tickPlacement?1:0)),this.strokeWidth=Array.isArray(n.config.stroke.width)?n.config.stroke.width[i]:n.config.stroke.width,this.yRatio.length>1&&(this.yaxisIndex=i),this.isReversed=n.config.yaxis[this.yaxisIndex]&&n.config.yaxis[this.yaxisIndex].reversed,this.zeroY=n.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?n.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),this.areaBottomY=this.zeroY,(this.zeroY>n.globals.gridHeight||"end"===n.config.plotOptions.area.fillTo)&&(this.areaBottomY=n.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=r.group({class:"apexcharts-series",seriesName:b.escapeString(n.globals.seriesNames[i])}),this.elPointsMain=r.group({class:"apexcharts-series-markers-wrap","data:realIndex":i}),this.elDataLabelsWrap=r.group({class:"apexcharts-datalabels","data:realIndex":i});var s=t[e].length===n.globals.dataPoints;this.elSeries.attr({"data:longestSeries":s,rel:e+1,"data:realIndex":i}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(t){var e,i,n,r,s=t.series,a=t.i,o=t.realIndex,l=t.prevX,c=t.prevY,h=this.w,u=new A(this.ctx);if(null===s[a][0]){for(var d=0;d<s[a].length;d++)if(null!==s[a][d]){l=this.xDivision*d,c=this.zeroY-s[a][d]/this.yRatio[this.yaxisIndex],e=u.move(l,c),i=u.move(l,this.areaBottomY);break}}else e=u.move(l,c),i=u.move(l,this.areaBottomY)+u.line(l,c);if(n=u.move(-1,this.zeroY)+u.line(-1,this.zeroY),r=u.move(-1,this.zeroY)+u.line(-1,this.zeroY),h.globals.previousPaths.length>0){var f=this.lineHelpers.checkPreviousPaths({pathFromLine:n,pathFromArea:r,realIndex:o});n=f.pathFromLine,r=f.pathFromArea}return{prevX:l,prevY:c,linePath:e,areaPath:i,pathFromLine:n,pathFromArea:r}}},{key:"_handlePaths",value:function(t){var e=t.type,i=t.realIndex,n=t.i,r=t.paths,a=this.w,o=new A(this.ctx),l=new R(this.ctx);this.prevSeriesY.push(r.yArrj),a.globals.seriesXvalues[i]=r.xArrj,a.globals.seriesYvalues[i]=r.yArrj;var c=a.config.forecastDataPoints;if(c.count>0){var h=a.globals.seriesXvalues[i][a.globals.seriesXvalues[i].length-c.count-1],u=o.drawRect(h,0,a.globals.gridWidth,a.globals.gridHeight,0);a.globals.dom.elForecastMask.appendChild(u.node);var d=o.drawRect(0,0,h,a.globals.gridHeight,0);a.globals.dom.elNonForecastMask.appendChild(d.node)}this.pointsChart||a.globals.delayedElements.push({el:this.elPointsMain.node,index:i});var f={i:n,realIndex:i,animationDelay:n,initialSpeed:a.config.chart.animations.speed,dataChangeSpeed:a.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(e)};if("area"===e)for(var p=l.fillPath({seriesNumber:i}),g=0;g<r.areaPaths.length;g++){var m=o.renderPaths(s(s({},f),{},{pathFrom:r.pathFromArea,pathTo:r.areaPaths[g],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:p}));this.elSeries.add(m)}if(a.config.stroke.show&&!this.pointsChart){var v=null;v="line"===e?l.fillPath({seriesNumber:i,i:n}):a.globals.stroke.colors[i];for(var y=0;y<r.linePaths.length;y++){var x=s(s({},f),{},{pathFrom:r.pathFromLine,pathTo:r.linePaths[y],stroke:v,strokeWidth:this.strokeWidth,strokeLineCap:a.config.stroke.lineCap,fill:"none"}),b=o.renderPaths(x);if(this.elSeries.add(b),c.count>0){var w=o.renderPaths(x);w.node.setAttribute("stroke-dasharray",c.dashArray),c.strokeWidth&&w.node.setAttribute("stroke-width",c.strokeWidth),this.elSeries.add(w),w.attr("clip-path","url(#forecastMask".concat(a.globals.cuid,")")),b.attr("clip-path","url(#nonForecastMask".concat(a.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(t){for(var e=t.series,i=t.realIndex,n=t.i,r=t.x,s=t.y,a=t.pX,o=t.pY,l=t.pathsFrom,c=t.linePaths,h=t.areaPaths,u=t.seriesIndex,d=t.lineYPosition,f=t.xArrj,p=t.yArrj,g=this.w,m=new A(this.ctx),v=this.yRatio,y=l.prevY,x=l.linePath,w=l.areaPath,k=l.pathFromLine,S=l.pathFromArea,C=b.isNumber(g.globals.minYArr[i])?g.globals.minYArr[i]:g.globals.minY,E=g.globals.dataPoints>1?g.globals.dataPoints-1:g.globals.dataPoints,I=0;I<E;I++){var T=void 0===e[n][I+1]||null===e[n][I+1];if(g.globals.isXNumeric){var _=g.globals.seriesX[i][I+1];void 0===g.globals.seriesX[i][I+1]&&(_=g.globals.seriesX[i][E-1]),r=(_-g.globals.minX)/this.xRatio}else r+=this.xDivision;d=g.config.chart.stacked&&n>0&&g.globals.collapsedSeries.length<g.config.series.length-1?this.prevSeriesY[function(t){for(var e=t,i=0;i<g.globals.series.length;i++)if(g.globals.collapsedSeriesIndices.indexOf(t)>-1){e--;break}return e>=0?e:0}(n-1)][I+1]:this.zeroY,s=T?d-C/v[this.yaxisIndex]+2*(this.isReversed?C/v[this.yaxisIndex]:0):d-e[n][I+1]/v[this.yaxisIndex]+2*(this.isReversed?e[n][I+1]/v[this.yaxisIndex]:0),f.push(r),p.push(s);var P=this.lineHelpers.calculatePoints({series:e,x:r,y:s,realIndex:i,i:n,j:I,prevY:y}),L=this._createPaths({series:e,i:n,realIndex:i,j:I,x:r,y:s,pX:a,pY:o,linePath:x,areaPath:w,linePaths:c,areaPaths:h,seriesIndex:u});h=L.areaPaths,c=L.linePaths,a=L.pX,o=L.pY,w=L.areaPath,x=L.linePath,this.appendPathFrom&&(k+=m.line(r,this.zeroY),S+=m.line(r,this.zeroY)),this.handleNullDataPoints(e,P,n,I,i),this._handleMarkersAndLabels({pointsPos:P,series:e,x:r,y:s,prevY:y,i:n,j:I,realIndex:i})}return{yArrj:p,xArrj:f,pathFromArea:S,areaPaths:h,pathFromLine:k,linePaths:c}}},{key:"_handleMarkersAndLabels",value:function(t){var e=t.pointsPos;t.series,t.x,t.y,t.prevY;var i=t.i,n=t.j,r=t.realIndex,s=this.w,a=new M(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,n,{realIndex:r,pointsPos:e,zRatio:this.zRatio,elParent:this.elPointsMain});else{s.globals.series[i].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var o=this.markers.plotChartMarkers(e,r,n+1);null!==o&&this.elPointsMain.add(o)}var l=a.drawDataLabel(e,r,n+1,null);null!==l&&this.elDataLabelsWrap.add(l)}},{key:"_createPaths",value:function(t){var e=t.series,i=t.i,n=t.realIndex,r=t.j,s=t.x,a=t.y,o=t.pX,l=t.pY,c=t.linePath,h=t.areaPath,u=t.linePaths,d=t.areaPaths,f=t.seriesIndex,p=this.w,g=new A(this.ctx),m=p.config.stroke.curve,v=this.areaBottomY;if(Array.isArray(p.config.stroke.curve)&&(m=Array.isArray(f)?p.config.stroke.curve[f[i]]:p.config.stroke.curve[i]),"smooth"===m){var y=.35*(s-o);p.globals.hasNullValues?(null!==e[i][r]&&(null!==e[i][r+1]?(c=g.move(o,l)+g.curve(o+y,l,s-y,a,s+1,a),h=g.move(o+1,l)+g.curve(o+y,l,s-y,a,s+1,a)+g.line(s,v)+g.line(o,v)+"z"):(c=g.move(o,l),h=g.move(o,l)+"z")),u.push(c),d.push(h)):(c+=g.curve(o+y,l,s-y,a,s,a),h+=g.curve(o+y,l,s-y,a,s,a)),o=s,l=a,r===e[i].length-2&&(h=h+g.curve(o,l,s,a,s,v)+g.move(s,a)+"z",p.globals.hasNullValues||(u.push(c),d.push(h)))}else{if(null===e[i][r+1]){c+=g.move(s,a);var x=p.globals.isXNumeric?(p.globals.seriesX[n][r]-p.globals.minX)/this.xRatio:s-this.xDivision;h=h+g.line(x,v)+g.move(s,a)+"z"}null===e[i][r]&&(c+=g.move(s,a),h+=g.move(s,v)),"stepline"===m?(c=c+g.line(s,null,"H")+g.line(null,a,"V"),h=h+g.line(s,null,"H")+g.line(null,a,"V")):"straight"===m&&(c+=g.line(s,a),h+=g.line(s,a)),r===e[i].length-2&&(h=h+g.line(s,v)+g.move(s,a)+"z",u.push(c),d.push(h))}return{linePaths:u,areaPaths:d,pX:o,pY:l,linePath:c,areaPath:h}}},{key:"handleNullDataPoints",value:function(t,e,i,n,r){var s=this.w;if(null===t[i][n]&&s.config.markers.showNullDataPoints||1===t[i].length){var a=this.markers.plotChartMarkers(e,r,n+1,this.strokeWidth-s.config.markers.strokeWidth/2,!0);null!==a&&this.elPointsMain.add(a)}}}]),t}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function t(e,i,n,r){this.xoffset=e,this.yoffset=i,this.height=r,this.width=n,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(t){var e,i=[],n=this.xoffset,r=this.yoffset,a=s(t)/this.height,o=s(t)/this.width;if(this.width>=this.height)for(e=0;e<t.length;e++)i.push([n,r,n+a,r+t[e]/a]),r+=t[e]/a;else for(e=0;e<t.length;e++)i.push([n,r,n+t[e]/o,r+o]),n+=t[e]/o;return i},this.cutArea=function(e){var i;if(this.width>=this.height){var n=e/this.height,r=this.width-n;i=new t(this.xoffset+n,this.yoffset,r,this.height)}else{var s=e/this.width,a=this.height-s;i=new t(this.xoffset,this.yoffset+s,this.width,a)}return i}}function e(e,n,r,a,o){return a=void 0===a?0:a,o=void 0===o?0:o,function(t){var e,i,n=[];for(e=0;e<t.length;e++)for(i=0;i<t[e].length;i++)n.push(t[e][i]);return n}(i(function(t,e){var i,n=[],r=e/s(t);for(i=0;i<t.length;i++)n[i]=t[i]*r;return n}(e,n*r),[],new t(a,o,n,r),[]))}function i(t,e,r,a){var o,l,c;if(0!==t.length)return o=r.shortestEdge(),function(t,e,i){var r;if(0===t.length)return!0;(r=t.slice()).push(e);var s=n(t,i),a=n(r,i);return s>=a}(e,l=t[0],o)?(e.push(l),i(t.slice(1),e,r,a)):(c=r.cutArea(s(e),a),a.push(r.getCoordinates(e)),i(t,[],c,a)),a;a.push(r.getCoordinates(e))}function n(t,e){var i=Math.min.apply(Math,t),n=Math.max.apply(Math,t),r=s(t);return Math.max(Math.pow(e,2)*n/Math.pow(r,2),Math.pow(r,2)/(Math.pow(e,2)*i))}function r(t){return t&&t.constructor===Array}function s(t){var e,i=0;for(e=0;e<t.length;e++)i+=t[e];return i}function a(t){var e,i=0;if(r(t[0]))for(e=0;e<t.length;e++)i+=a(t[e]);else i=s(t);return i}return function t(i,n,s,o,l){o=void 0===o?0:o,l=void 0===l?0:l;var c,h,u=[],d=[];if(r(i[0])){for(h=0;h<i.length;h++)u[h]=a(i[h]);for(c=e(u,n,s,o,l),h=0;h<i.length;h++)d.push(t(i[h],c[h][2]-c[h][0],c[h][3]-c[h][1],c[h][0],c[h][1]))}else d=e(i,n,s,o,l);return d}}();var Nt,Mt,Dt=function(){function t(e,i){o(this,t),this.ctx=e,this.w=e.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new Et(e),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return c(t,[{key:"draw",value:function(t){var e=this,i=this.w,n=new A(this.ctx),r=new R(this.ctx),s=n.group({class:"apexcharts-treemap"});if(i.globals.noData)return s;var a=[];return t.forEach((function(t){var e=t.map((function(t){return Math.abs(t)}));a.push(e)})),this.negRange=this.helpers.checkColorRange(),i.config.series.forEach((function(t,i){t.data.forEach((function(t){Array.isArray(e.labels[i])||(e.labels[i]=[]),e.labels[i].push(t.x)}))})),window.TreemapSquared.generate(a,i.globals.gridWidth,i.globals.gridHeight).forEach((function(a,o){var l=n.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:b.escapeString(i.globals.seriesNames[o]),rel:o+1,"data:realIndex":o});if(i.config.chart.dropShadow.enabled){var c=i.config.chart.dropShadow;new k(e.ctx).dropShadow(s,c,o)}var h=n.group({class:"apexcharts-data-labels"});a.forEach((function(s,a){var c=s[0],h=s[1],u=s[2],d=s[3],f=n.drawRect(c,h,u-c,d-h,0,"#fff",1,e.strokeWidth,i.config.plotOptions.treemap.useFillColorAsStroke?g:i.globals.stroke.colors[o]);f.attr({cx:c,cy:h,index:o,i:o,j:a,width:u-c,height:d-h});var p=e.helpers.getShadeColor(i.config.chart.type,o,a,e.negRange),g=p.color;void 0!==i.config.series[o].data[a]&&i.config.series[o].data[a].fillColor&&(g=i.config.series[o].data[a].fillColor);var m=r.fillPath({color:g,seriesNumber:o,dataPointIndex:a});f.node.classList.add("apexcharts-treemap-rect"),f.attr({fill:m}),e.helpers.addListeners(f);var v={x:c+(u-c)/2,y:h+(d-h)/2,width:0,height:0},y={x:c,y:h,width:u-c,height:d-h};if(i.config.chart.animations.enabled&&!i.globals.dataChanged){var x=1;i.globals.resized||(x=i.config.chart.animations.speed),e.animateTreemap(f,v,y,x)}if(i.globals.dataChanged){var b=1;e.dynamicAnim.enabled&&i.globals.shouldAnimate&&(b=e.dynamicAnim.speed,i.globals.previousPaths[o]&&i.globals.previousPaths[o][a]&&i.globals.previousPaths[o][a].rect&&(v=i.globals.previousPaths[o][a].rect),e.animateTreemap(f,v,y,b))}var w=e.getFontSize(s),k=i.config.dataLabels.formatter(e.labels[o][a],{value:i.globals.series[o][a],seriesIndex:o,dataPointIndex:a,w:i}),A=e.helpers.calculateDataLabels({text:k,x:(c+u)/2,y:(h+d)/2+e.strokeWidth/2+w/3,i:o,j:a,colorProps:p,fontSize:w,series:t});i.config.dataLabels.enabled&&A&&e.rotateToFitLabel(A,k,c,h,u,d),l.add(f),null!==A&&l.add(A)})),l.add(h),s.add(l)})),s}},{key:"getFontSize",value:function(t){var e,i,n,r,s=this.w,a=function t(e){var i,n=0;if(Array.isArray(e[0]))for(i=0;i<e.length;i++)n+=t(e[i]);else for(i=0;i<e.length;i++)n+=e[i].length;return n}(this.labels)/function t(e){var i,n=0;if(Array.isArray(e[0]))for(i=0;i<e.length;i++)n+=t(e[i]);else for(i=0;i<e.length;i++)n+=1;return n}(this.labels);return e=t[2]-t[0],i=t[3]-t[1],n=e*i,r=Math.pow(n,.5),Math.min(r/a,parseInt(s.config.dataLabels.style.fontSize,10))}},{key:"rotateToFitLabel",value:function(t,e,i,n,r,s){var a=new A(this.ctx),o=a.getTextRects(e);if(o.width+5>r-i&&o.width<=s-n){var l=a.rotateAroundCenter(t.node);t.node.setAttribute("transform","rotate(-90 ".concat(l.x," ").concat(l.y,")"))}}},{key:"animateTreemap",value:function(t,e,i,n){var r=new w(this.ctx);r.animateRect(t,{x:e.x,y:e.y,width:e.width,height:e.height},{x:i.x,y:i.y,width:i.width,height:i.height},n,(function(){r.animationCompleted(t)}))}}]),t}(),Ft=function(){function t(e){o(this,t),this.ctx=e,this.w=e.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return c(t,[{key:"calculateTimeScaleTicks",value:function(t,e){var i=this,n=this.w;if(n.globals.allSeriesCollapsed)return n.globals.labels=[],n.globals.timescaleLabels=[],[];var r=new H(this.ctx),a=(e-t)/864e5;this.determineInterval(a),n.globals.disableZoomIn=!1,n.globals.disableZoomOut=!1,a<.00011574074074074075?n.globals.disableZoomIn=!0:a>5e4&&(n.globals.disableZoomOut=!0);var o=r.getTimeUnitsfromTimestamp(t,e,this.utc),l=n.globals.gridWidth/a,c=l/24,h=c/60,u=h/60,d=Math.floor(24*a),f=Math.floor(1440*a),p=Math.floor(86400*a),g=Math.floor(a),m=Math.floor(a/30),v=Math.floor(a/365),y={minMillisecond:o.minMillisecond,minSecond:o.minSecond,minMinute:o.minMinute,minHour:o.minHour,minDate:o.minDate,minMonth:o.minMonth,minYear:o.minYear},x={firstVal:y,currentMillisecond:y.minMillisecond,currentSecond:y.minSecond,currentMinute:y.minMinute,currentHour:y.minHour,currentMonthDate:y.minDate,currentDate:y.minDate,currentMonth:y.minMonth,currentYear:y.minYear,daysWidthOnXAxis:l,hoursWidthOnXAxis:c,minutesWidthOnXAxis:h,secondsWidthOnXAxis:u,numberOfSeconds:p,numberOfMinutes:f,numberOfHours:d,numberOfDays:g,numberOfMonths:m,numberOfYears:v};switch(this.tickInterval){case"years":this.generateYearScale(x);break;case"months":case"half_year":this.generateMonthScale(x);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(x);break;case"hours":this.generateHourScale(x);break;case"minutes_fives":case"minutes":this.generateMinuteScale(x);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(x)}var b=this.timeScaleArray.map((function(t){var e={position:t.position,unit:t.unit,year:t.year,day:t.day?t.day:1,hour:t.hour?t.hour:0,month:t.month+1};return"month"===t.unit?s(s({},e),{},{day:1,value:t.value+1}):"day"===t.unit||"hour"===t.unit?s(s({},e),{},{value:t.value}):"minute"===t.unit?s(s({},e),{},{value:t.value,minute:t.value}):"second"===t.unit?s(s({},e),{},{value:t.value,minute:t.minute,second:t.second}):t}));return b.filter((function(t){var e=1,r=Math.ceil(n.globals.gridWidth/120),s=t.value;void 0!==n.config.xaxis.tickAmount&&(r=n.config.xaxis.tickAmount),b.length>r&&(e=Math.floor(b.length/r));var a=!1,o=!1;switch(i.tickInterval){case"years":"year"===t.unit&&(a=!0);break;case"half_year":e=7,"year"===t.unit&&(a=!0);break;case"months":e=1,"year"===t.unit&&(a=!0);break;case"months_fortnight":e=15,"year"!==t.unit&&"month"!==t.unit||(a=!0),30===s&&(o=!0);break;case"months_days":e=10,"month"===t.unit&&(a=!0),30===s&&(o=!0);break;case"week_days":e=8,"month"===t.unit&&(a=!0);break;case"days":e=1,"month"===t.unit&&(a=!0);break;case"hours":"day"===t.unit&&(a=!0);break;case"minutes_fives":s%5!=0&&(o=!0);break;case"seconds_tens":s%10!=0&&(o=!0);break;case"seconds_fives":s%5!=0&&(o=!0)}if("hours"===i.tickInterval||"minutes_fives"===i.tickInterval||"seconds_tens"===i.tickInterval||"seconds_fives"===i.tickInterval){if(!o)return!0}else if((s%e==0||a)&&!o)return!0}))}},{key:"recalcDimensionsBasedOnFormat",value:function(t,e){var i=this.w,n=this.formatDates(t),r=this.removeOverlappingTS(n);i.globals.timescaleLabels=r.slice(),new dt(this.ctx).plotCoords()}},{key:"determineInterval",value:function(t){var e=24*t,i=60*e;switch(!0){case t/365>5:this.tickInterval="years";break;case t>800:this.tickInterval="half_year";break;case t>180:this.tickInterval="months";break;case t>90:this.tickInterval="months_fortnight";break;case t>60:this.tickInterval="months_days";break;case t>30:this.tickInterval="week_days";break;case t>2:this.tickInterval="days";break;case e>2.4:this.tickInterval="hours";break;case i>15:this.tickInterval="minutes_fives";break;case i>5:this.tickInterval="minutes";break;case i>1:this.tickInterval="seconds_tens";break;case 60*i>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(t){var e=t.firstVal,i=t.currentMonth,n=t.currentYear,r=t.daysWidthOnXAxis,s=t.numberOfYears,a=e.minYear,o=0,l=new H(this.ctx),c="year";if(e.minDate>1||e.minMonth>0){var h=l.determineRemainingDaysOfYear(e.minYear,e.minMonth,e.minDate);o=(l.determineDaysOfYear(e.minYear)-h+1)*r,a=e.minYear+1,this.timeScaleArray.push({position:o,value:a,unit:c,year:a,month:b.monthMod(i+1)})}else 1===e.minDate&&0===e.minMonth&&this.timeScaleArray.push({position:o,value:a,unit:c,year:n,month:b.monthMod(i+1)});for(var u=a,d=o,f=0;f<s;f++)u++,d=l.determineDaysOfYear(u-1)*r+d,this.timeScaleArray.push({position:d,value:u,unit:c,year:u,month:1})}},{key:"generateMonthScale",value:function(t){var e=t.firstVal,i=t.currentMonthDate,n=t.currentMonth,r=t.currentYear,s=t.daysWidthOnXAxis,a=t.numberOfMonths,o=n,l=0,c=new H(this.ctx),h="month",u=0;if(e.minDate>1){l=(c.determineDaysOfMonths(n+1,e.minYear)-i+1)*s,o=b.monthMod(n+1);var d=r+u,f=b.monthMod(o),p=o;0===o&&(h="year",p=d,f=1,d+=u+=1),this.timeScaleArray.push({position:l,value:p,unit:h,year:d,month:f})}else this.timeScaleArray.push({position:l,value:o,unit:h,year:r,month:b.monthMod(n)});for(var g=o+1,m=l,v=0,y=1;v<a;v++,y++){0===(g=b.monthMod(g))?(h="year",u+=1):h="month";var x=this._getYear(r,g,u);m=c.determineDaysOfMonths(g,x)*s+m;var w=0===g?x:g;this.timeScaleArray.push({position:m,value:w,unit:h,year:x,month:0===g?1:g}),g++}}},{key:"generateDayScale",value:function(t){var e=t.firstVal,i=t.currentMonth,n=t.currentYear,r=t.hoursWidthOnXAxis,s=t.numberOfDays,a=new H(this.ctx),o="day",l=e.minDate+1,c=l,h=function(t,e,i){return t>a.determineDaysOfMonths(e+1,i)?(c=1,o="month",d=e+=1,e):e},u=(24-e.minHour)*r,d=l,f=h(c,i,n);0===e.minHour&&1===e.minDate?(u=0,d=b.monthMod(e.minMonth),o="month",c=e.minDate,s++):1!==e.minDate&&0===e.minHour&&0===e.minMinute&&(u=0,l=e.minDate,d=l,f=h(c=l,i,n)),this.timeScaleArray.push({position:u,value:d,unit:o,year:this._getYear(n,f,0),month:b.monthMod(f),day:c});for(var p=u,g=0;g<s;g++){o="day",f=h(c+=1,f,this._getYear(n,f,0));var m=this._getYear(n,f,0);p=24*r+p;var v=1===c?b.monthMod(f):c;this.timeScaleArray.push({position:p,value:v,unit:o,year:m,month:b.monthMod(f),day:v})}}},{key:"generateHourScale",value:function(t){var e=t.firstVal,i=t.currentDate,n=t.currentMonth,r=t.currentYear,s=t.minutesWidthOnXAxis,a=t.numberOfHours,o=new H(this.ctx),l="hour",c=function(t,e){return t>o.determineDaysOfMonths(e+1,r)&&(g=1,e+=1),{month:e,date:g}},h=function(t,e){return t>o.determineDaysOfMonths(e+1,r)?e+=1:e},u=60-(e.minMinute+e.minSecond/60),d=u*s,f=e.minHour+1,p=f+1;60===u&&(d=0,p=(f=e.minHour)+1);var g=i,m=h(g,n);this.timeScaleArray.push({position:d,value:f,unit:l,day:g,hour:p,year:r,month:b.monthMod(m)});for(var v=d,y=0;y<a;y++){l="hour",p>=24&&(p=0,l="day",m=c(g+=1,m).month,m=h(g,m));var x=this._getYear(r,m,0);v=0===p&&0===y?u*s:60*s+v;var w=0===p?g:p;this.timeScaleArray.push({position:v,value:w,unit:l,hour:p,day:g,year:x,month:b.monthMod(m)}),p++}}},{key:"generateMinuteScale",value:function(t){for(var e=t.currentMillisecond,i=t.currentSecond,n=t.currentMinute,r=t.currentHour,s=t.currentDate,a=t.currentMonth,o=t.currentYear,l=t.minutesWidthOnXAxis,c=t.secondsWidthOnXAxis,h=t.numberOfMinutes,u=n+1,d=s,f=a,p=o,g=r,m=(60-i-e/1e3)*c,v=0;v<h;v++)u>=60&&(u=0,24===(g+=1)&&(g=0)),this.timeScaleArray.push({position:m,value:u,unit:"minute",hour:g,minute:u,day:d,year:this._getYear(p,f,0),month:b.monthMod(f)}),m+=l,u++}},{key:"generateSecondScale",value:function(t){for(var e=t.currentMillisecond,i=t.currentSecond,n=t.currentMinute,r=t.currentHour,s=t.currentDate,a=t.currentMonth,o=t.currentYear,l=t.secondsWidthOnXAxis,c=t.numberOfSeconds,h=i+1,u=n,d=s,f=a,p=o,g=r,m=(1e3-e)/1e3*l,v=0;v<c;v++)h>=60&&(h=0,++u>=60&&(u=0,24===++g&&(g=0))),this.timeScaleArray.push({position:m,value:h,unit:"second",hour:g,minute:u,second:h,day:d,year:this._getYear(p,f,0),month:b.monthMod(f)}),m+=l,h++}},{key:"createRawDateString",value:function(t,e){var i=t.year;return 0===t.month&&(t.month=1),i+="-"+("0"+t.month.toString()).slice(-2),"day"===t.unit?i+="day"===t.unit?"-"+("0"+e).slice(-2):"-01":i+="-"+("0"+(t.day?t.day:"1")).slice(-2),"hour"===t.unit?i+="hour"===t.unit?"T"+("0"+e).slice(-2):"T00":i+="T"+("0"+(t.hour?t.hour:"0")).slice(-2),"minute"===t.unit?i+=":"+("0"+e).slice(-2):i+=":"+(t.minute?("0"+t.minute).slice(-2):"00"),"second"===t.unit?i+=":"+("0"+e).slice(-2):i+=":00",this.utc&&(i+=".000Z"),i}},{key:"formatDates",value:function(t){var e=this,i=this.w;return t.map((function(t){var n=t.value.toString(),r=new H(e.ctx),s=e.createRawDateString(t,n),a=r.getDate(r.parseDate(s));if(e.utc||(a=r.getDate(r.parseDateWithTimezone(s))),void 0===i.config.xaxis.labels.format){var o="dd MMM",l=i.config.xaxis.labels.datetimeFormatter;"year"===t.unit&&(o=l.year),"month"===t.unit&&(o=l.month),"day"===t.unit&&(o=l.day),"hour"===t.unit&&(o=l.hour),"minute"===t.unit&&(o=l.minute),"second"===t.unit&&(o=l.second),n=r.formatDate(a,o)}else n=r.formatDate(a,i.config.xaxis.labels.format);return{dateString:s,position:t.position,value:n,unit:t.unit,year:t.year,month:t.month}}))}},{key:"removeOverlappingTS",value:function(t){var e,i=this,n=new A(this.ctx),r=!1;t.length>0&&t[0].value&&t.every((function(e){return e.value.length===t[0].value.length}))&&(r=!0,e=n.getTextRects(t[0].value).width);var s=0,a=t.map((function(a,o){if(o>0&&i.w.config.xaxis.labels.hideOverlappingLabels){var l=r?e:n.getTextRects(t[s].value).width,c=t[s].position;return a.position>c+l+10?(s=o,a):null}return a}));return a.filter((function(t){return null!==t}))}},{key:"_getYear",value:function(t,e,i){return t+Math.floor(e/12)+i}}]),t}(),zt=function(){function t(e,i){o(this,t),this.ctx=i,this.w=i.w,this.el=e}return c(t,[{key:"setupElements",value:function(){var t=this.w.globals,e=this.w.config,i=e.chart.type;t.axisCharts=["line","area","bar","rangeBar","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].indexOf(i)>-1,t.xyCharts=["line","area","bar","rangeBar","candlestick","boxPlot","scatter","bubble"].indexOf(i)>-1,t.isBarHorizontal=("bar"===e.chart.type||"rangeBar"===e.chart.type||"boxPlot"===e.chart.type)&&e.plotOptions.bar.horizontal,t.chartClass=".apexcharts"+t.chartID,t.dom.baseEl=this.el,t.dom.elWrap=document.createElement("div"),A.setAttrs(t.dom.elWrap,{id:t.chartClass.substring(1),class:"apexcharts-canvas "+t.chartClass.substring(1)}),this.el.appendChild(t.dom.elWrap),t.dom.Paper=new window.SVG.Doc(t.dom.elWrap),t.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(e.chart.offsetX,", ").concat(e.chart.offsetY,")")}),t.dom.Paper.node.style.background=e.chart.background,this.setSVGDimensions(),t.dom.elGraphical=t.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),t.dom.elAnnotations=t.dom.Paper.group().attr({class:"apexcharts-annotations"}),t.dom.elDefs=t.dom.Paper.defs(),t.dom.elLegendWrap=document.createElement("div"),t.dom.elLegendWrap.classList.add("apexcharts-legend"),t.dom.elWrap.appendChild(t.dom.elLegendWrap),t.dom.Paper.add(t.dom.elGraphical),t.dom.elGraphical.add(t.dom.elDefs)}},{key:"plotChartType",value:function(t,e){var i=this.w,n=i.config,r=i.globals,s={series:[],i:[]},a={series:[],i:[]},o={series:[],i:[]},l={series:[],i:[]},c={series:[],i:[]},h={series:[],i:[]},u={series:[],i:[]};r.series.map((function(e,d){var f=0;void 0!==t[d].type?("column"===t[d].type||"bar"===t[d].type?(r.series.length>1&&n.plotOptions.bar.horizontal&&console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"),c.series.push(e),c.i.push(d),f++,i.globals.columnSeries=c.series):"area"===t[d].type?(a.series.push(e),a.i.push(d),f++):"line"===t[d].type?(s.series.push(e),s.i.push(d),f++):"scatter"===t[d].type?(o.series.push(e),o.i.push(d)):"bubble"===t[d].type?(l.series.push(e),l.i.push(d),f++):"candlestick"===t[d].type?(h.series.push(e),h.i.push(d),f++):"boxPlot"===t[d].type?(u.series.push(e),u.i.push(d),f++):console.warn("You have specified an unrecognized chart type. Available types for this property are line/area/column/bar/scatter/bubble"),f>1&&(r.comboCharts=!0)):(s.series.push(e),s.i.push(d))}));var d=new Ot(this.ctx,e),f=new Ct(this.ctx,e);this.ctx.pie=new _t(this.ctx);var p=new Lt(this.ctx);this.ctx.rangeBar=new X(this.ctx,e);var g=new Pt(this.ctx),m=[];if(r.comboCharts){if(a.series.length>0&&m.push(d.draw(a.series,"area",a.i)),c.series.length>0)if(i.config.chart.stacked){var v=new St(this.ctx,e);m.push(v.draw(c.series,c.i))}else this.ctx.bar=new V(this.ctx,e),m.push(this.ctx.bar.draw(c.series,c.i));if(s.series.length>0&&m.push(d.draw(s.series,"line",s.i)),h.series.length>0&&m.push(f.draw(h.series,h.i)),u.series.length>0&&m.push(f.draw(u.series,u.i)),o.series.length>0){var y=new Ot(this.ctx,e,!0);m.push(y.draw(o.series,"scatter",o.i))}if(l.series.length>0){var x=new Ot(this.ctx,e,!0);m.push(x.draw(l.series,"bubble",l.i))}}else switch(n.chart.type){case"line":m=d.draw(r.series,"line");break;case"area":m=d.draw(r.series,"area");break;case"bar":n.chart.stacked?m=new St(this.ctx,e).draw(r.series):(this.ctx.bar=new V(this.ctx,e),m=this.ctx.bar.draw(r.series));break;case"candlestick":m=new Ct(this.ctx,e).draw(r.series);break;case"boxPlot":m=new Ct(this.ctx,e).draw(r.series);break;case"rangeBar":m=this.ctx.rangeBar.draw(r.series);break;case"heatmap":m=new It(this.ctx,e).draw(r.series);break;case"treemap":m=new Dt(this.ctx,e).draw(r.series);break;case"pie":case"donut":case"polarArea":m=this.ctx.pie.draw(r.series);break;case"radialBar":m=p.draw(r.series);break;case"radar":m=g.draw(r.series);break;default:m=d.draw(r.series)}return m}},{key:"setSVGDimensions",value:function(){var t=this.w.globals,e=this.w.config;t.svgWidth=e.chart.width,t.svgHeight=e.chart.height;var i=b.getDimensions(this.el),n=e.chart.width.toString().split(/[0-9]+/g).pop();"%"===n?b.isNumber(i[0])&&(0===i[0].width&&(i=b.getDimensions(this.el.parentNode)),t.svgWidth=i[0]*parseInt(e.chart.width,10)/100):"px"!==n&&""!==n||(t.svgWidth=parseInt(e.chart.width,10));var r=e.chart.height.toString().split(/[0-9]+/g).pop();if("auto"!==t.svgHeight&&""!==t.svgHeight)if("%"===r){var s=b.getDimensions(this.el.parentNode);t.svgHeight=s[1]*parseInt(e.chart.height,10)/100}else t.svgHeight=parseInt(e.chart.height,10);else t.axisCharts?t.svgHeight=t.svgWidth/1.61:t.svgHeight=t.svgWidth/1.2;if(t.svgWidth<0&&(t.svgWidth=0),t.svgHeight<0&&(t.svgHeight=0),A.setAttrs(t.dom.Paper.node,{width:t.svgWidth,height:t.svgHeight}),"%"!==r){var a=e.chart.sparkline.enabled?0:t.axisCharts?e.chart.parentHeightOffset:0;t.dom.Paper.node.parentNode.parentNode.style.minHeight=t.svgHeight+a+"px"}t.dom.elWrap.style.width=t.svgWidth+"px",t.dom.elWrap.style.height=t.svgHeight+"px"}},{key:"shiftGraphPosition",value:function(){var t=this.w.globals,e=t.translateY,i={transform:"translate("+t.translateX+", "+e+")"};A.setAttrs(t.dom.elGraphical.node,i)}},{key:"resizeNonAxisCharts",value:function(){var t=this.w,e=t.globals,i=0,n=t.config.chart.sparkline.enabled?1:15;n+=t.config.grid.padding.bottom,"top"!==t.config.legend.position&&"bottom"!==t.config.legend.position||!t.config.legend.show||t.config.legend.floating||(i=new pt(this.ctx).legendHelpers.getLegendBBox().clwh+10);var r=t.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),s=2.05*t.globals.radialSize;if(r&&!t.config.chart.sparkline.enabled&&0!==t.config.plotOptions.radialBar.startAngle){var a=b.getBoundingClientRect(r);s=a.bottom;var o=a.bottom-a.top;s=Math.max(2.05*t.globals.radialSize,o)}var l=s+e.translateY+i+n;e.dom.elLegendForeign&&e.dom.elLegendForeign.setAttribute("height",l),e.dom.elWrap.style.height=l+"px",A.setAttrs(e.dom.Paper.node,{height:l}),e.dom.Paper.node.parentNode.parentNode.style.minHeight=l+"px"}},{key:"coreCalculations",value:function(){new Q(this.ctx).init()}},{key:"resetGlobals",value:function(){var t=this,e=function(){return t.w.config.series.map((function(t){return[]}))},i=new U,n=this.w.globals;i.initGlobalVars(n),n.seriesXvalues=e(),n.seriesYvalues=e()}},{key:"isMultipleY",value:function(){if(this.w.config.yaxis.constructor===Array&&this.w.config.yaxis.length>1)return this.w.globals.isMultipleYAxis=!0,!0}},{key:"xySettings",value:function(){var t=null,e=this.w;if(e.globals.axisCharts){if("back"===e.config.xaxis.crosshairs.position&&new rt(this.ctx).drawXCrosshairs(),"back"===e.config.yaxis[0].crosshairs.position&&new rt(this.ctx).drawYCrosshairs(),"datetime"===e.config.xaxis.type&&void 0===e.config.xaxis.labels.formatter){this.ctx.timeScale=new Ft(this.ctx);var i=[];isFinite(e.globals.minX)&&isFinite(e.globals.maxX)&&!e.globals.isBarHorizontal?i=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minX,e.globals.maxX):e.globals.isBarHorizontal&&(i=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minY,e.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(i)}t=new E(this.ctx).getCalculatedRatios()}return t}},{key:"updateSourceChart",value:function(t){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:t.w.globals.minX,max:t.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var t=this,e=this.w;if(e.config.chart.brush.enabled&&"function"!=typeof e.config.chart.events.selection){var i=e.config.chart.brush.targets||[e.config.chart.brush.target];i.forEach((function(e){var i=ApexCharts.getChartByID(e);i.w.globals.brushSource=t.ctx,"function"!=typeof i.w.config.chart.events.zoomed&&(i.w.config.chart.events.zoomed=function(){t.updateSourceChart(i)}),"function"!=typeof i.w.config.chart.events.scrolled&&(i.w.config.chart.events.scrolled=function(){t.updateSourceChart(i)})})),e.config.chart.events.selection=function(t,n){i.forEach((function(t){var i=ApexCharts.getChartByID(t),r=b.clone(e.config.yaxis);if(e.config.chart.brush.autoScaleYaxis&&1===i.w.globals.series.length){var a=new Z(i);r=a.autoScaleY(i,r,n)}var o=i.w.config.yaxis.reduce((function(t,e,n){return[].concat(v(t),[s(s({},i.w.config.yaxis[n]),{},{min:r[0].min,max:r[0].max})])}),[]);i.ctx.updateHelpers._updateOptions({xaxis:{min:n.xaxis.min,max:n.xaxis.max},yaxis:o},!1,!1,!1,!1)}))}}}}]),t}(),Vt=function(){function t(e){o(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"_updateOptions",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return new Promise((function(o){var l=[e.ctx];r&&(l=e.ctx.getSyncedCharts()),e.ctx.w.globals.isExecCalled&&(l=[e.ctx],e.ctx.w.globals.isExecCalled=!1),l.forEach((function(r,c){var h=r.w;return h.globals.shouldAnimate=n,i||(h.globals.resized=!0,h.globals.dataChanged=!0,n&&r.series.getPreviousPaths()),t&&"object"===a(t)&&(r.config=new Y(t),t=E.extendArrayProps(r.config,t,h),r.w.globals.chartID!==e.ctx.w.globals.chartID&&delete t.series,h.config=b.extend(h.config,t),s&&(h.globals.lastXAxis=t.xaxis?b.clone(t.xaxis):[],h.globals.lastYAxis=t.yaxis?b.clone(t.yaxis):[],h.globals.initialConfig=b.extend({},h.config),h.globals.initialSeries=b.clone(h.config.series))),r.update(t).then((function(){c===l.length-1&&o(r)}))}))}))}},{key:"_updateSeries",value:function(t,e){var i=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise((function(r){var s,a=i.w;return a.globals.shouldAnimate=e,a.globals.dataChanged=!0,e&&i.ctx.series.getPreviousPaths(),a.globals.axisCharts?(0===(s=t.map((function(t,e){return i._extendSeries(t,e)}))).length&&(s=[{data:[]}]),a.config.series=s):a.config.series=t.slice(),n&&(a.globals.initialSeries=b.clone(a.config.series)),i.ctx.update().then((function(){r(i.ctx)}))}))}},{key:"_extendSeries",value:function(t,e){var i=this.w,n=i.config.series[e];return s(s({},i.config.series[e]),{},{name:t.name?t.name:n&&n.name,color:t.color?t.color:n&&n.color,type:t.type?t.type:n&&n.type,data:t.data?t.data:n&&n.data})}},{key:"toggleDataPointSelection",value:function(t,e){var i=this.w,n=null,r=".apexcharts-series[data\\:realIndex='".concat(t,"']");return i.globals.axisCharts?n=i.globals.dom.Paper.select("".concat(r," path[j='").concat(e,"'], ").concat(r," circle[j='").concat(e,"'], ").concat(r," rect[j='").concat(e,"']")).members[0]:void 0===e&&(n=i.globals.dom.Paper.select("".concat(r," path[j='").concat(t,"']")).members[0],"pie"!==i.config.chart.type&&"polarArea"!==i.config.chart.type&&"donut"!==i.config.chart.type||this.ctx.pie.pieClicked(t)),n?(new A(this.ctx).pathMouseDown(n,null),n.node?n.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(t){var e=this.w;if(["min","max"].forEach((function(i){void 0!==t.xaxis[i]&&(e.config.xaxis[i]=t.xaxis[i],e.globals.lastXAxis[i]=t.xaxis[i])})),t.xaxis.categories&&t.xaxis.categories.length&&(e.config.xaxis.categories=t.xaxis.categories),e.config.xaxis.convertedCatToNumeric){var i=new B(t);t=i.convertCatToNumericXaxis(t,this.ctx)}return t}},{key:"forceYAxisUpdate",value:function(t){var e=this.w;return e.config.chart.stacked&&"100%"===e.config.chart.stackType&&(Array.isArray(t.yaxis)?t.yaxis.forEach((function(e,i){t.yaxis[i].min=0,t.yaxis[i].max=100})):(t.yaxis.min=0,t.yaxis.max=100)),t}},{key:"revertDefaultAxisMinMax",value:function(t){var e=this,i=this.w,n=i.globals.lastXAxis,r=i.globals.lastYAxis;t&&t.xaxis&&(n=t.xaxis),t&&t.yaxis&&(r=t.yaxis),i.config.xaxis.min=n.min,i.config.xaxis.max=n.max;var s=function(t){void 0!==r[t]&&(i.config.yaxis[t].min=r[t].min,i.config.yaxis[t].max=r[t].max)};i.config.yaxis.map((function(t,n){i.globals.zoomed||void 0!==r[n]?s(n):void 0!==e.ctx.opts.yaxis[n]&&(t.min=e.ctx.opts.yaxis[n].min,t.max=e.ctx.opts.yaxis[n].max)}))}}]),t}();Nt="undefined"!=typeof window?window:void 0,Mt=function(t,e){var i=(void 0!==this?this:t).SVG=function(t){if(i.supported)return t=new i.Doc(t),i.parser.draw||i.prepare(),t};if(i.ns="http://www.w3.org/2000/svg",i.xmlns="http://www.w3.org/2000/xmlns/",i.xlink="http://www.w3.org/1999/xlink",i.svgjs="http://svgjs.dev",i.supported=!0,!i.supported)return!1;i.did=1e3,i.eid=function(t){return"Svgjs"+u(t)+i.did++},i.create=function(t){var i=e.createElementNS(this.ns,t);return i.setAttribute("id",this.eid(t)),i},i.extend=function(){var t,e;e=(t=[].slice.call(arguments)).pop();for(var n=t.length-1;n>=0;n--)if(t[n])for(var r in e)t[n].prototype[r]=e[r];i.Set&&i.Set.inherit&&i.Set.inherit()},i.invent=function(t){var e="function"==typeof t.create?t.create:function(){this.constructor.call(this,i.create(t.create))};return t.inherit&&(e.prototype=new t.inherit),t.extend&&i.extend(e,t.extend),t.construct&&i.extend(t.parent||i.Container,t.construct),e},i.adopt=function(e){return e?e.instance?e.instance:((n="svg"==e.nodeName?e.parentNode instanceof t.SVGElement?new i.Nested:new i.Doc:"linearGradient"==e.nodeName?new i.Gradient("linear"):"radialGradient"==e.nodeName?new i.Gradient("radial"):i[u(e.nodeName)]?new(i[u(e.nodeName)]):new i.Element(e)).type=e.nodeName,n.node=e,e.instance=n,n instanceof i.Doc&&n.namespace().defs(),n.setData(JSON.parse(e.getAttribute("svgjs:data"))||{}),n):null;var n},i.prepare=function(){var t=e.getElementsByTagName("body")[0],n=(t?new i.Doc(t):i.adopt(e.documentElement).nested()).size(2,0);i.parser={body:t||e.documentElement,draw:n.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").node,poly:n.polyline().node,path:n.path().node,native:i.create("svg")}},i.parser={native:i.create("svg")},e.addEventListener("DOMContentLoaded",(function(){i.parser.draw||i.prepare()}),!1),i.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},i.utils={map:function(t,e){for(var i=t.length,n=[],r=0;r<i;r++)n.push(e(t[r]));return n},filter:function(t,e){for(var i=t.length,n=[],r=0;r<i;r++)e(t[r])&&n.push(t[r]);return n},filterSVGElements:function(e){return this.filter(e,(function(e){return e instanceof t.SVGElement}))}},i.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},i.Color=function(t){var e,n;this.r=0,this.g=0,this.b=0,t&&("string"==typeof t?i.regex.isRgb.test(t)?(e=i.regex.rgb.exec(t.replace(i.regex.whitespace,"")),this.r=parseInt(e[1]),this.g=parseInt(e[2]),this.b=parseInt(e[3])):i.regex.isHex.test(t)&&(e=i.regex.hex.exec(4==(n=t).length?["#",n.substring(1,2),n.substring(1,2),n.substring(2,3),n.substring(2,3),n.substring(3,4),n.substring(3,4)].join(""):n),this.r=parseInt(e[1],16),this.g=parseInt(e[2],16),this.b=parseInt(e[3],16)):"object"===a(t)&&(this.r=t.r,this.g=t.g,this.b=t.b))},i.extend(i.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+d(this.r)+d(this.g)+d(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(t){return this.destination=new i.Color(t),this},at:function(t){return this.destination?(t=t<0?0:t>1?1:t,new i.Color({r:~~(this.r+(this.destination.r-this.r)*t),g:~~(this.g+(this.destination.g-this.g)*t),b:~~(this.b+(this.destination.b-this.b)*t)})):this}}),i.Color.test=function(t){return t+="",i.regex.isHex.test(t)||i.regex.isRgb.test(t)},i.Color.isRgb=function(t){return t&&"number"==typeof t.r&&"number"==typeof t.g&&"number"==typeof t.b},i.Color.isColor=function(t){return i.Color.isRgb(t)||i.Color.test(t)},i.Array=function(t,e){0==(t=(t||[]).valueOf()).length&&e&&(t=e.valueOf()),this.value=this.parse(t)},i.extend(i.Array,{toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(t){return t=t.valueOf(),Array.isArray(t)?t:this.split(t)}}),i.PointArray=function(t,e){i.Array.call(this,t,e||[[0,0]])},i.PointArray.prototype=new i.Array,i.PointArray.prototype.constructor=i.PointArray;for(var n={M:function(t,e,i){return e.x=i.x=t[0],e.y=i.y=t[1],["M",e.x,e.y]},L:function(t,e){return e.x=t[0],e.y=t[1],["L",t[0],t[1]]},H:function(t,e){return e.x=t[0],["H",t[0]]},V:function(t,e){return e.y=t[0],["V",t[0]]},C:function(t,e){return e.x=t[4],e.y=t[5],["C",t[0],t[1],t[2],t[3],t[4],t[5]]},Q:function(t,e){return e.x=t[2],e.y=t[3],["Q",t[0],t[1],t[2],t[3]]},Z:function(t,e,i){return e.x=i.x,e.y=i.y,["Z"]}},r="mlhvqtcsaz".split(""),s=0,o=r.length;s<o;++s)n[r[s]]=function(t){return function(e,i,r){if("H"==t)e[0]=e[0]+i.x;else if("V"==t)e[0]=e[0]+i.y;else if("A"==t)e[5]=e[5]+i.x,e[6]=e[6]+i.y;else for(var s=0,a=e.length;s<a;++s)e[s]=e[s]+(s%2?i.y:i.x);if(n&&"function"==typeof n[t])return n[t](e,i,r)}}(r[s].toUpperCase());i.PathArray=function(t,e){i.Array.call(this,t,e||[["M",0,0]])},i.PathArray.prototype=new i.Array,i.PathArray.prototype.constructor=i.PathArray,i.extend(i.PathArray,{toString:function(){return function(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e][0],null!=t[e][1]&&(n+=t[e][1],null!=t[e][2]&&(n+=" ",n+=t[e][2],null!=t[e][3]&&(n+=" ",n+=t[e][3],n+=" ",n+=t[e][4],null!=t[e][5]&&(n+=" ",n+=t[e][5],n+=" ",n+=t[e][6],null!=t[e][7]&&(n+=" ",n+=t[e][7])))));return n+" "}(this.value)},move:function(t,e){var i=this.bbox();return i.x,i.y,this},at:function(t){if(!this.destination)return this;for(var e=this.value,n=this.destination.value,r=[],s=new i.PathArray,a=0,o=e.length;a<o;a++){r[a]=[e[a][0]];for(var l=1,c=e[a].length;l<c;l++)r[a][l]=e[a][l]+(n[a][l]-e[a][l])*t;"A"===r[a][0]&&(r[a][4]=+(0!=r[a][4]),r[a][5]=+(0!=r[a][5]))}return s.value=r,s},parse:function(t){if(t instanceof i.PathArray)return t.valueOf();var e,r={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};t="string"==typeof t?t.replace(i.regex.numbersWithDots,c).replace(i.regex.pathLetters," $& ").replace(i.regex.hyphen,"$1 -").trim().split(i.regex.delimiter):t.reduce((function(t,e){return[].concat.call(t,e)}),[]);var s=[],a=new i.Point,o=new i.Point,l=0,h=t.length;do{i.regex.isPathLetter.test(t[l])?(e=t[l],++l):"M"==e?e="L":"m"==e&&(e="l"),s.push(n[e].call(null,t.slice(l,l+=r[e.toUpperCase()]).map(parseFloat),a,o))}while(h>l);return s},bbox:function(){return i.parser.draw||i.prepare(),i.parser.path.setAttribute("d",this.toString()),i.parser.path.getBBox()}}),i.Number=i.invent({create:function(t,e){this.value=0,this.unit=e||"","number"==typeof t?this.value=isNaN(t)?0:isFinite(t)?t:t<0?-34e37:34e37:"string"==typeof t?(e=t.match(i.regex.numberAndUnit))&&(this.value=parseFloat(e[1]),"%"==e[5]?this.value/=100:"s"==e[5]&&(this.value*=1e3),this.unit=e[5]):t instanceof i.Number&&(this.value=t.valueOf(),this.unit=t.unit)},extend:{toString:function(){return("%"==this.unit?~~(1e8*this.value)/1e6:"s"==this.unit?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(t){return t=new i.Number(t),new i.Number(this+t,this.unit||t.unit)},minus:function(t){return t=new i.Number(t),new i.Number(this-t,this.unit||t.unit)},times:function(t){return t=new i.Number(t),new i.Number(this*t,this.unit||t.unit)},divide:function(t){return t=new i.Number(t),new i.Number(this/t,this.unit||t.unit)},to:function(t){var e=new i.Number(this);return"string"==typeof t&&(e.unit=t),e},morph:function(t){return this.destination=new i.Number(t),t.relative&&(this.destination.value+=this.value),this},at:function(t){return this.destination?new i.Number(this.destination).minus(this).times(t).plus(this):this}}}),i.Element=i.invent({create:function(t){this._stroke=i.defaults.attrs.stroke,this._event=null,this.dom={},(this.node=t)&&(this.type=t.nodeName,this.node.instance=this,this._stroke=t.getAttribute("stroke")||this._stroke)},extend:{x:function(t){return this.attr("x",t)},y:function(t){return this.attr("y",t)},cx:function(t){return null==t?this.x()+this.width()/2:this.x(t-this.width()/2)},cy:function(t){return null==t?this.y()+this.height()/2:this.y(t-this.height()/2)},move:function(t,e){return this.x(t).y(e)},center:function(t,e){return this.cx(t).cy(e)},width:function(t){return this.attr("width",t)},height:function(t){return this.attr("height",t)},size:function(t,e){var n=f(this,t,e);return this.width(new i.Number(n.width)).height(new i.Number(n.height))},clone:function(t){this.writeDataToDom();var e=m(this.node.cloneNode(!0));return t?t.add(e):this.after(e),e},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(t){return this.after(t).remove(),t},addTo:function(t){return t.put(this)},putIn:function(t){return t.add(this)},id:function(t){return this.attr("id",t)},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return"none"!=this.style("display")},toString:function(){return this.attr("id")},classes:function(){var t=this.attr("class");return null==t?[]:t.trim().split(i.regex.delimiter)},hasClass:function(t){return-1!=this.classes().indexOf(t)},addClass:function(t){if(!this.hasClass(t)){var e=this.classes();e.push(t),this.attr("class",e.join(" "))}return this},removeClass:function(t){return this.hasClass(t)&&this.attr("class",this.classes().filter((function(e){return e!=t})).join(" ")),this},toggleClass:function(t){return this.hasClass(t)?this.removeClass(t):this.addClass(t)},reference:function(t){return i.get(this.attr(t))},parent:function(e){var n=this;if(!n.node.parentNode)return null;if(n=i.adopt(n.node.parentNode),!e)return n;for(;n&&n.node instanceof t.SVGElement;){if("string"==typeof e?n.matches(e):n instanceof e)return n;if(!n.node.parentNode||"#document"==n.node.parentNode.nodeName)return null;n=i.adopt(n.node.parentNode)}},doc:function(){return this instanceof i.Doc?this:this.parent(i.Doc)},parents:function(t){var e=[],i=this;do{if(!(i=i.parent(t))||!i.node)break;e.push(i)}while(i.parent);return e},matches:function(t){return function(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector).call(t,e)}(this.node,t)},native:function(){return this.node},svg:function(t){var n=e.createElement("svg");if(!(t&&this instanceof i.Parent))return n.appendChild(t=e.createElement("svg")),this.writeDataToDom(),t.appendChild(this.node.cloneNode(!0)),n.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");n.innerHTML="<svg>"+t.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var r=0,s=n.firstChild.childNodes.length;r<s;r++)this.node.appendChild(n.firstChild.firstChild);return this},writeDataToDom:function(){return(this.each||this.lines)&&(this.each?this:this.lines()).each((function(){this.writeDataToDom()})),this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(t){return this.dom=t,this},is:function(t){return function(t,e){return t instanceof e}(this,t)}}}),i.easing={"-":function(t){return t},"<>":function(t){return-Math.cos(t*Math.PI)/2+.5},">":function(t){return Math.sin(t*Math.PI/2)},"<":function(t){return 1-Math.cos(t*Math.PI/2)}},i.morph=function(t){return function(e,n){return new i.MorphObj(e,n).at(t)}},i.Situation=i.invent({create:function(t){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new i.Number(t.duration).valueOf(),this.delay=new i.Number(t.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=t.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),i.FX=i.invent({create:function(t){this._target=t,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(t,e,n){"object"===a(t)&&(e=t.ease,n=t.delay,t=t.duration);var r=new i.Situation({duration:t||1e3,delay:n||0,ease:i.easing[e||"-"]||e});return this.queue(r),this},target:function(t){return t&&t instanceof i.Element?(this._target=t,this):this._target},timeToAbsPos:function(t){return(t-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(t){return this.situation.duration/this._speed*t+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=t.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){t.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(t){return("function"==typeof t||t instanceof i.Situation)&&this.situations.push(t),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof i.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var t,e=this.situation;if(e.init)return this;for(var n in e.animations){t=this.target()[n](),Array.isArray(t)||(t=[t]),Array.isArray(e.animations[n])||(e.animations[n]=[e.animations[n]]);for(var r=t.length;r--;)e.animations[n][r]instanceof i.Number&&(t[r]=new i.Number(t[r])),e.animations[n][r]=t[r].morph(e.animations[n][r])}for(var n in e.attrs)e.attrs[n]=new i.MorphObj(this.target().attr(n),e.attrs[n]);for(var n in e.styles)e.styles[n]=new i.MorphObj(this.target().style(n),e.styles[n]);return e.initialTransformation=this.target().matrixify(),e.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(t,e){var i=this.active;return this.active=!1,e&&this.clearQueue(),t&&this.situation&&(!i&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},after:function(t){var e=this.last();return this.target().on("finished.fx",(function i(n){n.detail.situation==e&&(t.call(this,e),this.off("finished.fx",i))})),this._callStart()},during:function(t){var e=this.last(),n=function(n){n.detail.situation==e&&t.call(this,n.detail.pos,i.morph(n.detail.pos),n.detail.eased,e)};return this.target().off("during.fx",n).on("during.fx",n),this.after((function(){this.off("during.fx",n)})),this._callStart()},afterAll:function(t){var e=function e(i){t.call(this),this.off("allfinished.fx",e)};return this.target().off("allfinished.fx",e).on("allfinished.fx",e),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(t,e,i){return this.last()[i||"animations"][t]=e,this._callStart()},step:function(t){var e,i,n;t||(this.absPos=this.timeToAbsPos(+new Date)),!1!==this.situation.loops?(e=Math.max(this.absPos,0),i=Math.floor(e),!0===this.situation.loops||i<this.situation.loops?(this.pos=e-i,n=this.situation.loop,this.situation.loop=i):(this.absPos=this.situation.loops,this.pos=1,n=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=Boolean((this.situation.loop-n)%2))):(this.absPos=Math.min(this.absPos,1),this.pos=this.absPos),this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var r=this.situation.ease(this.pos);for(var s in this.situation.once)s>this.lastPos&&s<=r&&(this.situation.once[s].call(this.target(),this.pos,r),delete this.situation.once[s]);return this.active&&this.target().fire("during",{pos:this.pos,eased:r,fx:this,situation:this.situation}),this.situation?(this.eachAt(),1==this.pos&&!this.situation.reversed||this.situation.reversed&&0==this.pos?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=r,this):this},eachAt:function(){var t,e=this,n=this.target(),r=this.situation;for(var s in r.animations)t=[].concat(r.animations[s]).map((function(t){return"string"!=typeof t&&t.at?t.at(r.ease(e.pos),e.pos):t})),n[s].apply(n,t);for(var s in r.attrs)t=[s].concat(r.attrs[s]).map((function(t){return"string"!=typeof t&&t.at?t.at(r.ease(e.pos),e.pos):t})),n.attr.apply(n,t);for(var s in r.styles)t=[s].concat(r.styles[s]).map((function(t){return"string"!=typeof t&&t.at?t.at(r.ease(e.pos),e.pos):t})),n.style.apply(n,t);if(r.transforms.length){t=r.initialTransformation,s=0;for(var a=r.transforms.length;s<a;s++){var o=r.transforms[s];o instanceof i.Matrix?t=o.relative?t.multiply((new i.Matrix).morph(o).at(r.ease(this.pos))):t.morph(o).at(r.ease(this.pos)):(o.relative||o.undo(t.extract()),t=t.multiply(o.at(r.ease(this.pos))))}n.matrix(t)}return this},once:function(t,e,i){var n=this.last();return i||(t=n.ease(t)),n.once[t]=e,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:i.Element,construct:{animate:function(t,e,n){return(this.fx||(this.fx=new i.FX(this))).animate(t,e,n)},delay:function(t){return(this.fx||(this.fx=new i.FX(this))).delay(t)},stop:function(t,e){return this.fx&&this.fx.stop(t,e),this},finish:function(){return this.fx&&this.fx.finish(),this}}}),i.MorphObj=i.invent({create:function(t,e){return i.Color.isColor(e)?new i.Color(t).morph(e):i.regex.delimiter.test(t)?i.regex.pathLetters.test(t)?new i.PathArray(t).morph(e):new i.Array(t).morph(e):i.regex.numberAndUnit.test(e)?new i.Number(t).morph(e):(this.value=t,void(this.destination=e))},extend:{at:function(t,e){return e<1?this.value:this.destination},valueOf:function(){return this.value}}}),i.extend(i.FX,{attr:function(t,e,i){if("object"===a(t))for(var n in t)this.attr(n,t[n]);else this.add(t,e,"attrs");return this},plot:function(t,e,i,n){return 4==arguments.length?this.plot([t,e,i,n]):this.add("plot",new(this.target().morphArray)(t))}}),i.Box=i.invent({create:function(t,e,n,r){if(!("object"!==a(t)||t instanceof i.Element))return i.Box.call(this,null!=t.left?t.left:t.x,null!=t.top?t.top:t.y,t.width,t.height);4==arguments.length&&(this.x=t,this.y=e,this.width=n,this.height=r),v(this)}}),i.BBox=i.invent({create:function(t){if(i.Box.apply(this,[].slice.call(arguments)),t instanceof i.Element){var n;try{if(!e.documentElement.contains){for(var r=t.node;r.parentNode;)r=r.parentNode;if(r!=e)throw new Error("Element not in the dom")}n=t.node.getBBox()}catch(e){if(t instanceof i.Shape){i.parser.draw||i.prepare();var s=t.clone(i.parser.draw.instance).show();s&&s.node&&"function"==typeof s.node.getBBox&&(n=s.node.getBBox()),s&&"function"==typeof s.remove&&s.remove()}else n={x:t.node.clientLeft,y:t.node.clientTop,width:t.node.clientWidth,height:t.node.clientHeight}}i.Box.call(this,n)}},inherit:i.Box,parent:i.Element,construct:{bbox:function(){return new i.BBox(this)}}}),i.BBox.prototype.constructor=i.BBox,i.Matrix=i.invent({create:function(t){var e=g([1,0,0,1,0,0]);t=null===t?e:t instanceof i.Element?t.matrixify():"string"==typeof t?g(t.split(i.regex.delimiter).map(parseFloat)):6==arguments.length?g([].slice.call(arguments)):Array.isArray(t)?g(t):t&&"object"===a(t)?t:e;for(var n=x.length-1;n>=0;--n)this[x[n]]=null!=t[x[n]]?t[x[n]]:e[x[n]]},extend:{extract:function(){var t=p(this,0,1);p(this,1,0);var e=180/Math.PI*Math.atan2(t.y,t.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(e*Math.PI/180)+this.f*Math.sin(e*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(e*Math.PI/180)+this.e*Math.sin(-e*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),rotation:e,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new i.Matrix(this)}},clone:function(){return new i.Matrix(this)},morph:function(t){return this.destination=new i.Matrix(t),this},multiply:function(t){return new i.Matrix(this.native().multiply(function(t){return t instanceof i.Matrix||(t=new i.Matrix(t)),t}(t).native()))},inverse:function(){return new i.Matrix(this.native().inverse())},translate:function(t,e){return new i.Matrix(this.native().translate(t||0,e||0))},native:function(){for(var t=i.parser.native.createSVGMatrix(),e=x.length-1;e>=0;e--)t[x[e]]=this[x[e]];return t},toString:function(){return"matrix("+y(this.a)+","+y(this.b)+","+y(this.c)+","+y(this.d)+","+y(this.e)+","+y(this.f)+")"}},parent:i.Element,construct:{ctm:function(){return new i.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof i.Nested){var t=this.rect(1,1),e=t.node.getScreenCTM();return t.remove(),new i.Matrix(e)}return new i.Matrix(this.node.getScreenCTM())}}}),i.Point=i.invent({create:function(t,e){var i;i=Array.isArray(t)?{x:t[0],y:t[1]}:"object"===a(t)?{x:t.x,y:t.y}:null!=t?{x:t,y:null!=e?e:t}:{x:0,y:0},this.x=i.x,this.y=i.y},extend:{clone:function(){return new i.Point(this)},morph:function(t,e){return this.destination=new i.Point(t,e),this}}}),i.extend(i.Element,{point:function(t,e){return new i.Point(t,e).transform(this.screenCTM().inverse())}}),i.extend(i.Element,{attr:function(t,e,n){if(null==t){for(t={},n=(e=this.node.attributes).length-1;n>=0;n--)t[e[n].nodeName]=i.regex.isNumber.test(e[n].nodeValue)?parseFloat(e[n].nodeValue):e[n].nodeValue;return t}if("object"===a(t))for(var r in t)this.attr(r,t[r]);else if(null===e)this.node.removeAttribute(t);else{if(null==e)return null==(e=this.node.getAttribute(t))?i.defaults.attrs[t]:i.regex.isNumber.test(e)?parseFloat(e):e;"stroke-width"==t?this.attr("stroke",parseFloat(e)>0?this._stroke:null):"stroke"==t&&(this._stroke=e),"fill"!=t&&"stroke"!=t||(i.regex.isImage.test(e)&&(e=this.doc().defs().image(e,0,0)),e instanceof i.Image&&(e=this.doc().defs().pattern(0,0,(function(){this.add(e)})))),"number"==typeof e?e=new i.Number(e):i.Color.isColor(e)?e=new i.Color(e):Array.isArray(e)&&(e=new i.Array(e)),"leading"==t?this.leading&&this.leading(e):"string"==typeof n?this.node.setAttributeNS(n,t,e.toString()):this.node.setAttribute(t,e.toString()),!this.rebuild||"font-size"!=t&&"x"!=t||this.rebuild(t,e)}return this}}),i.extend(i.Element,{transform:function(t,e){var n;return"object"!==a(t)?(n=new i.Matrix(this).extract(),"string"==typeof t?n[t]:n):(n=new i.Matrix(this),e=!!e||!!t.relative,null!=t.a&&(n=e?n.multiply(new i.Matrix(t)):new i.Matrix(t)),this.attr("transform",n))}}),i.extend(i.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(i.regex.transforms).slice(0,-1).map((function(t){var e=t.trim().split("(");return[e[0],e[1].split(i.regex.delimiter).map((function(t){return parseFloat(t)}))]})).reduce((function(t,e){return"matrix"==e[0]?t.multiply(g(e[1])):t[e[0]].apply(t,e[1])}),new i.Matrix)},toParent:function(t){if(this==t)return this;var e=this.screenCTM(),i=t.screenCTM().inverse();return this.addTo(t).untransform().transform(i.multiply(e)),this},toDoc:function(){return this.toParent(this.doc())}}),i.Transformation=i.invent({create:function(t,e){if(arguments.length>1&&"boolean"!=typeof e)return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(t))for(var i=0,n=this.arguments.length;i<n;++i)this[this.arguments[i]]=t[i];else if(t&&"object"===a(t))for(i=0,n=this.arguments.length;i<n;++i)this[this.arguments[i]]=t[this.arguments[i]];this.inversed=!1,!0===e&&(this.inversed=!0)}}),i.Translate=i.invent({parent:i.Matrix,inherit:i.Transformation,create:function(t,e){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),i.extend(i.Element,{style:function(t,e){if(0==arguments.length)return this.node.style.cssText||"";if(arguments.length<2)if("object"===a(t))for(var n in t)this.style(n,t[n]);else{if(!i.regex.isCss.test(t))return this.node.style[h(t)];for(t=t.split(/\s*;\s*/).filter((function(t){return!!t})).map((function(t){return t.split(/\s*:\s*/)}));e=t.pop();)this.style(e[0],e[1])}else this.node.style[h(t)]=null===e||i.regex.isBlank.test(e)?"":e;return this}}),i.Parent=i.invent({create:function(t){this.constructor.call(this,t)},inherit:i.Element,extend:{children:function(){return i.utils.map(i.utils.filterSVGElements(this.node.childNodes),(function(t){return i.adopt(t)}))},add:function(t,e){return null==e?this.node.appendChild(t.node):t.node!=this.node.childNodes[e]&&this.node.insertBefore(t.node,this.node.childNodes[e]),this},put:function(t,e){return this.add(t,e),t},has:function(t){return this.index(t)>=0},index:function(t){return[].slice.call(this.node.childNodes).indexOf(t.node)},get:function(t){return i.adopt(this.node.childNodes[t])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(t,e){for(var n=this.children(),r=0,s=n.length;r<s;r++)n[r]instanceof i.Element&&t.apply(n[r],[r,n]),e&&n[r]instanceof i.Container&&n[r].each(t,e);return this},removeElement:function(t){return this.node.removeChild(t.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),i.extend(i.Parent,{ungroup:function(t,e){return 0===e||this instanceof i.Defs||this.node==i.parser.draw||(t=t||(this instanceof i.Doc?this:this.parent(i.Parent)),e=e||1/0,this.each((function(){return this instanceof i.Defs?this:this instanceof i.Parent?this.ungroup(t,e-1):this.toParent(t)})),this.node.firstChild||this.remove()),this},flatten:function(t,e){return this.ungroup(t,e)}}),i.Container=i.invent({create:function(t){this.constructor.call(this,t)},inherit:i.Parent}),i.ViewBox=i.invent({parent:i.Container,construct:{}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach((function(t){i.Element.prototype[t]=function(e){return i.on(this.node,t,e),this}})),i.listeners=[],i.handlerMap=[],i.listenerId=0,i.on=function(t,e,n,r,s){var a=n.bind(r||t.instance||t),o=(i.handlerMap.indexOf(t)+1||i.handlerMap.push(t))-1,l=e.split(".")[0],c=e.split(".")[1]||"*";i.listeners[o]=i.listeners[o]||{},i.listeners[o][l]=i.listeners[o][l]||{},i.listeners[o][l][c]=i.listeners[o][l][c]||{},n._svgjsListenerId||(n._svgjsListenerId=++i.listenerId),i.listeners[o][l][c][n._svgjsListenerId]=a,t.addEventListener(l,a,s||{passive:!0})},i.off=function(t,e,n){var r=i.handlerMap.indexOf(t),s=e&&e.split(".")[0],a=e&&e.split(".")[1],o="";if(-1!=r)if(n){if("function"==typeof n&&(n=n._svgjsListenerId),!n)return;i.listeners[r][s]&&i.listeners[r][s][a||"*"]&&(t.removeEventListener(s,i.listeners[r][s][a||"*"][n],!1),delete i.listeners[r][s][a||"*"][n])}else if(a&&s){if(i.listeners[r][s]&&i.listeners[r][s][a]){for(var l in i.listeners[r][s][a])i.off(t,[s,a].join("."),l);delete i.listeners[r][s][a]}}else if(a)for(var c in i.listeners[r])for(var o in i.listeners[r][c])a===o&&i.off(t,[c,a].join("."));else if(s){if(i.listeners[r][s]){for(var o in i.listeners[r][s])i.off(t,[s,o].join("."));delete i.listeners[r][s]}}else{for(var c in i.listeners[r])i.off(t,c);delete i.listeners[r],delete i.handlerMap[r]}},i.extend(i.Element,{on:function(t,e,n,r){return i.on(this.node,t,e,n,r),this},off:function(t,e){return i.off(this.node,t,e),this},fire:function(e,n){return e instanceof t.Event?this.node.dispatchEvent(e):this.node.dispatchEvent(e=new i.CustomEvent(e,{detail:n,cancelable:!0})),this._event=e,this},event:function(){return this._event}}),i.Defs=i.invent({create:"defs",inherit:i.Container}),i.G=i.invent({create:"g",inherit:i.Container,extend:{x:function(t){return null==t?this.transform("x"):this.transform({x:t-this.x()},!0)}},construct:{group:function(){return this.put(new i.G)}}}),i.Doc=i.invent({create:function(t){t&&("svg"==(t="string"==typeof t?e.getElementById(t):t).nodeName?this.constructor.call(this,t):(this.constructor.call(this,i.create("svg")),t.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:i.Container,extend:{namespace:function(){return this.attr({xmlns:i.ns,version:"1.1"}).attr("xmlns:xlink",i.xlink,i.xmlns).attr("xmlns:svgjs",i.svgjs,i.xmlns)},defs:function(){var t;return this._defs||((t=this.node.getElementsByTagName("defs")[0])?this._defs=i.adopt(t):this._defs=new i.Defs,this.node.appendChild(this._defs.node)),this._defs},parent:function(){return this.node.parentNode&&"#document"!=this.node.parentNode.nodeName?this.node.parentNode:null},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,i.parser.draw&&!i.parser.draw.parentNode&&this.node.appendChild(i.parser.draw),this},clone:function(t){this.writeDataToDom();var e=this.node,i=m(e.cloneNode(!0));return t?(t.node||t).appendChild(i.node):e.parentNode.insertBefore(i.node,e.nextSibling),i}}}),i.extend(i.Element,{}),i.Gradient=i.invent({create:function(t){this.constructor.call(this,i.create(t+"Gradient")),this.type=t},inherit:i.Container,extend:{at:function(t,e,n){return this.put(new i.Stop).update(t,e,n)},update:function(t){return this.clear(),"function"==typeof t&&t.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(t,e,n){return"transform"==t&&(t="gradientTransform"),i.Container.prototype.attr.call(this,t,e,n)}},construct:{gradient:function(t,e){return this.defs().gradient(t,e)}}}),i.extend(i.Gradient,i.FX,{from:function(t,e){return"radial"==(this._target||this).type?this.attr({fx:new i.Number(t),fy:new i.Number(e)}):this.attr({x1:new i.Number(t),y1:new i.Number(e)})},to:function(t,e){return"radial"==(this._target||this).type?this.attr({cx:new i.Number(t),cy:new i.Number(e)}):this.attr({x2:new i.Number(t),y2:new i.Number(e)})}}),i.extend(i.Defs,{gradient:function(t,e){return this.put(new i.Gradient(t)).update(e)}}),i.Stop=i.invent({create:"stop",inherit:i.Element,extend:{update:function(t){return("number"==typeof t||t instanceof i.Number)&&(t={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=t.opacity&&this.attr("stop-opacity",t.opacity),null!=t.color&&this.attr("stop-color",t.color),null!=t.offset&&this.attr("offset",new i.Number(t.offset)),this}}}),i.Pattern=i.invent({create:"pattern",inherit:i.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(t){return this.clear(),"function"==typeof t&&t.call(this,this),this},toString:function(){return this.fill()},attr:function(t,e,n){return"transform"==t&&(t="patternTransform"),i.Container.prototype.attr.call(this,t,e,n)}},construct:{pattern:function(t,e,i){return this.defs().pattern(t,e,i)}}}),i.extend(i.Defs,{pattern:function(t,e,n){return this.put(new i.Pattern).update(n).attr({x:0,y:0,width:t,height:e,patternUnits:"userSpaceOnUse"})}}),i.Shape=i.invent({create:function(t){this.constructor.call(this,t)},inherit:i.Element}),i.Symbol=i.invent({create:"symbol",inherit:i.Container,construct:{symbol:function(){return this.put(new i.Symbol)}}}),i.Use=i.invent({create:"use",inherit:i.Shape,extend:{element:function(t,e){return this.attr("href",(e||"")+"#"+t,i.xlink)}},construct:{use:function(t,e){return this.put(new i.Use).element(t,e)}}}),i.Rect=i.invent({create:"rect",inherit:i.Shape,construct:{rect:function(t,e){return this.put(new i.Rect).size(t,e)}}}),i.Circle=i.invent({create:"circle",inherit:i.Shape,construct:{circle:function(t){return this.put(new i.Circle).rx(new i.Number(t).divide(2)).move(0,0)}}}),i.extend(i.Circle,i.FX,{rx:function(t){return this.attr("r",t)},ry:function(t){return this.rx(t)}}),i.Ellipse=i.invent({create:"ellipse",inherit:i.Shape,construct:{ellipse:function(t,e){return this.put(new i.Ellipse).size(t,e).move(0,0)}}}),i.extend(i.Ellipse,i.Rect,i.FX,{rx:function(t){return this.attr("rx",t)},ry:function(t){return this.attr("ry",t)}}),i.extend(i.Circle,i.Ellipse,{x:function(t){return null==t?this.cx()-this.rx():this.cx(t+this.rx())},y:function(t){return null==t?this.cy()-this.ry():this.cy(t+this.ry())},cx:function(t){return null==t?this.attr("cx"):this.attr("cx",t)},cy:function(t){return null==t?this.attr("cy"):this.attr("cy",t)},width:function(t){return null==t?2*this.rx():this.rx(new i.Number(t).divide(2))},height:function(t){return null==t?2*this.ry():this.ry(new i.Number(t).divide(2))},size:function(t,e){var n=f(this,t,e);return this.rx(new i.Number(n.width).divide(2)).ry(new i.Number(n.height).divide(2))}}),i.Line=i.invent({create:"line",inherit:i.Shape,extend:{array:function(){return new i.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(t,e,n,r){return null==t?this.array():(t=void 0!==e?{x1:t,y1:e,x2:n,y2:r}:new i.PointArray(t).toLine(),this.attr(t))},move:function(t,e){return this.attr(this.array().move(t,e).toLine())},size:function(t,e){var i=f(this,t,e);return this.attr(this.array().size(i.width,i.height).toLine())}},construct:{line:function(t,e,n,r){return i.Line.prototype.plot.apply(this.put(new i.Line),null!=t?[t,e,n,r]:[0,0,0,0])}}}),i.Polyline=i.invent({create:"polyline",inherit:i.Shape,construct:{polyline:function(t){return this.put(new i.Polyline).plot(t||new i.PointArray)}}}),i.Polygon=i.invent({create:"polygon",inherit:i.Shape,construct:{polygon:function(t){return this.put(new i.Polygon).plot(t||new i.PointArray)}}}),i.extend(i.Polyline,i.Polygon,{array:function(){return this._array||(this._array=new i.PointArray(this.attr("points")))},plot:function(t){return null==t?this.array():this.clear().attr("points","string"==typeof t?t:this._array=new i.PointArray(t))},clear:function(){return delete this._array,this},move:function(t,e){return this.attr("points",this.array().move(t,e))},size:function(t,e){var i=f(this,t,e);return this.attr("points",this.array().size(i.width,i.height))}}),i.extend(i.Line,i.Polyline,i.Polygon,{morphArray:i.PointArray,x:function(t){return null==t?this.bbox().x:this.move(t,this.bbox().y)},y:function(t){return null==t?this.bbox().y:this.move(this.bbox().x,t)},width:function(t){var e=this.bbox();return null==t?e.width:this.size(t,e.height)},height:function(t){var e=this.bbox();return null==t?e.height:this.size(e.width,t)}}),i.Path=i.invent({create:"path",inherit:i.Shape,extend:{morphArray:i.PathArray,array:function(){return this._array||(this._array=new i.PathArray(this.attr("d")))},plot:function(t){return null==t?this.array():this.clear().attr("d","string"==typeof t?t:this._array=new i.PathArray(t))},clear:function(){return delete this._array,this}},construct:{path:function(t){return this.put(new i.Path).plot(t||new i.PathArray)}}}),i.Image=i.invent({create:"image",inherit:i.Shape,extend:{load:function(e){if(!e)return this;var n=this,r=new t.Image;return i.on(r,"load",(function(){i.off(r);var t=n.parent(i.Pattern);null!==t&&(0==n.width()&&0==n.height()&&n.size(r.width,r.height),t&&0==t.width()&&0==t.height()&&t.size(n.width(),n.height()),"function"==typeof n._loaded&&n._loaded.call(n,{width:r.width,height:r.height,ratio:r.width/r.height,url:e}))})),i.on(r,"error",(function(t){i.off(r),"function"==typeof n._error&&n._error.call(n,t)})),this.attr("href",r.src=this.src=e,i.xlink)},loaded:function(t){return this._loaded=t,this},error:function(t){return this._error=t,this}},construct:{image:function(t,e,n){return this.put(new i.Image).load(t).size(e||0,n||e||0)}}}),i.Text=i.invent({create:function(){this.constructor.call(this,i.create("text")),this.dom.leading=new i.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",i.defaults.attrs["font-family"])},inherit:i.Shape,extend:{x:function(t){return null==t?this.attr("x"):this.attr("x",t)},text:function(t){if(void 0===t){t="";for(var e=this.node.childNodes,n=0,r=e.length;n<r;++n)0!=n&&3!=e[n].nodeType&&1==i.adopt(e[n]).dom.newLined&&(t+="\n"),t+=e[n].textContent;return t}if(this.clear().build(!0),"function"==typeof t)t.call(this,this);else{n=0;for(var s=(t=t.split("\n")).length;n<s;n++)this.tspan(t[n]).newLine()}return this.build(!1).rebuild()},size:function(t){return this.attr("font-size",t).rebuild()},leading:function(t){return null==t?this.dom.leading:(this.dom.leading=new i.Number(t),this.rebuild())},lines:function(){var t=(this.textPath&&this.textPath()||this).node,e=i.utils.map(i.utils.filterSVGElements(t.childNodes),(function(t){return i.adopt(t)}));return new i.Set(e)},rebuild:function(t){if("boolean"==typeof t&&(this._rebuild=t),this._rebuild){var e=this,n=0,r=this.dom.leading*new i.Number(this.attr("font-size"));this.lines().each((function(){this.dom.newLined&&(e.textPath()||this.attr("x",e.attr("x")),"\n"==this.text()?n+=r:(this.attr("dy",r+n),n=0))})),this.fire("rebuild")}return this},build:function(t){return this._build=!!t,this},setData:function(t){return this.dom=t,this.dom.leading=new i.Number(t.leading||1.3),this}},construct:{text:function(t){return this.put(new i.Text).text(t)},plain:function(t){return this.put(new i.Text).plain(t)}}}),i.Tspan=i.invent({create:"tspan",inherit:i.Shape,extend:{text:function(t){return null==t?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof t?t.call(this,this):this.plain(t),this)},dx:function(t){return this.attr("dx",t)},dy:function(t){return this.attr("dy",t)},newLine:function(){var t=this.parent(i.Text);return this.dom.newLined=!0,this.dy(t.dom.leading*t.attr("font-size")).attr("x",t.x())}}}),i.extend(i.Text,i.Tspan,{plain:function(t){return!1===this._build&&this.clear(),this.node.appendChild(e.createTextNode(t)),this},tspan:function(t){var e=(this.textPath&&this.textPath()||this).node,n=new i.Tspan;return!1===this._build&&this.clear(),e.appendChild(n.node),n.text(t)},clear:function(){for(var t=(this.textPath&&this.textPath()||this).node;t.hasChildNodes();)t.removeChild(t.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),i.TextPath=i.invent({create:"textPath",inherit:i.Parent,parent:i.Text,construct:{morphArray:i.PathArray,array:function(){var t=this.track();return t?t.array():null},plot:function(t){var e=this.track(),i=null;return e&&(i=e.plot(t)),null==t?i:this},track:function(){var t=this.textPath();if(t)return t.reference("href")},textPath:function(){if(this.node.firstChild&&"textPath"==this.node.firstChild.nodeName)return i.adopt(this.node.firstChild)}}}),i.Nested=i.invent({create:function(){this.constructor.call(this,i.create("svg")),this.style("overflow","visible")},inherit:i.Container,construct:{nested:function(){return this.put(new i.Nested)}}});var l={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(t,e){return"color"==e?t:t+"-"+e}};function c(t,e,n,r){return n+r.replace(i.regex.dots," .")}function h(t){return t.toLowerCase().replace(/-(.)/g,(function(t,e){return e.toUpperCase()}))}function u(t){return t.charAt(0).toUpperCase()+t.slice(1)}function d(t){var e=t.toString(16);return 1==e.length?"0"+e:e}function f(t,e,i){if(null==e||null==i){var n=t.bbox();null==e?e=n.width/n.height*i:null==i&&(i=n.height/n.width*e)}return{width:e,height:i}}function p(t,e,i){return{x:e*t.a+i*t.c+0,y:e*t.b+i*t.d+0}}function g(t){return{a:t[0],b:t[1],c:t[2],d:t[3],e:t[4],f:t[5]}}function m(e){for(var n=e.childNodes.length-1;n>=0;n--)e.childNodes[n]instanceof t.SVGElement&&m(e.childNodes[n]);return i.adopt(e).id(i.eid(e.nodeName))}function v(t){return null==t.x&&(t.x=0,t.y=0,t.width=0,t.height=0),t.w=t.width,t.h=t.height,t.x2=t.x+t.width,t.y2=t.y+t.height,t.cx=t.x+t.width/2,t.cy=t.y+t.height/2,t}function y(t){return Math.abs(t)>1e-37?t:0}["fill","stroke"].forEach((function(t){var e={};e[t]=function(e){if(void 0===e)return this;if("string"==typeof e||i.Color.isRgb(e)||e&&"function"==typeof e.fill)this.attr(t,e);else for(var n=l[t].length-1;n>=0;n--)null!=e[l[t][n]]&&this.attr(l.prefix(t,l[t][n]),e[l[t][n]]);return this},i.extend(i.Element,i.FX,e)})),i.extend(i.Element,i.FX,{translate:function(t,e){return this.transform({x:t,y:e})},matrix:function(t){return this.attr("transform",new i.Matrix(6==arguments.length?[].slice.call(arguments):t))},opacity:function(t){return this.attr("opacity",t)},dx:function(t){return this.x(new i.Number(t).plus(this instanceof i.FX?0:this.x()),!0)},dy:function(t){return this.y(new i.Number(t).plus(this instanceof i.FX?0:this.y()),!0)}}),i.extend(i.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(t){return this.node.getPointAtLength(t)}}),i.Set=i.invent({create:function(t){Array.isArray(t)?this.members=t:this.clear()},extend:{add:function(){for(var t=[].slice.call(arguments),e=0,i=t.length;e<i;e++)this.members.push(t[e]);return this},remove:function(t){var e=this.index(t);return e>-1&&this.members.splice(e,1),this},each:function(t){for(var e=0,i=this.members.length;e<i;e++)t.apply(this.members[e],[e,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(t){return this.index(t)>=0},index:function(t){return this.members.indexOf(t)},get:function(t){return this.members[t]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members}},construct:{set:function(t){return new i.Set(t)}}}),i.FX.Set=i.invent({create:function(t){this.set=t}}),i.Set.inherit=function(){var t=[];for(var e in i.Shape.prototype)"function"==typeof i.Shape.prototype[e]&&"function"!=typeof i.Set.prototype[e]&&t.push(e);for(var e in t.forEach((function(t){i.Set.prototype[t]=function(){for(var e=0,n=this.members.length;e<n;e++)this.members[e]&&"function"==typeof this.members[e][t]&&this.members[e][t].apply(this.members[e],arguments);return"animate"==t?this.fx||(this.fx=new i.FX.Set(this)):this}})),t=[],i.FX.prototype)"function"==typeof i.FX.prototype[e]&&"function"!=typeof i.FX.Set.prototype[e]&&t.push(e);t.forEach((function(t){i.FX.Set.prototype[t]=function(){for(var e=0,i=this.set.members.length;e<i;e++)this.set.members[e].fx[t].apply(this.set.members[e].fx,arguments);return this}}))},i.extend(i.Element,{}),i.extend(i.Element,{remember:function(t,e){if("object"===a(arguments[0]))for(var i in t)this.remember(i,t[i]);else{if(1==arguments.length)return this.memory()[t];this.memory()[t]=e}return this},forget:function(){if(0==arguments.length)this._memory={};else for(var t=arguments.length-1;t>=0;t--)delete this.memory()[arguments[t]];return this},memory:function(){return this._memory||(this._memory={})}}),i.get=function(t){var n=e.getElementById(function(t){var e=(t||"").toString().match(i.regex.reference);if(e)return e[1]}(t)||t);return i.adopt(n)},i.select=function(t,n){return new i.Set(i.utils.map((n||e).querySelectorAll(t),(function(t){return i.adopt(t)})))},i.extend(i.Parent,{select:function(t){return i.select(t,this.node)}});var x="abcdef".split("");if("function"!=typeof t.CustomEvent){var b=function(t,i){i=i||{bubbles:!1,cancelable:!1,detail:void 0};var n=e.createEvent("CustomEvent");return n.initCustomEvent(t,i.bubbles,i.cancelable,i.detail),n};b.prototype=t.Event.prototype,i.CustomEvent=b}else i.CustomEvent=t.CustomEvent;return i},n=function(){return Mt(Nt,Nt.document)}.call(e,i,e,t),void 0!==n&&(t.exports=n),
/*! svg.filter.js - v2.0.2 - 2016-02-24
* https://github.com/wout/svg.filter.js
* Copyright (c) 2016 Wout Fierens; Licensed MIT */
function(){SVG.Filter=SVG.invent({create:"filter",inherit:SVG.Parent,extend:{source:"SourceGraphic",sourceAlpha:"SourceAlpha",background:"BackgroundImage",backgroundAlpha:"BackgroundAlpha",fill:"FillPaint",stroke:"StrokePaint",autoSetIn:!0,put:function(t,e){return this.add(t,e),!t.attr("in")&&this.autoSetIn&&t.attr("in",this.source),t.attr("result")||t.attr("result",t),t},blend:function(t,e,i){return this.put(new SVG.BlendEffect(t,e,i))},colorMatrix:function(t,e){return this.put(new SVG.ColorMatrixEffect(t,e))},convolveMatrix:function(t){return this.put(new SVG.ConvolveMatrixEffect(t))},componentTransfer:function(t){return this.put(new SVG.ComponentTransferEffect(t))},composite:function(t,e,i){return this.put(new SVG.CompositeEffect(t,e,i))},flood:function(t,e){return this.put(new SVG.FloodEffect(t,e))},offset:function(t,e){return this.put(new SVG.OffsetEffect(t,e))},image:function(t){return this.put(new SVG.ImageEffect(t))},merge:function(){var t=[void 0];for(var e in arguments)t.push(arguments[e]);return this.put(new(SVG.MergeEffect.bind.apply(SVG.MergeEffect,t)))},gaussianBlur:function(t,e){return this.put(new SVG.GaussianBlurEffect(t,e))},morphology:function(t,e){return this.put(new SVG.MorphologyEffect(t,e))},diffuseLighting:function(t,e,i){return this.put(new SVG.DiffuseLightingEffect(t,e,i))},displacementMap:function(t,e,i,n,r){return this.put(new SVG.DisplacementMapEffect(t,e,i,n,r))},specularLighting:function(t,e,i,n){return this.put(new SVG.SpecularLightingEffect(t,e,i,n))},tile:function(){return this.put(new SVG.TileEffect)},turbulence:function(t,e,i,n,r){return this.put(new SVG.TurbulenceEffect(t,e,i,n,r))},toString:function(){return"url(#"+this.attr("id")+")"}}}),SVG.extend(SVG.Defs,{filter:function(t){var e=this.put(new SVG.Filter);return"function"==typeof t&&t.call(e,e),e}}),SVG.extend(SVG.Container,{filter:function(t){return this.defs().filter(t)}}),SVG.extend(SVG.Element,SVG.G,SVG.Nested,{filter:function(t){return this.filterer=t instanceof SVG.Element?t:this.doc().filter(t),this.doc()&&this.filterer.doc()!==this.doc()&&this.doc().defs().add(this.filterer),this.attr("filter",this.filterer),this.filterer},unfilter:function(t){return this.filterer&&!0===t&&this.filterer.remove(),delete this.filterer,this.attr("filter",null)}}),SVG.Effect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(t){return null==t?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",t)},result:function(t){return null==t?this.attr("result"):this.attr("result",t)},toString:function(){return this.result()}}}),SVG.ParentEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Parent,extend:{in:function(t){return null==t?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",t)},result:function(t){return null==t?this.attr("result"):this.attr("result",t)},toString:function(){return this.result()}}});var t={blend:function(t,e){return this.parent()&&this.parent().blend(this,t,e)},colorMatrix:function(t,e){return this.parent()&&this.parent().colorMatrix(t,e).in(this)},convolveMatrix:function(t){return this.parent()&&this.parent().convolveMatrix(t).in(this)},componentTransfer:function(t){return this.parent()&&this.parent().componentTransfer(t).in(this)},composite:function(t,e){return this.parent()&&this.parent().composite(this,t,e)},flood:function(t,e){return this.parent()&&this.parent().flood(t,e)},offset:function(t,e){return this.parent()&&this.parent().offset(t,e).in(this)},image:function(t){return this.parent()&&this.parent().image(t)},merge:function(){return this.parent()&&this.parent().merge.apply(this.parent(),[this].concat(arguments))},gaussianBlur:function(t,e){return this.parent()&&this.parent().gaussianBlur(t,e).in(this)},morphology:function(t,e){return this.parent()&&this.parent().morphology(t,e).in(this)},diffuseLighting:function(t,e,i){return this.parent()&&this.parent().diffuseLighting(t,e,i).in(this)},displacementMap:function(t,e,i,n){return this.parent()&&this.parent().displacementMap(this,t,e,i,n)},specularLighting:function(t,e,i,n){return this.parent()&&this.parent().specularLighting(t,e,i,n).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(t,e,i,n,r){return this.parent()&&this.parent().turbulence(t,e,i,n,r).in(this)}};SVG.extend(SVG.Effect,t),SVG.extend(SVG.ParentEffect,t),SVG.ChildEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(t){this.attr("in",t)}}});var e={blend:function(t,e,i){this.attr({in:t,in2:e,mode:i||"normal"})},colorMatrix:function(t,e){"matrix"==t&&(e=r(e)),this.attr({type:t,values:void 0===e?null:e})},convolveMatrix:function(t){t=r(t),this.attr({order:Math.sqrt(t.split(" ").length),kernelMatrix:t})},composite:function(t,e,i){this.attr({in:t,in2:e,operator:i})},flood:function(t,e){this.attr("flood-color",t),null!=e&&this.attr("flood-opacity",e)},offset:function(t,e){this.attr({dx:t,dy:e})},image:function(t){this.attr("href",t,SVG.xlink)},displacementMap:function(t,e,i,n,r){this.attr({in:t,in2:e,scale:i,xChannelSelector:n,yChannelSelector:r})},gaussianBlur:function(t,e){null!=t||null!=e?this.attr("stdDeviation",s(Array.prototype.slice.call(arguments))):this.attr("stdDeviation","0 0")},morphology:function(t,e){this.attr({operator:t,radius:e})},tile:function(){},turbulence:function(t,e,i,n,r){this.attr({numOctaves:e,seed:i,stitchTiles:n,baseFrequency:t,type:r})}},i={merge:function(){var t;if(arguments[0]instanceof SVG.Set){var e=this;arguments[0].each((function(t){this instanceof SVG.MergeNode?e.put(this):(this instanceof SVG.Effect||this instanceof SVG.ParentEffect)&&e.put(new SVG.MergeNode(this))}))}else{t=Array.isArray(arguments[0])?arguments[0]:arguments;for(var i=0;i<t.length;i++)t[i]instanceof SVG.MergeNode?this.put(t[i]):this.put(new SVG.MergeNode(t[i]))}},componentTransfer:function(t){if(this.rgb=new SVG.Set,["r","g","b","a"].forEach(function(t){this[t]=new(SVG["Func"+t.toUpperCase()])("identity"),this.rgb.add(this[t]),this.node.appendChild(this[t].node)}.bind(this)),t)for(var e in t.rgb&&(["r","g","b"].forEach(function(e){this[e].attr(t.rgb)}.bind(this)),delete t.rgb),t)this[e].attr(t[e])},diffuseLighting:function(t,e,i){this.attr({surfaceScale:t,diffuseConstant:e,kernelUnitLength:i})},specularLighting:function(t,e,i,n){this.attr({surfaceScale:t,diffuseConstant:e,specularExponent:i,kernelUnitLength:n})}},n={distantLight:function(t,e){this.attr({azimuth:t,elevation:e})},pointLight:function(t,e,i){this.attr({x:t,y:e,z:i})},spotLight:function(t,e,i,n,r,s){this.attr({x:t,y:e,z:i,pointsAtX:n,pointsAtY:r,pointsAtZ:s})},mergeNode:function(t){this.attr("in",t)}};function r(t){return Array.isArray(t)&&(t=new SVG.Array(t)),t.toString().replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}function s(t){if(!Array.isArray(t))return t;for(var e=0,i=t.length,n=[];e<i;e++)n.push(t[e]);return n.join(" ")}function a(){var t=function(){};for(var e in"function"==typeof arguments[arguments.length-1]&&(t=arguments[arguments.length-1],Array.prototype.splice.call(arguments,arguments.length-1,1)),arguments)for(var i in arguments[e])t(arguments[e][i],i,arguments[e])}["r","g","b","a"].forEach((function(t){n["Func"+t.toUpperCase()]=function(t){switch(this.attr("type",t),t){case"table":this.attr("tableValues",arguments[1]);break;case"linear":this.attr("slope",arguments[1]),this.attr("intercept",arguments[2]);break;case"gamma":this.attr("amplitude",arguments[1]),this.attr("exponent",arguments[2]),this.attr("offset",arguments[2])}}})),a(e,(function(t,e){var i=e.charAt(0).toUpperCase()+e.slice(1);SVG[i+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+i)),t.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.Effect,extend:{}})})),a(i,(function(t,e){var i=e.charAt(0).toUpperCase()+e.slice(1);SVG[i+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+i)),t.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.ParentEffect,extend:{}})})),a(n,(function(t,e){var i=e.charAt(0).toUpperCase()+e.slice(1);SVG[i]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+i)),t.apply(this,arguments)},inherit:SVG.ChildEffect,extend:{}})})),SVG.extend(SVG.MergeEffect,{in:function(t){return t instanceof SVG.MergeNode?this.add(t,0):this.add(new SVG.MergeNode(t),0),this}}),SVG.extend(SVG.CompositeEffect,SVG.BlendEffect,SVG.DisplacementMapEffect,{in2:function(t){return null==t?this.parent()&&this.parent().select('[result="'+this.attr("in2")+'"]').get(0)||this.attr("in2"):this.attr("in2",t)}}),SVG.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]}}.call(void 0),function(){function t(t,r,s,a,o,l,c){for(var h=t.slice(r,s||c),u=a.slice(o,l||c),d=0,f={pos:[0,0],start:[0,0]},p={pos:[0,0],start:[0,0]};;){if(h[d]=e.call(f,h[d]),u[d]=e.call(p,u[d]),h[d][0]!=u[d][0]||"M"==h[d][0]||"A"==h[d][0]&&(h[d][4]!=u[d][4]||h[d][5]!=u[d][5])?(Array.prototype.splice.apply(h,[d,1].concat(n.call(f,h[d]))),Array.prototype.splice.apply(u,[d,1].concat(n.call(p,u[d])))):(h[d]=i.call(f,h[d]),u[d]=i.call(p,u[d])),++d==h.length&&d==u.length)break;d==h.length&&h.push(["C",f.pos[0],f.pos[1],f.pos[0],f.pos[1],f.pos[0],f.pos[1]]),d==u.length&&u.push(["C",p.pos[0],p.pos[1],p.pos[0],p.pos[1],p.pos[0],p.pos[1]])}return{start:h,dest:u}}function e(t){switch(t[0]){case"z":case"Z":t[0]="L",t[1]=this.start[0],t[2]=this.start[1];break;case"H":t[0]="L",t[2]=this.pos[1];break;case"V":t[0]="L",t[2]=t[1],t[1]=this.pos[0];break;case"T":t[0]="Q",t[3]=t[1],t[4]=t[2],t[1]=this.reflection[1],t[2]=this.reflection[0];break;case"S":t[0]="C",t[6]=t[4],t[5]=t[3],t[4]=t[2],t[3]=t[1],t[2]=this.reflection[1],t[1]=this.reflection[0]}return t}function i(t){var e=t.length;return this.pos=[t[e-2],t[e-1]],-1!="SCQT".indexOf(t[0])&&(this.reflection=[2*this.pos[0]-t[e-4],2*this.pos[1]-t[e-3]]),t}function n(t){var e=[t];switch(t[0]){case"M":return this.pos=this.start=[t[1],t[2]],e;case"L":t[5]=t[3]=t[1],t[6]=t[4]=t[2],t[1]=this.pos[0],t[2]=this.pos[1];break;case"Q":t[6]=t[4],t[5]=t[3],t[4]=1*t[4]/3+2*t[2]/3,t[3]=1*t[3]/3+2*t[1]/3,t[2]=1*this.pos[1]/3+2*t[2]/3,t[1]=1*this.pos[0]/3+2*t[1]/3;break;case"A":t=(e=function(t,e){var i,n,r,s,a,o,l,c,h,u,d,f,p,g,m,v,y,x,b,w,k,A,S,C,E,I,T=Math.abs(e[1]),_=Math.abs(e[2]),P=e[3]%360,L=e[4],R=e[5],O=e[6],N=e[7],M=new SVG.Point(t),D=new SVG.Point(O,N),F=[];if(0===T||0===_||M.x===D.x&&M.y===D.y)return[["C",M.x,M.y,D.x,D.y,D.x,D.y]];for(i=new SVG.Point((M.x-D.x)/2,(M.y-D.y)/2).transform((new SVG.Matrix).rotate(P)),(n=i.x*i.x/(T*T)+i.y*i.y/(_*_))>1&&(T*=n=Math.sqrt(n),_*=n),r=(new SVG.Matrix).rotate(P).scale(1/T,1/_).rotate(-P),M=M.transform(r),D=D.transform(r),s=[D.x-M.x,D.y-M.y],o=s[0]*s[0]+s[1]*s[1],a=Math.sqrt(o),s[0]/=a,s[1]/=a,l=o<4?Math.sqrt(1-o/4):0,L===R&&(l*=-1),c=new SVG.Point((D.x+M.x)/2+l*-s[1],(D.y+M.y)/2+l*s[0]),h=new SVG.Point(M.x-c.x,M.y-c.y),u=new SVG.Point(D.x-c.x,D.y-c.y),d=Math.acos(h.x/Math.sqrt(h.x*h.x+h.y*h.y)),h.y<0&&(d*=-1),f=Math.acos(u.x/Math.sqrt(u.x*u.x+u.y*u.y)),u.y<0&&(f*=-1),R&&d>f&&(f+=2*Math.PI),!R&&d<f&&(f-=2*Math.PI),g=Math.ceil(2*Math.abs(d-f)/Math.PI),v=[],y=d,p=(f-d)/g,m=4*Math.tan(p/4)/3,k=0;k<=g;k++)b=Math.cos(y),x=Math.sin(y),w=new SVG.Point(c.x+b,c.y+x),v[k]=[new SVG.Point(w.x+m*x,w.y-m*b),w,new SVG.Point(w.x-m*x,w.y+m*b)],y+=p;for(v[0][0]=v[0][1].clone(),v[v.length-1][2]=v[v.length-1][1].clone(),r=(new SVG.Matrix).rotate(P).scale(T,_).rotate(-P),k=0,A=v.length;k<A;k++)v[k][0]=v[k][0].transform(r),v[k][1]=v[k][1].transform(r),v[k][2]=v[k][2].transform(r);for(k=1,A=v.length;k<A;k++)S=(w=v[k-1][2]).x,C=w.y,E=(w=v[k][0]).x,I=w.y,O=(w=v[k][1]).x,N=w.y,F.push(["C",S,C,E,I,O,N]);return F}(this.pos,t))[0]}return t[0]="C",this.pos=[t[5],t[6]],this.reflection=[2*t[5]-t[3],2*t[6]-t[4]],e}function r(t,e){if(!1===e)return!1;for(var i=e,n=t.length;i<n;++i)if("M"==t[i][0])return i;return!1}SVG.extend(SVG.PathArray,{morph:function(e){for(var i=this.value,n=this.parse(e),s=0,a=0,o=!1,l=!1;!1!==s||!1!==a;){var c;o=r(i,!1!==s&&s+1),l=r(n,!1!==a&&a+1),!1===s&&(s=0==(c=new SVG.PathArray(h.start).bbox()).height||0==c.width?i.push(i[0])-1:i.push(["M",c.x+c.width/2,c.y+c.height/2])-1),!1===a&&(a=0==(c=new SVG.PathArray(h.dest).bbox()).height||0==c.width?n.push(n[0])-1:n.push(["M",c.x+c.width/2,c.y+c.height/2])-1);var h=t(i,s,o,n,a,l);i=i.slice(0,s).concat(h.start,!1===o?[]:i.slice(o)),n=n.slice(0,a).concat(h.dest,!1===l?[]:n.slice(l)),s=!1!==o&&s+h.start.length,a=!1!==l&&a+h.dest.length}return this.value=i,this.destination=new SVG.PathArray,this.destination.value=n,this}})}(),
/*! svg.draggable.js - v2.2.2 - 2019-01-08
* https://github.com/svgdotjs/svg.draggable.js
* Copyright (c) 2019 Wout Fierens; Licensed MIT */
function(){function t(t){t.remember("_draggable",this),this.el=t}t.prototype.init=function(t,e){var i=this;this.constraint=t,this.value=e,this.el.on("mousedown.drag",(function(t){i.start(t)})),this.el.on("touchstart.drag",(function(t){i.start(t)}))},t.prototype.transformPoint=function(t,e){var i=(t=t||window.event).changedTouches&&t.changedTouches[0]||t;return this.p.x=i.clientX-(e||0),this.p.y=i.clientY,this.p.matrixTransform(this.m)},t.prototype.getBBox=function(){var t=this.el.bbox();return this.el instanceof SVG.Nested&&(t=this.el.rbox()),(this.el instanceof SVG.G||this.el instanceof SVG.Use||this.el instanceof SVG.Nested)&&(t.x=this.el.x(),t.y=this.el.y()),t},t.prototype.start=function(t){if("click"!=t.type&&"mousedown"!=t.type&&"mousemove"!=t.type||1==(t.which||t.buttons)){var e=this;if(this.el.fire("beforedrag",{event:t,handler:this}),!this.el.event().defaultPrevented){t.preventDefault(),t.stopPropagation(),this.parent=this.parent||this.el.parent(SVG.Nested)||this.el.parent(SVG.Doc),this.p=this.parent.node.createSVGPoint(),this.m=this.el.node.getScreenCTM().inverse();var i,n=this.getBBox();if(this.el instanceof SVG.Text)switch(i=this.el.node.getComputedTextLength(),this.el.attr("text-anchor")){case"middle":i/=2;break;case"start":i=0}this.startPoints={point:this.transformPoint(t,i),box:n,transform:this.el.transform()},SVG.on(window,"mousemove.drag",(function(t){e.drag(t)})),SVG.on(window,"touchmove.drag",(function(t){e.drag(t)})),SVG.on(window,"mouseup.drag",(function(t){e.end(t)})),SVG.on(window,"touchend.drag",(function(t){e.end(t)})),this.el.fire("dragstart",{event:t,p:this.startPoints.point,m:this.m,handler:this})}}},t.prototype.drag=function(t){var e=this.getBBox(),i=this.transformPoint(t),n=this.startPoints.box.x+i.x-this.startPoints.point.x,r=this.startPoints.box.y+i.y-this.startPoints.point.y,s=this.constraint,a=i.x-this.startPoints.point.x,o=i.y-this.startPoints.point.y;if(this.el.fire("dragmove",{event:t,p:i,m:this.m,handler:this}),this.el.event().defaultPrevented)return i;if("function"==typeof s){var l=s.call(this.el,n,r,this.m);"boolean"==typeof l&&(l={x:l,y:l}),!0===l.x?this.el.x(n):!1!==l.x&&this.el.x(l.x),!0===l.y?this.el.y(r):!1!==l.y&&this.el.y(l.y)}else"object"==typeof s&&(null!=s.minX&&n<s.minX?a=(n=s.minX)-this.startPoints.box.x:null!=s.maxX&&n>s.maxX-e.width&&(a=(n=s.maxX-e.width)-this.startPoints.box.x),null!=s.minY&&r<s.minY?o=(r=s.minY)-this.startPoints.box.y:null!=s.maxY&&r>s.maxY-e.height&&(o=(r=s.maxY-e.height)-this.startPoints.box.y),null!=s.snapToGrid&&(n-=n%s.snapToGrid,r-=r%s.snapToGrid,a-=a%s.snapToGrid,o-=o%s.snapToGrid),this.el instanceof SVG.G?this.el.matrix(this.startPoints.transform).transform({x:a,y:o},!0):this.el.move(n,r));return i},t.prototype.end=function(t){var e=this.drag(t);this.el.fire("dragend",{event:t,p:e,m:this.m,handler:this}),SVG.off(window,"mousemove.drag"),SVG.off(window,"touchmove.drag"),SVG.off(window,"mouseup.drag"),SVG.off(window,"touchend.drag")},SVG.extend(SVG.Element,{draggable:function(e,i){"function"!=typeof e&&"object"!=typeof e||(i=e,e=!0);var n=this.remember("_draggable")||new t(this);return(e=void 0===e||e)?n.init(i||{},e):(this.off("mousedown.drag"),this.off("touchstart.drag")),this}})}.call(void 0),function(){function t(t){this.el=t,t.remember("_selectHandler",this),this.pointSelection={isSelected:!1},this.rectSelection={isSelected:!1},this.pointsList={lt:[0,0],rt:["width",0],rb:["width","height"],lb:[0,"height"],t:["width",0],r:["width","height"],b:["width","height"],l:[0,"height"]},this.pointCoord=function(t,e,i){var n="string"!=typeof t?t:e[t];return i?n/2:n},this.pointCoords=function(t,e){var i=this.pointsList[t];return{x:this.pointCoord(i[0],e,"t"===t||"b"===t),y:this.pointCoord(i[1],e,"r"===t||"l"===t)}}}t.prototype.init=function(t,e){var i=this.el.bbox();this.options={};var n=this.el.selectize.defaults.points;for(var r in this.el.selectize.defaults)this.options[r]=this.el.selectize.defaults[r],void 0!==e[r]&&(this.options[r]=e[r]);var s=["points","pointsExclude"];for(var r in s){var a=this.options[s[r]];"string"==typeof a?a=a.length>0?a.split(/\s*,\s*/i):[]:"boolean"==typeof a&&"points"===s[r]&&(a=a?n:[]),this.options[s[r]]=a}this.options.points=[n,this.options.points].reduce((function(t,e){return t.filter((function(t){return e.indexOf(t)>-1}))})),this.options.points=[this.options.points,this.options.pointsExclude].reduce((function(t,e){return t.filter((function(t){return e.indexOf(t)<0}))})),this.parent=this.el.parent(),this.nested=this.nested||this.parent.group(),this.nested.matrix(new SVG.Matrix(this.el).translate(i.x,i.y)),this.options.deepSelect&&-1!==["line","polyline","polygon"].indexOf(this.el.type)?this.selectPoints(t):this.selectRect(t),this.observe(),this.cleanup()},t.prototype.selectPoints=function(t){return this.pointSelection.isSelected=t,this.pointSelection.set||(this.pointSelection.set=this.parent.set(),this.drawPoints()),this},t.prototype.getPointArray=function(){var t=this.el.bbox();return this.el.array().valueOf().map((function(e){return[e[0]-t.x,e[1]-t.y]}))},t.prototype.drawPoints=function(){for(var t=this,e=this.getPointArray(),i=0,n=e.length;i<n;++i){var r=function(e){return function(i){(i=i||window.event).preventDefault?i.preventDefault():i.returnValue=!1,i.stopPropagation();var n=i.pageX||i.touches[0].pageX,r=i.pageY||i.touches[0].pageY;t.el.fire("point",{x:n,y:r,i:e,event:i})}}(i),s=this.drawPoint(e[i][0],e[i][1]).addClass(this.options.classPoints).addClass(this.options.classPoints+"_point").on("touchstart",r).on("mousedown",r);this.pointSelection.set.add(s)}},t.prototype.drawPoint=function(t,e){var i=this.options.pointType;switch(i){case"circle":return this.drawCircle(t,e);case"rect":return this.drawRect(t,e);default:if("function"==typeof i)return i.call(this,t,e);throw new Error("Unknown "+i+" point type!")}},t.prototype.drawCircle=function(t,e){return this.nested.circle(this.options.pointSize).center(t,e)},t.prototype.drawRect=function(t,e){return this.nested.rect(this.options.pointSize,this.options.pointSize).center(t,e)},t.prototype.updatePointSelection=function(){var t=this.getPointArray();this.pointSelection.set.each((function(e){this.cx()===t[e][0]&&this.cy()===t[e][1]||this.center(t[e][0],t[e][1])}))},t.prototype.updateRectSelection=function(){var t=this,e=this.el.bbox();if(this.rectSelection.set.get(0).attr({width:e.width,height:e.height}),this.options.points.length&&this.options.points.map((function(i,n){var r=t.pointCoords(i,e);t.rectSelection.set.get(n+1).center(r.x,r.y)})),this.options.rotationPoint){var i=this.rectSelection.set.length();this.rectSelection.set.get(i-1).center(e.width/2,20)}},t.prototype.selectRect=function(t){var e=this,i=this.el.bbox();function n(t){return function(i){(i=i||window.event).preventDefault?i.preventDefault():i.returnValue=!1,i.stopPropagation();var n=i.pageX||i.touches[0].pageX,r=i.pageY||i.touches[0].pageY;e.el.fire(t,{x:n,y:r,event:i})}}if(this.rectSelection.isSelected=t,this.rectSelection.set=this.rectSelection.set||this.parent.set(),this.rectSelection.set.get(0)||this.rectSelection.set.add(this.nested.rect(i.width,i.height).addClass(this.options.classRect)),this.options.points.length&&this.rectSelection.set.length()<2&&(this.options.points.map((function(t,r){var s=e.pointCoords(t,i),a=e.drawPoint(s.x,s.y).attr("class",e.options.classPoints+"_"+t).on("mousedown",n(t)).on("touchstart",n(t));e.rectSelection.set.add(a)})),this.rectSelection.set.each((function(){this.addClass(e.options.classPoints)}))),this.options.rotationPoint&&(this.options.points&&!this.rectSelection.set.get(9)||!this.options.points&&!this.rectSelection.set.get(1))){var r=function(t){(t=t||window.event).preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation();var i=t.pageX||t.touches[0].pageX,n=t.pageY||t.touches[0].pageY;e.el.fire("rot",{x:i,y:n,event:t})},s=this.drawPoint(i.width/2,20).attr("class",this.options.classPoints+"_rot").on("touchstart",r).on("mousedown",r);this.rectSelection.set.add(s)}},t.prototype.handler=function(){var t=this.el.bbox();this.nested.matrix(new SVG.Matrix(this.el).translate(t.x,t.y)),this.rectSelection.isSelected&&this.updateRectSelection(),this.pointSelection.isSelected&&this.updatePointSelection()},t.prototype.observe=function(){var t=this;if(MutationObserver)if(this.rectSelection.isSelected||this.pointSelection.isSelected)this.observerInst=this.observerInst||new MutationObserver((function(){t.handler()})),this.observerInst.observe(this.el.node,{attributes:!0});else try{this.observerInst.disconnect(),delete this.observerInst}catch(t){}else this.el.off("DOMAttrModified.select"),(this.rectSelection.isSelected||this.pointSelection.isSelected)&&this.el.on("DOMAttrModified.select",(function(){t.handler()}))},t.prototype.cleanup=function(){!this.rectSelection.isSelected&&this.rectSelection.set&&(this.rectSelection.set.each((function(){this.remove()})),this.rectSelection.set.clear(),delete this.rectSelection.set),!this.pointSelection.isSelected&&this.pointSelection.set&&(this.pointSelection.set.each((function(){this.remove()})),this.pointSelection.set.clear(),delete this.pointSelection.set),this.pointSelection.isSelected||this.rectSelection.isSelected||(this.nested.remove(),delete this.nested)},SVG.extend(SVG.Element,{selectize:function(e,i){return"object"==typeof e&&(i=e,e=!0),(this.remember("_selectHandler")||new t(this)).init(void 0===e||e,i||{}),this}}),SVG.Element.prototype.selectize.defaults={points:["lt","rt","rb","lb","t","r","b","l"],pointsExclude:[],classRect:"svg_select_boundingRect",classPoints:"svg_select_points",pointSize:7,rotationPoint:!0,deepSelect:!1,pointType:"circle"}}(),function(){(function(){function t(t){t.remember("_resizeHandler",this),this.el=t,this.parameters={},this.lastUpdateCall=null,this.p=t.doc().node.createSVGPoint()}t.prototype.transformPoint=function(t,e,i){return this.p.x=t-(this.offset.x-window.pageXOffset),this.p.y=e-(this.offset.y-window.pageYOffset),this.p.matrixTransform(i||this.m)},t.prototype._extractPosition=function(t){return{x:null!=t.clientX?t.clientX:t.touches[0].clientX,y:null!=t.clientY?t.clientY:t.touches[0].clientY}},t.prototype.init=function(t){var e=this;if(this.stop(),"stop"!==t){for(var i in this.options={},this.el.resize.defaults)this.options[i]=this.el.resize.defaults[i],void 0!==t[i]&&(this.options[i]=t[i]);this.el.on("lt.resize",(function(t){e.resize(t||window.event)})),this.el.on("rt.resize",(function(t){e.resize(t||window.event)})),this.el.on("rb.resize",(function(t){e.resize(t||window.event)})),this.el.on("lb.resize",(function(t){e.resize(t||window.event)})),this.el.on("t.resize",(function(t){e.resize(t||window.event)})),this.el.on("r.resize",(function(t){e.resize(t||window.event)})),this.el.on("b.resize",(function(t){e.resize(t||window.event)})),this.el.on("l.resize",(function(t){e.resize(t||window.event)})),this.el.on("rot.resize",(function(t){e.resize(t||window.event)})),this.el.on("point.resize",(function(t){e.resize(t||window.event)})),this.update()}},t.prototype.stop=function(){return this.el.off("lt.resize"),this.el.off("rt.resize"),this.el.off("rb.resize"),this.el.off("lb.resize"),this.el.off("t.resize"),this.el.off("r.resize"),this.el.off("b.resize"),this.el.off("l.resize"),this.el.off("rot.resize"),this.el.off("point.resize"),this},t.prototype.resize=function(t){var e=this;this.m=this.el.node.getScreenCTM().inverse(),this.offset={x:window.pageXOffset,y:window.pageYOffset};var i=this._extractPosition(t.detail.event);if(this.parameters={type:this.el.type,p:this.transformPoint(i.x,i.y),x:t.detail.x,y:t.detail.y,box:this.el.bbox(),rotation:this.el.transform().rotation},"text"===this.el.type&&(this.parameters.fontSize=this.el.attr()["font-size"]),void 0!==t.detail.i){var n=this.el.array().valueOf();this.parameters.i=t.detail.i,this.parameters.pointCoords=[n[t.detail.i][0],n[t.detail.i][1]]}switch(t.type){case"lt":this.calc=function(t,e){var i=this.snapToGrid(t,e);if(this.parameters.box.width-i[0]>0&&this.parameters.box.height-i[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+i[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-i[0]);i=this.checkAspectRatio(i),this.el.move(this.parameters.box.x+i[0],this.parameters.box.y+i[1]).size(this.parameters.box.width-i[0],this.parameters.box.height-i[1])}};break;case"rt":this.calc=function(t,e){var i=this.snapToGrid(t,e,2);if(this.parameters.box.width+i[0]>0&&this.parameters.box.height-i[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-i[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+i[0]);i=this.checkAspectRatio(i,!0),this.el.move(this.parameters.box.x,this.parameters.box.y+i[1]).size(this.parameters.box.width+i[0],this.parameters.box.height-i[1])}};break;case"rb":this.calc=function(t,e){var i=this.snapToGrid(t,e,0);if(this.parameters.box.width+i[0]>0&&this.parameters.box.height+i[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-i[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+i[0]);i=this.checkAspectRatio(i),this.el.move(this.parameters.box.x,this.parameters.box.y).size(this.parameters.box.width+i[0],this.parameters.box.height+i[1])}};break;case"lb":this.calc=function(t,e){var i=this.snapToGrid(t,e,1);if(this.parameters.box.width-i[0]>0&&this.parameters.box.height+i[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+i[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-i[0]);i=this.checkAspectRatio(i,!0),this.el.move(this.parameters.box.x+i[0],this.parameters.box.y).size(this.parameters.box.width-i[0],this.parameters.box.height+i[1])}};break;case"t":this.calc=function(t,e){var i=this.snapToGrid(t,e,2);if(this.parameters.box.height-i[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y+i[1]).height(this.parameters.box.height-i[1])}};break;case"r":this.calc=function(t,e){var i=this.snapToGrid(t,e,0);if(this.parameters.box.width+i[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).width(this.parameters.box.width+i[0])}};break;case"b":this.calc=function(t,e){var i=this.snapToGrid(t,e,0);if(this.parameters.box.height+i[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).height(this.parameters.box.height+i[1])}};break;case"l":this.calc=function(t,e){var i=this.snapToGrid(t,e,1);if(this.parameters.box.width-i[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x+i[0],this.parameters.box.y).width(this.parameters.box.width-i[0])}};break;case"rot":this.calc=function(t,e){var i=t+this.parameters.p.x,n=e+this.parameters.p.y,r=Math.atan2(this.parameters.p.y-this.parameters.box.y-this.parameters.box.height/2,this.parameters.p.x-this.parameters.box.x-this.parameters.box.width/2),s=Math.atan2(n-this.parameters.box.y-this.parameters.box.height/2,i-this.parameters.box.x-this.parameters.box.width/2),a=this.parameters.rotation+180*(s-r)/Math.PI+this.options.snapToAngle/2;this.el.center(this.parameters.box.cx,this.parameters.box.cy).rotate(a-a%this.options.snapToAngle,this.parameters.box.cx,this.parameters.box.cy)};break;case"point":this.calc=function(t,e){var i=this.snapToGrid(t,e,this.parameters.pointCoords[0],this.parameters.pointCoords[1]),n=this.el.array().valueOf();n[this.parameters.i][0]=this.parameters.pointCoords[0]+i[0],n[this.parameters.i][1]=this.parameters.pointCoords[1]+i[1],this.el.plot(n)}}this.el.fire("resizestart",{dx:this.parameters.x,dy:this.parameters.y,event:t}),SVG.on(window,"touchmove.resize",(function(t){e.update(t||window.event)})),SVG.on(window,"touchend.resize",(function(){e.done()})),SVG.on(window,"mousemove.resize",(function(t){e.update(t||window.event)})),SVG.on(window,"mouseup.resize",(function(){e.done()}))},t.prototype.update=function(t){if(t){var e=this._extractPosition(t),i=this.transformPoint(e.x,e.y),n=i.x-this.parameters.p.x,r=i.y-this.parameters.p.y;this.lastUpdateCall=[n,r],this.calc(n,r),this.el.fire("resizing",{dx:n,dy:r,event:t})}else this.lastUpdateCall&&this.calc(this.lastUpdateCall[0],this.lastUpdateCall[1])},t.prototype.done=function(){this.lastUpdateCall=null,SVG.off(window,"mousemove.resize"),SVG.off(window,"mouseup.resize"),SVG.off(window,"touchmove.resize"),SVG.off(window,"touchend.resize"),this.el.fire("resizedone")},t.prototype.snapToGrid=function(t,e,i,n){var r;return void 0!==n?r=[(i+t)%this.options.snapToGrid,(n+e)%this.options.snapToGrid]:(i=null==i?3:i,r=[(this.parameters.box.x+t+(1&i?0:this.parameters.box.width))%this.options.snapToGrid,(this.parameters.box.y+e+(2&i?0:this.parameters.box.height))%this.options.snapToGrid]),t<0&&(r[0]-=this.options.snapToGrid),e<0&&(r[1]-=this.options.snapToGrid),t-=Math.abs(r[0])<this.options.snapToGrid/2?r[0]:r[0]-(t<0?-this.options.snapToGrid:this.options.snapToGrid),e-=Math.abs(r[1])<this.options.snapToGrid/2?r[1]:r[1]-(e<0?-this.options.snapToGrid:this.options.snapToGrid),this.constraintToBox(t,e,i,n)},t.prototype.constraintToBox=function(t,e,i,n){var r,s,a=this.options.constraint||{};return void 0!==n?(r=i,s=n):(r=this.parameters.box.x+(1&i?0:this.parameters.box.width),s=this.parameters.box.y+(2&i?0:this.parameters.box.height)),void 0!==a.minX&&r+t<a.minX&&(t=a.minX-r),void 0!==a.maxX&&r+t>a.maxX&&(t=a.maxX-r),void 0!==a.minY&&s+e<a.minY&&(e=a.minY-s),void 0!==a.maxY&&s+e>a.maxY&&(e=a.maxY-s),[t,e]},t.prototype.checkAspectRatio=function(t,e){if(!this.options.saveAspectRatio)return t;var i=t.slice(),n=this.parameters.box.width/this.parameters.box.height,r=this.parameters.box.width+t[0],s=this.parameters.box.height-t[1],a=r/s;return a<n?(i[1]=r/n-this.parameters.box.height,e&&(i[1]=-i[1])):a>n&&(i[0]=this.parameters.box.width-s*n,e&&(i[0]=-i[0])),i},SVG.extend(SVG.Element,{resize:function(e){return(this.remember("_resizeHandler")||new t(this)).init(e||{}),this}}),SVG.Element.prototype.resize.defaults={snapToAngle:.1,snapToGrid:1,constraint:{},saveAspectRatio:!1}}).call(this)}(),void 0===window.Apex&&(window.Apex={});var Ht=function(){function t(e){o(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new w(this.ctx),this.ctx.axes=new nt(this.ctx),this.ctx.core=new zt(this.ctx.el,this.ctx),this.ctx.config=new Y({}),this.ctx.data=new j(this.ctx),this.ctx.grid=new J(this.ctx),this.ctx.graphics=new A(this.ctx),this.ctx.coreUtils=new E(this.ctx),this.ctx.crosshairs=new rt(this.ctx),this.ctx.events=new et(this.ctx),this.ctx.exports=new $(this.ctx),this.ctx.localization=new it(this.ctx),this.ctx.options=new P,this.ctx.responsive=new st(this.ctx),this.ctx.series=new F(this.ctx),this.ctx.theme=new at(this.ctx),this.ctx.formatters=new G(this.ctx),this.ctx.titleSubtitle=new ot(this.ctx),this.ctx.legend=new pt(this.ctx),this.ctx.toolbar=new gt(this.ctx),this.ctx.dimensions=new dt(this.ctx),this.ctx.updateHelpers=new Vt(this.ctx),this.ctx.zoomPanSelection=new mt(this.ctx),this.ctx.w.globals.tooltip=new At(this.ctx)}}]),t}(),Xt=function(){function t(e){o(this,t),this.ctx=e,this.w=e.w}return c(t,[{key:"clear",value:function(t){var e=t.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:e})}},{key:"killSVG",value:function(t){t.each((function(t,e){this.removeClass("*"),this.off(),this.stop()}),!0),t.ungroup(),t.clear()}},{key:"clearDomElements",value:function(t){var e=this,i=t.isUpdating,n=this.w.globals.dom.Paper.node;n.parentNode&&n.parentNode.parentNode&&!i&&(n.parentNode.parentNode.style.minHeight="unset");var r=this.w.globals.dom.baseEl;r&&this.ctx.eventList.forEach((function(t){r.removeEventListener(t,e.ctx.events.documentEvent)}));var s=this.w.globals.dom;if(null!==this.ctx.el)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(s.Paper),s.Paper.remove(),s.elWrap=null,s.elGraphical=null,s.elAnnotations=null,s.elLegendWrap=null,s.baseEl=null,s.elGridRect=null,s.elGridRectMask=null,s.elGridRectMarkerMask=null,s.elForecastMask=null,s.elNonForecastMask=null,s.elDefs=null}}]),t}(),Bt=new WeakMap,Yt=function(){function t(e,i){o(this,t),this.opts=i,this.ctx=this,this.w=new W(i).init(),this.el=e,this.w.globals.cuid=b.randomId(),this.w.globals.chartID=this.w.config.chart.id?b.escapeString(this.w.config.chart.id):this.w.globals.cuid,new Ht(this).initModules(),this.create=b.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return c(t,[{key:"render",value:function(){var t=this;return new Promise((function(e,i){if(null!==t.el){void 0===Apex._chartInstances&&(Apex._chartInstances=[]),t.w.config.chart.id&&Apex._chartInstances.push({id:t.w.globals.chartID,group:t.w.config.chart.group,chart:t}),t.setLocale(t.w.config.chart.defaultLocale);var n=t.w.config.chart.events.beforeMount;if("function"==typeof n&&n(t,t.w),t.events.fireEvent("beforeMount",[t,t.w]),window.addEventListener("resize",t.windowResizeHandler),function(t,e){var i=!1,n=t.getBoundingClientRect();"none"!==t.style.display&&0!==n.width||(i=!0);var r=new ResizeObserver((function(n){i&&e.call(t,n),i=!0}));t.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(t.children).forEach((function(t){return r.observe(t)})):r.observe(t),Bt.set(e,r)}(t.el.parentNode,t.parentResizeHandler),!t.css){var r=t.el.getRootNode&&t.el.getRootNode(),s=b.is("ShadowRoot",r),a=t.el.ownerDocument,o=a.getElementById("apexcharts-css");!s&&o||(t.css=document.createElement("style"),t.css.id="apexcharts-css",t.css.textContent='.apexcharts-canvas {\n  position: relative;\n  user-select: none;\n  /* cannot give overflow: hidden as it will crop tooltips which overflow outside chart area */\n}\n\n\n/* scrollbar is not visible by default for legend, hence forcing the visibility */\n.apexcharts-canvas ::-webkit-scrollbar {\n  -webkit-appearance: none;\n  width: 6px;\n}\n\n.apexcharts-canvas ::-webkit-scrollbar-thumb {\n  border-radius: 4px;\n  background-color: rgba(0, 0, 0, .5);\n  box-shadow: 0 0 1px rgba(255, 255, 255, .5);\n  -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, .5);\n}\n\n\n.apexcharts-inner {\n  position: relative;\n}\n\n.apexcharts-text tspan {\n  font-family: inherit;\n}\n\n.legend-mouseover-inactive {\n  transition: 0.15s ease all;\n  opacity: 0.20;\n}\n\n.apexcharts-series-collapsed {\n  opacity: 0;\n}\n\n.apexcharts-tooltip {\n  border-radius: 5px;\n  box-shadow: 2px 2px 6px -4px #999;\n  cursor: default;\n  font-size: 14px;\n  left: 62px;\n  opacity: 0;\n  pointer-events: none;\n  position: absolute;\n  top: 20px;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  white-space: nowrap;\n  z-index: 12;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-tooltip.apexcharts-active {\n  opacity: 1;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-tooltip.apexcharts-theme-light {\n  border: 1px solid #e3e3e3;\n  background: rgba(255, 255, 255, 0.96);\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark {\n  color: #fff;\n  background: rgba(30, 30, 30, 0.8);\n}\n\n.apexcharts-tooltip * {\n  font-family: inherit;\n}\n\n\n.apexcharts-tooltip-title {\n  padding: 6px;\n  font-size: 15px;\n  margin-bottom: 4px;\n}\n\n.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {\n  background: #ECEFF1;\n  border-bottom: 1px solid #ddd;\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {\n  background: rgba(0, 0, 0, 0.7);\n  border-bottom: 1px solid #333;\n}\n\n.apexcharts-tooltip-text-y-value,\n.apexcharts-tooltip-text-goals-value,\n.apexcharts-tooltip-text-z-value {\n  display: inline-block;\n  font-weight: 600;\n  margin-left: 5px;\n}\n\n.apexcharts-tooltip-title:empty,\n.apexcharts-tooltip-text-y-label:empty,\n.apexcharts-tooltip-text-y-value:empty,\n.apexcharts-tooltip-text-goals-label:empty,\n.apexcharts-tooltip-text-goals-value:empty,\n.apexcharts-tooltip-text-z-value:empty {\n  display: none;\n}\n\n.apexcharts-tooltip-text-y-value,\n.apexcharts-tooltip-text-goals-value,\n.apexcharts-tooltip-text-z-value {\n  font-weight: 600;\n}\n\n.apexcharts-tooltip-text-goals-label, \n.apexcharts-tooltip-text-goals-value {\n  padding: 6px 0 5px;\n}\n\n.apexcharts-tooltip-goals-group, \n.apexcharts-tooltip-text-goals-label, \n.apexcharts-tooltip-text-goals-value {\n  display: flex;\n}\n.apexcharts-tooltip-text-goals-label:not(:empty),\n.apexcharts-tooltip-text-goals-value:not(:empty) {\n  margin-top: -6px;\n}\n\n.apexcharts-tooltip-marker {\n  width: 12px;\n  height: 12px;\n  position: relative;\n  top: 0px;\n  margin-right: 10px;\n  border-radius: 50%;\n}\n\n.apexcharts-tooltip-series-group {\n  padding: 0 10px;\n  display: none;\n  text-align: left;\n  justify-content: left;\n  align-items: center;\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {\n  opacity: 1;\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active,\n.apexcharts-tooltip-series-group:last-child {\n  padding-bottom: 4px;\n}\n\n.apexcharts-tooltip-series-group-hidden {\n  opacity: 0;\n  height: 0;\n  line-height: 0;\n  padding: 0 !important;\n}\n\n.apexcharts-tooltip-y-group {\n  padding: 6px 0 5px;\n}\n\n.apexcharts-tooltip-box, .apexcharts-custom-tooltip {\n  padding: 4px 8px;\n}\n\n.apexcharts-tooltip-boxPlot {\n  display: flex;\n  flex-direction: column-reverse;\n}\n\n.apexcharts-tooltip-box>div {\n  margin: 4px 0;\n}\n\n.apexcharts-tooltip-box span.value {\n  font-weight: bold;\n}\n\n.apexcharts-tooltip-rangebar {\n  padding: 5px 8px;\n}\n\n.apexcharts-tooltip-rangebar .category {\n  font-weight: 600;\n  color: #777;\n}\n\n.apexcharts-tooltip-rangebar .series-name {\n  font-weight: bold;\n  display: block;\n  margin-bottom: 5px;\n}\n\n.apexcharts-xaxistooltip {\n  opacity: 0;\n  padding: 9px 10px;\n  pointer-events: none;\n  color: #373d3f;\n  font-size: 13px;\n  text-align: center;\n  border-radius: 2px;\n  position: absolute;\n  z-index: 10;\n  background: #ECEFF1;\n  border: 1px solid #90A4AE;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-xaxistooltip.apexcharts-theme-dark {\n  background: rgba(0, 0, 0, 0.7);\n  border: 1px solid rgba(0, 0, 0, 0.5);\n  color: #fff;\n}\n\n.apexcharts-xaxistooltip:after,\n.apexcharts-xaxistooltip:before {\n  left: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none;\n}\n\n.apexcharts-xaxistooltip:after {\n  border-color: rgba(236, 239, 241, 0);\n  border-width: 6px;\n  margin-left: -6px;\n}\n\n.apexcharts-xaxistooltip:before {\n  border-color: rgba(144, 164, 174, 0);\n  border-width: 7px;\n  margin-left: -7px;\n}\n\n.apexcharts-xaxistooltip-bottom:after,\n.apexcharts-xaxistooltip-bottom:before {\n  bottom: 100%;\n}\n\n.apexcharts-xaxistooltip-top:after,\n.apexcharts-xaxistooltip-top:before {\n  top: 100%;\n}\n\n.apexcharts-xaxistooltip-bottom:after {\n  border-bottom-color: #ECEFF1;\n}\n\n.apexcharts-xaxistooltip-bottom:before {\n  border-bottom-color: #90A4AE;\n}\n\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after {\n  border-bottom-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {\n  border-bottom-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip-top:after {\n  border-top-color: #ECEFF1\n}\n\n.apexcharts-xaxistooltip-top:before {\n  border-top-color: #90A4AE;\n}\n\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after {\n  border-top-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {\n  border-top-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip.apexcharts-active {\n  opacity: 1;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-yaxistooltip {\n  opacity: 0;\n  padding: 4px 10px;\n  pointer-events: none;\n  color: #373d3f;\n  font-size: 13px;\n  text-align: center;\n  border-radius: 2px;\n  position: absolute;\n  z-index: 10;\n  background: #ECEFF1;\n  border: 1px solid #90A4AE;\n}\n\n.apexcharts-yaxistooltip.apexcharts-theme-dark {\n  background: rgba(0, 0, 0, 0.7);\n  border: 1px solid rgba(0, 0, 0, 0.5);\n  color: #fff;\n}\n\n.apexcharts-yaxistooltip:after,\n.apexcharts-yaxistooltip:before {\n  top: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none;\n}\n\n.apexcharts-yaxistooltip:after {\n  border-color: rgba(236, 239, 241, 0);\n  border-width: 6px;\n  margin-top: -6px;\n}\n\n.apexcharts-yaxistooltip:before {\n  border-color: rgba(144, 164, 174, 0);\n  border-width: 7px;\n  margin-top: -7px;\n}\n\n.apexcharts-yaxistooltip-left:after,\n.apexcharts-yaxistooltip-left:before {\n  left: 100%;\n}\n\n.apexcharts-yaxistooltip-right:after,\n.apexcharts-yaxistooltip-right:before {\n  right: 100%;\n}\n\n.apexcharts-yaxistooltip-left:after {\n  border-left-color: #ECEFF1;\n}\n\n.apexcharts-yaxistooltip-left:before {\n  border-left-color: #90A4AE;\n}\n\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after {\n  border-left-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {\n  border-left-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip-right:after {\n  border-right-color: #ECEFF1;\n}\n\n.apexcharts-yaxistooltip-right:before {\n  border-right-color: #90A4AE;\n}\n\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after {\n  border-right-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {\n  border-right-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip.apexcharts-active {\n  opacity: 1;\n}\n\n.apexcharts-yaxistooltip-hidden {\n  display: none;\n}\n\n.apexcharts-xcrosshairs,\n.apexcharts-ycrosshairs {\n  pointer-events: none;\n  opacity: 0;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-xcrosshairs.apexcharts-active,\n.apexcharts-ycrosshairs.apexcharts-active {\n  opacity: 1;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-ycrosshairs-hidden {\n  opacity: 0;\n}\n\n.apexcharts-selection-rect {\n  cursor: move;\n}\n\n.svg_select_boundingRect, .svg_select_points_rot {\n  pointer-events: none;\n  opacity: 0;\n  visibility: hidden;\n}\n.apexcharts-selection-rect + g .svg_select_boundingRect,\n.apexcharts-selection-rect + g .svg_select_points_rot {\n  opacity: 0;\n  visibility: hidden;\n}\n\n.apexcharts-selection-rect + g .svg_select_points_l,\n.apexcharts-selection-rect + g .svg_select_points_r {\n  cursor: ew-resize;\n  opacity: 1;\n  visibility: visible;\n}\n\n.svg_select_points {\n  fill: #efefef;\n  stroke: #333;\n  rx: 2;\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-zoom {\n  cursor: crosshair\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-pan {\n  cursor: move\n}\n\n.apexcharts-zoom-icon,\n.apexcharts-zoomin-icon,\n.apexcharts-zoomout-icon,\n.apexcharts-reset-icon,\n.apexcharts-pan-icon,\n.apexcharts-selection-icon,\n.apexcharts-menu-icon,\n.apexcharts-toolbar-custom-icon {\n  cursor: pointer;\n  width: 20px;\n  height: 20px;\n  line-height: 24px;\n  color: #6E8192;\n  text-align: center;\n}\n\n.apexcharts-zoom-icon svg,\n.apexcharts-zoomin-icon svg,\n.apexcharts-zoomout-icon svg,\n.apexcharts-reset-icon svg,\n.apexcharts-menu-icon svg {\n  fill: #6E8192;\n}\n\n.apexcharts-selection-icon svg {\n  fill: #444;\n  transform: scale(0.76)\n}\n\n.apexcharts-theme-dark .apexcharts-zoom-icon svg,\n.apexcharts-theme-dark .apexcharts-zoomin-icon svg,\n.apexcharts-theme-dark .apexcharts-zoomout-icon svg,\n.apexcharts-theme-dark .apexcharts-reset-icon svg,\n.apexcharts-theme-dark .apexcharts-pan-icon svg,\n.apexcharts-theme-dark .apexcharts-selection-icon svg,\n.apexcharts-theme-dark .apexcharts-menu-icon svg,\n.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg {\n  fill: #f3f4f5;\n}\n\n.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg,\n.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,\n.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg {\n  fill: #008FFB;\n}\n\n.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,\n.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,\n.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,\n.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg,\n.apexcharts-theme-light .apexcharts-reset-icon:hover svg,\n.apexcharts-theme-light .apexcharts-menu-icon:hover svg {\n  fill: #333;\n}\n\n.apexcharts-selection-icon,\n.apexcharts-menu-icon {\n  position: relative;\n}\n\n.apexcharts-reset-icon {\n  margin-left: 5px;\n}\n\n.apexcharts-zoom-icon,\n.apexcharts-reset-icon,\n.apexcharts-menu-icon {\n  transform: scale(0.85);\n}\n\n.apexcharts-zoomin-icon,\n.apexcharts-zoomout-icon {\n  transform: scale(0.7)\n}\n\n.apexcharts-zoomout-icon {\n  margin-right: 3px;\n}\n\n.apexcharts-pan-icon {\n  transform: scale(0.62);\n  position: relative;\n  left: 1px;\n  top: 0px;\n}\n\n.apexcharts-pan-icon svg {\n  fill: #fff;\n  stroke: #6E8192;\n  stroke-width: 2;\n}\n\n.apexcharts-pan-icon.apexcharts-selected svg {\n  stroke: #008FFB;\n}\n\n.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {\n  stroke: #333;\n}\n\n.apexcharts-toolbar {\n  position: absolute;\n  z-index: 11;\n  max-width: 176px;\n  text-align: right;\n  border-radius: 3px;\n  padding: 0px 6px 2px 6px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.apexcharts-menu {\n  background: #fff;\n  position: absolute;\n  top: 100%;\n  border: 1px solid #ddd;\n  border-radius: 3px;\n  padding: 3px;\n  right: 10px;\n  opacity: 0;\n  min-width: 110px;\n  transition: 0.15s ease all;\n  pointer-events: none;\n}\n\n.apexcharts-menu.apexcharts-menu-open {\n  opacity: 1;\n  pointer-events: all;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-menu-item {\n  padding: 6px 7px;\n  font-size: 12px;\n  cursor: pointer;\n}\n\n.apexcharts-theme-light .apexcharts-menu-item:hover {\n  background: #eee;\n}\n\n.apexcharts-theme-dark .apexcharts-menu {\n  background: rgba(0, 0, 0, 0.7);\n  color: #fff;\n}\n\n@media screen and (min-width: 768px) {\n  .apexcharts-canvas:hover .apexcharts-toolbar {\n    opacity: 1;\n  }\n}\n\n.apexcharts-datalabel.apexcharts-element-hidden {\n  opacity: 0;\n}\n\n.apexcharts-pie-label,\n.apexcharts-datalabels,\n.apexcharts-datalabel,\n.apexcharts-datalabel-label,\n.apexcharts-datalabel-value {\n  cursor: default;\n  pointer-events: none;\n}\n\n.apexcharts-pie-label-delay {\n  opacity: 0;\n  animation-name: opaque;\n  animation-duration: 0.3s;\n  animation-fill-mode: forwards;\n  animation-timing-function: ease;\n}\n\n.apexcharts-canvas .apexcharts-element-hidden {\n  opacity: 0;\n}\n\n.apexcharts-hide .apexcharts-series-points {\n  opacity: 0;\n}\n\n.apexcharts-gridline,\n.apexcharts-annotation-rect,\n.apexcharts-tooltip .apexcharts-marker,\n.apexcharts-area-series .apexcharts-area,\n.apexcharts-line,\n.apexcharts-zoom-rect,\n.apexcharts-toolbar svg,\n.apexcharts-area-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,\n.apexcharts-line-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,\n.apexcharts-radar-series path,\n.apexcharts-radar-series polygon {\n  pointer-events: none;\n}\n\n\n/* markers */\n\n.apexcharts-marker {\n  transition: 0.15s ease all;\n}\n\n@keyframes opaque {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n\n\n/* Resize generated styles */\n\n@keyframes resizeanim {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 0;\n  }\n}\n\n.resize-triggers {\n  animation: 1ms resizeanim;\n  visibility: hidden;\n  opacity: 0;\n}\n\n.resize-triggers,\n.resize-triggers>div,\n.contract-trigger:before {\n  content: " ";\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  overflow: hidden;\n}\n\n.resize-triggers>div {\n  background: #eee;\n  overflow: auto;\n}\n\n.contract-trigger:before {\n  width: 200%;\n  height: 200%;\n}',s?r.prepend(t.css):a.head.appendChild(t.css))}var l=t.create(t.w.config.series,{});if(!l)return e(t);t.mount(l).then((function(){"function"==typeof t.w.config.chart.events.mounted&&t.w.config.chart.events.mounted(t,t.w),t.events.fireEvent("mounted",[t,t.w]),e(l)})).catch((function(t){i(t)}))}else i(new Error("Element not found"))}))}},{key:"create",value:function(t,e){var i=this.w;new Ht(this).initModules();var n=this.w.globals;if(n.noData=!1,n.animationEnded=!1,this.responsive.checkResponsiveConfig(e),i.config.xaxis.convertedCatToNumeric&&new B(i.config).convertCatToNumericXaxis(i.config,this.ctx),null===this.el)return n.animationEnded=!0,null;if(this.core.setupElements(),"treemap"===i.config.chart.type&&(i.config.grid.show=!1,i.config.yaxis[0].show=!1),0===n.svgWidth)return n.animationEnded=!0,null;var r=E.checkComboSeries(t);n.comboCharts=r.comboCharts,n.comboBarCount=r.comboBarCount;var s=t.every((function(t){return t.data&&0===t.data.length}));(0===t.length||s)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(t),this.theme.init(),new O(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),n.noData&&n.collapsedSeries.length!==n.series.length&&!i.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),n.axisCharts&&(this.core.coreCalculations(),"category"!==i.config.xaxis.type&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=i.globals.minX,this.ctx.toolbar.maxX=i.globals.maxX),this.formatters.heatmapLabelFormatters(),new E(this).getLargestMarkerSize(),this.dimensions.plotCoords();var a=this.core.xySettings();this.grid.createGridMask();var o=this.core.plotChartType(t,a),l=new M(this);l.bringForward(),i.config.dataLabels.background.enabled&&l.dataLabelsBackground(),this.core.shiftGraphPosition();var c={plot:{left:i.globals.translateX,top:i.globals.translateY,width:i.globals.gridWidth,height:i.globals.gridHeight}};return{elGraph:o,xyRatios:a,elInner:i.globals.dom.elGraphical,dimensions:c}}},{key:"mount",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=this,n=i.w;return new Promise((function(r,s){if(null===i.el)return s(new Error("Not enough data to display or target element not found"));(null===e||n.globals.allSeriesCollapsed)&&i.series.handleNoData(),"treemap"!==n.config.chart.type&&i.axes.drawAxis(n.config.chart.type,e.xyRatios),i.grid=new J(i);var a=i.grid.drawGrid();i.annotations=new L(i),i.annotations.drawImageAnnos(),i.annotations.drawTextAnnos(),"back"===n.config.grid.position&&a&&n.globals.dom.elGraphical.add(a.el);var o=new K(t.ctx),l=new tt(t.ctx);if(null!==a&&(o.xAxisLabelCorrections(a.xAxisTickWidth),l.setYAxisTextAlignments(),n.config.yaxis.map((function(t,e){-1===n.globals.ignoreYAxisIndexes.indexOf(e)&&l.yAxisTitleRotate(e,t.opposite)}))),"back"===n.config.annotations.position&&(n.globals.dom.Paper.add(n.globals.dom.elAnnotations),i.annotations.drawAxesAnnotations()),Array.isArray(e.elGraph))for(var c=0;c<e.elGraph.length;c++)n.globals.dom.elGraphical.add(e.elGraph[c]);else n.globals.dom.elGraphical.add(e.elGraph);if("front"===n.config.grid.position&&a&&n.globals.dom.elGraphical.add(a.el),"front"===n.config.xaxis.crosshairs.position&&i.crosshairs.drawXCrosshairs(),"front"===n.config.yaxis[0].crosshairs.position&&i.crosshairs.drawYCrosshairs(),"front"===n.config.annotations.position&&(n.globals.dom.Paper.add(n.globals.dom.elAnnotations),i.annotations.drawAxesAnnotations()),!n.globals.noData){if(n.config.tooltip.enabled&&!n.globals.noData&&i.w.globals.tooltip.drawTooltip(e.xyRatios),n.globals.axisCharts&&(n.globals.isXNumeric||n.config.xaxis.convertedCatToNumeric||n.globals.isRangeBar))(n.config.chart.zoom.enabled||n.config.chart.selection&&n.config.chart.selection.enabled||n.config.chart.pan&&n.config.chart.pan.enabled)&&i.zoomPanSelection.init({xyRatios:e.xyRatios});else{var h=n.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach((function(t){h[t]=!1}))}n.config.chart.toolbar.show&&!n.globals.allSeriesCollapsed&&i.toolbar.createToolbar()}n.globals.memory.methodsToExec.length>0&&n.globals.memory.methodsToExec.forEach((function(t){t.method(t.params,!1,t.context)})),n.globals.axisCharts||n.globals.noData||i.core.resizeNonAxisCharts(),r(i)}))}},{key:"destroy",value:function(){var t,e;window.removeEventListener("resize",this.windowResizeHandler),this.el.parentNode,t=this.parentResizeHandler,(e=Bt.get(t))&&(e.disconnect(),Bt.delete(t));var i=this.w.config.chart.id;i&&Apex._chartInstances.forEach((function(t,e){t.id===b.escapeString(i)&&Apex._chartInstances.splice(e,1)})),new Xt(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=this.w;return a.globals.selection=void 0,t.series&&(this.series.resetSeries(!1,!0,!1),t.series.length&&t.series[0].data&&(t.series=t.series.map((function(t,i){return e.updateHelpers._extendSeries(t,i)}))),this.updateHelpers.revertDefaultAxisMinMax()),t.xaxis&&(t=this.updateHelpers.forceXAxisUpdate(t)),t.yaxis&&(t=this.updateHelpers.forceYAxisUpdate(t)),a.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),t.theme&&(t=this.theme.updateThemeOptions(t)),this.updateHelpers._updateOptions(t,i,n,r,s)}},{key:"updateSeries",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(t,e,i)}},{key:"appendSeries",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=this.w.config.series.slice();return n.push(t),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(n,e,i)}},{key:"appendData",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this;i.w.globals.dataChanged=!0,i.series.getPreviousPaths();for(var n=i.w.config.series.slice(),r=0;r<n.length;r++)if(null!==t[r]&&void 0!==t[r])for(var s=0;s<t[r].data.length;s++)n[r].data.push(t[r].data[s]);return i.w.config.series=n,e&&(i.w.globals.initialSeries=b.clone(i.w.config.series)),this.update()}},{key:"update",value:function(t){var e=this;return new Promise((function(i,n){new Xt(e.ctx).clear({isUpdating:!0});var r=e.create(e.w.config.series,t);if(!r)return i(e);e.mount(r).then((function(){"function"==typeof e.w.config.chart.events.updated&&e.w.config.chart.events.updated(e,e.w),e.events.fireEvent("updated",[e,e.w]),e.w.globals.isDirty=!0,i(e)})).catch((function(t){n(t)}))}))}},{key:"getSyncedCharts",value:function(){var t=this.getGroupedCharts(),e=[this];return t.length&&(e=[],t.forEach((function(t){e.push(t)}))),e}},{key:"getGroupedCharts",value:function(){var t=this;return Apex._chartInstances.filter((function(t){if(t.group)return!0})).map((function(e){return t.w.config.chart.group===e.group?e.chart:t}))}},{key:"toggleSeries",value:function(t){return this.series.toggleSeries(t)}},{key:"highlightSeriesOnLegendHover",value:function(t,e){return this.series.toggleSeriesOnHover(t,e)}},{key:"showSeries",value:function(t){this.series.showSeries(t)}},{key:"hideSeries",value:function(t){this.series.hideSeries(t)}},{key:"resetSeries",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.series.resetSeries(t,e)}},{key:"addEventListener",value:function(t,e){this.events.addEventListener(t,e)}},{key:"removeEventListener",value:function(t,e){this.events.removeEventListener(t,e)}},{key:"addXaxisAnnotation",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=this;i&&(n=i),n.annotations.addXaxisAnnotationExternal(t,e,n)}},{key:"addYaxisAnnotation",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=this;i&&(n=i),n.annotations.addYaxisAnnotationExternal(t,e,n)}},{key:"addPointAnnotation",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=this;i&&(n=i),n.annotations.addPointAnnotationExternal(t,e,n)}},{key:"clearAnnotations",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,e=this;t&&(e=t),e.annotations.clearAnnotations(e)}},{key:"removeAnnotation",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=this;e&&(i=e),i.annotations.removeAnnotation(i,t)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(t,e){return this.coreUtils.getSeriesTotalsXRange(t,e)}},{key:"getHighestValueInSeries",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=new Q(this.ctx);return e.getMinYMaxY(t).highestY}},{key:"getLowestValueInSeries",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=new Q(this.ctx);return e.getMinYMaxY(t).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(t,e){return this.updateHelpers.toggleDataPointSelection(t,e)}},{key:"zoomX",value:function(t,e){this.ctx.toolbar.zoomUpdateOptions(t,e)}},{key:"setLocale",value:function(t){this.localization.setCurrentLocaleValues(t)}},{key:"dataURI",value:function(t){return new $(this.ctx).dataURI(t)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var t=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout((function(){t.w.globals.resized=!0,t.w.globals.dataChanged=!1,t.ctx.update()}),150)}},{key:"_windowResizeHandler",value:function(){var t=this.w.config.chart.redrawOnWindowResize;"function"==typeof t&&(t=t()),t&&this._windowResize()}}],[{key:"getChartByID",value:function(t){var e=b.escapeString(t),i=Apex._chartInstances.filter((function(t){return t.id===e}))[0];return i&&i.chart}},{key:"initOnLoad",value:function(){for(var e=document.querySelectorAll("[data-apexcharts]"),i=0;i<e.length;i++)new t(e[i],JSON.parse(e[i].getAttribute("data-options"))).render()}},{key:"exec",value:function(t,e){var i=this.getChartByID(t);if(i){i.w.globals.isExecCalled=!0;var n=null;if(-1!==i.publicMethods.indexOf(e)){for(var r=arguments.length,s=new Array(r>2?r-2:0),a=2;a<r;a++)s[a-2]=arguments[a];n=i[e].apply(i,s)}return n}}},{key:"merge",value:function(t,e){return b.extend(t,e)}}]),t}();t.exports=Yt},4275:function(t,e,i){"use strict";i.d(e,{ZF:function(){return n.ZF}});var n=i(9684),r="firebase",s="9.6.7";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
(0,n.KN)(r,s,"app")},3437:function(t,e,i){"use strict";i.d(e,{Xb:function(){return oe},v0:function(){return ln},Aj:function(){return ce},e5:function(){return le},w7:function(){return he}});i(1703);var n=i(223),r=i(9684);function s(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(i[n[r]]=t[n[r]])}return i}Object.create;Object.create;var a=i(5168),o=i(7142);function l(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const c=l,h=new n.LL("auth","Firebase",l()),u=new a.Yd("@firebase/auth");function d(t,...e){u.logLevel<=a["in"].ERROR&&u.error(`Auth (${r.Jn}): ${t}`,...e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f(t,...e){throw m(t,...e)}function p(t,...e){return m(t,...e)}function g(t,e,i){const r=Object.assign(Object.assign({},c()),{[e]:i}),s=new n.LL("auth","Firebase",r);return s.create(e,{appName:t.name})}function m(t,...e){if("string"!==typeof t){const i=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(i,...n)}return h.create(t,...e)}function v(t,e,...i){if(!t)throw m(e,...i)}function y(t){const e="INTERNAL ASSERTION FAILED: "+t;throw d(e),new Error(e)}function x(t,e){t||y(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b=new Map;function w(t){x(t instanceof Function,"Expected a class definition");let e=b.get(t);return e?(x(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,b.set(t,e),e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k(t,e){const i=(0,r.qX)(t,"auth");if(i.isInitialized()){const t=i.getImmediate(),r=i.getOptions();if((0,n.vZ)(r,null!==e&&void 0!==e?e:{}))return t;f(t,"already-initialized")}const s=i.initialize({options:e});return s}function A(t,e){const i=(null===e||void 0===e?void 0:e.persistence)||[],n=(Array.isArray(i)?i:[i]).map(w);(null===e||void 0===e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,null===e||void 0===e?void 0:e.popupRedirectResolver)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S(){var t;return"undefined"!==typeof self&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function C(){return"http:"===E()||"https:"===E()}function E(){var t;return"undefined"!==typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(C()||(0,n.ru)()||"connection"in navigator))||navigator.onLine}function T(){if("undefined"===typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _{constructor(t,e){this.shortDelay=t,this.longDelay=e,x(e>t,"Short delay should be less than long delay!"),this.isMobile=(0,n.uI)()||(0,n.b$)()}get(){return I()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P(t,e){x(t.emulator,"Emulator should always be set here");const{url:i}=t.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void y("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void y("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void y("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R={["CREDENTIAL_MISMATCH"]:"custom-token-mismatch",["MISSING_CUSTOM_TOKEN"]:"internal-error",["INVALID_IDENTIFIER"]:"invalid-email",["MISSING_CONTINUE_URI"]:"internal-error",["INVALID_PASSWORD"]:"wrong-password",["MISSING_PASSWORD"]:"internal-error",["EMAIL_EXISTS"]:"email-already-in-use",["PASSWORD_LOGIN_DISABLED"]:"operation-not-allowed",["INVALID_IDP_RESPONSE"]:"invalid-credential",["INVALID_PENDING_TOKEN"]:"invalid-credential",["FEDERATED_USER_ID_ALREADY_LINKED"]:"credential-already-in-use",["MISSING_REQ_TYPE"]:"internal-error",["EMAIL_NOT_FOUND"]:"user-not-found",["RESET_PASSWORD_EXCEED_LIMIT"]:"too-many-requests",["EXPIRED_OOB_CODE"]:"expired-action-code",["INVALID_OOB_CODE"]:"invalid-action-code",["MISSING_OOB_CODE"]:"internal-error",["CREDENTIAL_TOO_OLD_LOGIN_AGAIN"]:"requires-recent-login",["INVALID_ID_TOKEN"]:"invalid-user-token",["TOKEN_EXPIRED"]:"user-token-expired",["USER_NOT_FOUND"]:"user-token-expired",["TOO_MANY_ATTEMPTS_TRY_LATER"]:"too-many-requests",["INVALID_CODE"]:"invalid-verification-code",["INVALID_SESSION_INFO"]:"invalid-verification-id",["INVALID_TEMPORARY_PROOF"]:"invalid-credential",["MISSING_SESSION_INFO"]:"missing-verification-id",["SESSION_EXPIRED"]:"code-expired",["MISSING_ANDROID_PACKAGE_NAME"]:"missing-android-pkg-name",["UNAUTHORIZED_DOMAIN"]:"unauthorized-continue-uri",["INVALID_OAUTH_CLIENT_ID"]:"invalid-oauth-client-id",["ADMIN_ONLY_OPERATION"]:"admin-restricted-operation",["INVALID_MFA_PENDING_CREDENTIAL"]:"invalid-multi-factor-session",["MFA_ENROLLMENT_NOT_FOUND"]:"multi-factor-info-not-found",["MISSING_MFA_ENROLLMENT_ID"]:"missing-multi-factor-info",["MISSING_MFA_PENDING_CREDENTIAL"]:"missing-multi-factor-session",["SECOND_FACTOR_EXISTS"]:"second-factor-already-in-use",["SECOND_FACTOR_LIMIT_EXCEEDED"]:"maximum-second-factor-count-exceeded",["BLOCKING_FUNCTION_ERROR_RESPONSE"]:"internal-error"},O=new _(3e4,6e4);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function M(t,e,i,r,s={}){return D(t,s,(async()=>{let s={},a={};r&&("GET"===e?a=r:s={body:JSON.stringify(r)});const o=(0,n.xO)(Object.assign({key:t.config.apiKey},a)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),L.fetch()(z(t,t.config.apiHost,i,o),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))}))}async function D(t,e,i){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},R),e);try{const e=new V(t),n=await Promise.race([i(),e.promise]);e.clearNetworkTimeout();const s=await n.json();if("needConfirmation"in s)throw H(t,"account-exists-with-different-credential",s);if(n.ok&&!("errorMessage"in s))return s;{const e=n.ok?s.errorMessage:s.error.message,[i,a]=e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===i)throw H(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===i)throw H(t,"email-already-in-use",s);const o=r[i]||i.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw g(t,o,a);f(t,o)}}catch(s){if(s instanceof n.ZR)throw s;f(t,"network-request-failed")}}async function F(t,e,i,n,r={}){const s=await M(t,e,i,n,r);return"mfaPendingCredential"in s&&f(t,"multi-factor-auth-required",{_serverResponse:s}),s}function z(t,e,i,n){const r=`${e}${i}?${n}`;return t.config.emulator?P(t.config,r):`${t.config.apiScheme}://${r}`}class V{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise(((t,e)=>{this.timer=setTimeout((()=>e(p(this.auth,"network-request-failed"))),O.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function H(t,e,i){const n={appName:t.name};i.email&&(n.email=i.email),i.phoneNumber&&(n.phoneNumber=i.phoneNumber);const r=p(t,e,n);return r.customData._tokenResponse=i,r}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X(t,e){return M(t,"POST","/v1/accounts:delete",e)}async function B(t,e){return M(t,"POST","/v1/accounts:lookup",e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U(t,e=!1){const i=(0,n.m9)(t),r=await i.getIdToken(e),s=j(r);v(s&&s.exp&&s.auth_time&&s.iat,i.auth,"internal-error");const a="object"===typeof s.firebase?s.firebase:void 0,o=null===a||void 0===a?void 0:a["sign_in_provider"];return{claims:s,token:r,authTime:Y(W(s.auth_time)),issuedAtTime:Y(W(s.iat)),expirationTime:Y(W(s.exp)),signInProvider:o||null,signInSecondFactor:(null===a||void 0===a?void 0:a["sign_in_second_factor"])||null}}function W(t){return 1e3*Number(t)}function j(t){const[e,i,r]=t.split(".");if(void 0===e||void 0===i||void 0===r)return d("JWT malformed, contained fewer than 3 sections"),null;try{const t=(0,n.tV)(i);return t?JSON.parse(t):(d("Failed to decode base64 JWT payload"),null)}catch(s){return d("Caught error parsing JWT payload as JSON",s),null}}function G(t){const e=j(t);return v(e,"internal-error"),v("undefined"!==typeof e.exp,"internal-error"),v("undefined"!==typeof e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q(t,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof n.ZR&&$(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function $({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const t=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),t}{this.errorBackoff=3e4;const t=null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0,i=t-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout((async()=>{await this.iteration()}),e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t.code&&this.schedule(!0))}this.schedule()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Y(this.lastLoginAt),this.creationTime=Y(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z(t){var e;const i=t.auth,n=await t.getIdToken(),r=await q(t,B(i,{idToken:n}));v(null===r||void 0===r?void 0:r.users.length,i,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const a=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?et(s.providerUserInfo):[],o=tt(t.providerData,a),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(null===o||void 0===o?void 0:o.length),h=!!l&&c,u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new J(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,u)}async function Q(t){const e=(0,n.m9)(t);await Z(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tt(t,e){const i=t.filter((t=>!e.some((e=>e.providerId===t.providerId))));return[...i,...e]}function et(t){return t.map((t=>{var{providerId:e}=t,i=s(t,["providerId"]);return{providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function it(t,e){const i=await D(t,{},(async()=>{const i=(0,n.xO)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,a=z(t,r,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",L.fetch()(a,{method:"POST",headers:o,body:i})}));return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){v(t.idToken,"internal-error"),v("undefined"!==typeof t.idToken,"internal-error"),v("undefined"!==typeof t.refreshToken,"internal-error");const e="expiresIn"in t&&"undefined"!==typeof t.expiresIn?Number(t.expiresIn):G(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}async getToken(t,e=!1){return v(!this.accessToken||this.refreshToken,t,"user-token-expired"),e||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:n,expiresIn:r}=await it(t,e);this.updateTokensAndExpiration(i,n,Number(r))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(t,e){const{refreshToken:i,accessToken:n,expirationTime:r}=e,s=new nt;return i&&(v("string"===typeof i,"internal-error",{appName:t}),s.refreshToken=i),n&&(v("string"===typeof n,"internal-error",{appName:t}),s.accessToken=n),r&&(v("number"===typeof r,"internal-error",{appName:t}),s.expirationTime=r),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new nt,this.toJSON())}_performRefresh(){return y("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rt(t,e){v("string"===typeof t||"undefined"===typeof t,"internal-error",{appName:e})}class st{constructor(t){var{uid:e,auth:i,stsTokenManager:n}=t,r=s(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new K(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new J(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const e=await q(this,this.stsTokenManager.getToken(this.auth,t));return v(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return U(this,t)}reload(){return Q(this)}_assign(t){this!==t&&(v(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map((t=>Object.assign({},t))),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){return new st(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(t){v(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await Z(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await q(this,X(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((t=>Object.assign({},t))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var i,n,r,s,a,o,l,c;const h=null!==(i=e.displayName)&&void 0!==i?i:void 0,u=null!==(n=e.email)&&void 0!==n?n:void 0,d=null!==(r=e.phoneNumber)&&void 0!==r?r:void 0,f=null!==(s=e.photoURL)&&void 0!==s?s:void 0,p=null!==(a=e.tenantId)&&void 0!==a?a:void 0,g=null!==(o=e._redirectEventId)&&void 0!==o?o:void 0,m=null!==(l=e.createdAt)&&void 0!==l?l:void 0,y=null!==(c=e.lastLoginAt)&&void 0!==c?c:void 0,{uid:x,emailVerified:b,isAnonymous:w,providerData:k,stsTokenManager:A}=e;v(x&&A,t,"internal-error");const S=nt.fromJSON(this.name,A);v("string"===typeof x,t,"internal-error"),rt(h,t.name),rt(u,t.name),v("boolean"===typeof b,t,"internal-error"),v("boolean"===typeof w,t,"internal-error"),rt(d,t.name),rt(f,t.name),rt(p,t.name),rt(g,t.name),rt(m,t.name),rt(y,t.name);const C=new st({uid:x,auth:t,email:u,emailVerified:b,displayName:h,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:S,createdAt:m,lastLoginAt:y});return k&&Array.isArray(k)&&(C.providerData=k.map((t=>Object.assign({},t)))),g&&(C._redirectEventId=g),C}static async _fromIdTokenResponse(t,e,i=!1){const n=new nt;n.updateFromServerResponse(e);const r=new st({uid:e.localId,auth:t,stsTokenManager:n,isAnonymous:i});return await Z(r),r}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return void 0===e?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}at.type="NONE";const ot=at;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(t,e,i){return`firebase:${t}:${e}:${i}`}class ct{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:n,name:r}=this.auth;this.fullUserKey=lt(this.userKey,n.apiKey,r),this.fullPersistenceKey=lt("persistence",n.apiKey,r),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?st._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=t,e?this.setCurrentUser(e):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new ct(w(ot),t,i);const n=(await Promise.all(e.map((async t=>{if(await t._isAvailable())return t})))).filter((t=>t));let r=n[0]||w(ot);const s=lt(i,t.config.apiKey,t.name);let a=null;for(const c of e)try{const e=await c._get(s);if(e){const i=st._fromJSON(t,e);c!==r&&(a=i),r=c;break}}catch(l){}const o=n.filter((t=>t._shouldAllowMigration));return r._shouldAllowMigration&&o.length?(r=o[0],a&&await r._set(s,a.toJSON()),await Promise.all(e.map((async t=>{if(t!==r)try{await t._remove(s)}catch(l){}}))),new ct(r,t,i)):new ct(r,t,i)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(pt(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ut(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mt(e))return"Blackberry";if(vt(e))return"Webos";if(dt(e))return"Safari";if((e.includes("chrome/")||ft(e))&&!e.includes("edge/"))return"Chrome";if(gt(e))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(e);if(2===(null===i||void 0===i?void 0:i.length))return i[1]}return"Other"}function ut(t=(0,n.z$)()){return/firefox\//i.test(t)}function dt(t=(0,n.z$)()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ft(t=(0,n.z$)()){return/crios\//i.test(t)}function pt(t=(0,n.z$)()){return/iemobile/i.test(t)}function gt(t=(0,n.z$)()){return/android/i.test(t)}function mt(t=(0,n.z$)()){return/blackberry/i.test(t)}function vt(t=(0,n.z$)()){return/webos/i.test(t)}function yt(t=(0,n.z$)()){return/iphone|ipad|ipod/i.test(t)}function xt(t=(0,n.z$)()){var e;return yt(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function bt(){return(0,n.w1)()&&10===document.documentMode}function wt(t=(0,n.z$)()){return yt(t)||gt(t)||vt(t)||mt(t)||/windows phone/i.test(t)||pt(t)}function kt(){try{return!(!window||window===window.top)}catch(t){return!1}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(t,e=[]){let i;switch(t){case"Browser":i=ht((0,n.z$)());break;case"Worker":i=`${ht((0,n.z$)())}-${t}`;break;default:i=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${r.Jn}/${s}`}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(t,e){this.app=t,this.config=e,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Et(this),this.idTokenSubscription=new Et(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=h,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=e.sdkClientVersion}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=w(e)),this._initializationPromise=this.queue((async()=>{var i,n;if(!this._deleted&&(this.persistenceManager=await ct.create(this,t),!this._deleted)){if(null===(i=this._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(r){}await this.initializeCurrentUser(e),this.lastNotifiedUid=(null===(n=this.currentUser)||void 0===n?void 0:n.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();return this.currentUser||t?this.currentUser&&t&&this.currentUser.uid===t.uid?(this._currentUser._assign(t),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(t):void 0}async initializeCurrentUser(t){var e;let i=await this.assertedPersistence.getCurrentUser();if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(e=this.redirectUser)||void 0===e?void 0:e._redirectEventId,r=null===i||void 0===i?void 0:i._redirectEventId,s=await this.tryRedirectSignIn(t);n&&n!==r||!(null===s||void 0===s?void 0:s.user)||(i=s.user)}return i?i._redirectEventId?(v(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)):this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch(i){await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Z(t)}catch(e){if("auth/network-request-failed"!==e.code)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=T()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const e=t?(0,n.m9)(t):null;return e&&v(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t){if(!this._deleted)return t&&v(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),this.queue((async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()}))}async signOut(){return(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null)}setPersistence(t){return this.queue((async()=>{await this.assertedPersistence.setPersistence(w(t))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new n.LL("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return null===t?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&w(t)||this._popupRedirectResolver;v(e,this,"argument-error"),this.redirectPersistenceManager=await ct.create(this,[w(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,i;return this._isInitialized&&await this.queue((async()=>{})),(null===(e=this._currentUser)||void 0===e?void 0:e._redirectEventId)===t?this._currentUser:(null===(i=this.redirectUser)||void 0===i?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(t)))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,n){if(this._deleted)return()=>{};const r="function"===typeof e?e:e.next.bind(e),s=this._isInitialized?Promise.resolve():this._initializationPromise;return v(s,this,"internal-error"),s.then((()=>r(this.currentUser))),"function"===typeof e?t.addObserver(e,i,n):t.addObserver(e)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return v(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){t&&!this.frameworks.includes(t)&&(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=At(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={["X-Client-Version"]:this.clientVersion};return this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId),t}}function Ct(t){return(0,n.m9)(t)}class Et{constructor(t){this.auth=t,this.observer=null,this.addObserver=(0,n.ne)((t=>this.observer=t))}get next(){return v(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class It{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return y("not implemented")}_getIdTokenResponse(t){return y("not implemented")}_linkToIdToken(t,e){return y("not implemented")}_getReauthenticationResolver(t){return y("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tt(t,e){return M(t,"POST","/v1/accounts:update",e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function _t(t,e){return F(t,"POST","/v1/accounts:signInWithPassword",N(t,e))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function Pt(t,e){return F(t,"POST","/v1/accounts:signInWithEmailLink",N(t,e))}async function Lt(t,e){return F(t,"POST","/v1/accounts:signInWithEmailLink",N(t,e))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt extends It{constructor(t,e,i,n=null){super("password",i),this._email=t,this._password=e,this._tenantId=n}static _fromEmailAndPassword(t,e){return new Rt(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new Rt(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e="string"===typeof t?JSON.parse(t):t;if((null===e||void 0===e?void 0:e.email)&&(null===e||void 0===e?void 0:e.password)){if("password"===e.signInMethod)return this._fromEmailAndPassword(e.email,e.password);if("emailLink"===e.signInMethod)return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":return _t(t,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Pt(t,{email:this._email,oobCode:this._password});default:f(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":return Tt(t,{idToken:e,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Lt(t,{idToken:e,email:this._email,oobCode:this._password});default:f(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ot(t,e){return F(t,"POST","/v1/accounts:signInWithIdp",N(t,e))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nt="http://localhost";class Mt extends It{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Mt(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):f("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e="string"===typeof t?JSON.parse(t):t,{providerId:i,signInMethod:n}=e,r=s(e,["providerId","signInMethod"]);if(!i||!n)return null;const a=new Mt(i,n);return a.idToken=r.idToken||void 0,a.accessToken=r.accessToken||void 0,a.secret=r.secret,a.nonce=r.nonce,a.pendingToken=r.pendingToken||null,a}_getIdTokenResponse(t){const e=this.buildRequest();return Ot(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,Ot(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Ot(t,e)}buildRequest(){const t={requestUri:Nt,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e["id_token"]=this.idToken),this.accessToken&&(e["access_token"]=this.accessToken),this.secret&&(e["oauth_token_secret"]=this.secret),e["providerId"]=this.providerId,this.nonce&&!this.pendingToken&&(e["nonce"]=this.nonce),t.postBody=(0,n.xO)(e)}return t}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dt(t,e){return M(t,"POST","/v1/accounts:sendVerificationCode",N(t,e))}async function Ft(t,e){return F(t,"POST","/v1/accounts:signInWithPhoneNumber",N(t,e))}async function zt(t,e){const i=await F(t,"POST","/v1/accounts:signInWithPhoneNumber",N(t,e));if(i.temporaryProof)throw H(t,"account-exists-with-different-credential",i);return i}const Vt={["USER_NOT_FOUND"]:"user-not-found"};async function Ht(t,e){const i=Object.assign(Object.assign({},e),{operation:"REAUTH"});return F(t,"POST","/v1/accounts:signInWithPhoneNumber",N(t,i),Vt)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt extends It{constructor(t){super("phone","phone"),this.params=t}static _fromVerification(t,e){return new Xt({verificationId:t,verificationCode:e})}static _fromTokenResponse(t,e){return new Xt({phoneNumber:t,temporaryProof:e})}_getIdTokenResponse(t){return Ft(t,this._makeVerificationRequest())}_linkToIdToken(t,e){return zt(t,Object.assign({idToken:e},this._makeVerificationRequest()))}_getReauthenticationResolver(t){return Ht(t,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:t,phoneNumber:e,verificationId:i,verificationCode:n}=this.params;return t&&e?{temporaryProof:t,phoneNumber:e}:{sessionInfo:i,code:n}}toJSON(){const t={providerId:this.providerId};return this.params.phoneNumber&&(t.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(t.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(t.verificationCode=this.params.verificationCode),this.params.verificationId&&(t.verificationId=this.params.verificationId),t}static fromJSON(t){"string"===typeof t&&(t=JSON.parse(t));const{verificationId:e,verificationCode:i,phoneNumber:n,temporaryProof:r}=t;return i||e||n||r?new Xt({verificationId:e,verificationCode:i,phoneNumber:n,temporaryProof:r}):null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Yt(t){const e=(0,n.zd)((0,n.pd)(t))["link"],i=e?(0,n.zd)((0,n.pd)(e))["deep_link_id"]:null,r=(0,n.zd)((0,n.pd)(t))["deep_link_id"],s=r?(0,n.zd)((0,n.pd)(r))["link"]:null;return s||r||i||e||t}class Ut{constructor(t){var e,i,r,s,a,o;const l=(0,n.zd)((0,n.pd)(t)),c=null!==(e=l["apiKey"])&&void 0!==e?e:null,h=null!==(i=l["oobCode"])&&void 0!==i?i:null,u=Bt(null!==(r=l["mode"])&&void 0!==r?r:null);v(c&&h&&u,"argument-error"),this.apiKey=c,this.operation=u,this.code=h,this.continueUrl=null!==(s=l["continueUrl"])&&void 0!==s?s:null,this.languageCode=null!==(a=l["languageCode"])&&void 0!==a?a:null,this.tenantId=null!==(o=l["tenantId"])&&void 0!==o?o:null}static parseLink(t){const e=Yt(t);try{return new Ut(e)}catch(i){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Wt{constructor(){this.providerId=Wt.PROVIDER_ID}static credential(t,e){return Rt._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=Ut.parseLink(e);return v(i,"argument-error"),Rt._fromEmailAndCode(t,i.code,i.tenantId)}}Wt.PROVIDER_ID="password",Wt.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Wt.EMAIL_LINK_SIGN_IN_METHOD="emailLink";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class jt{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt extends jt{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class qt extends Gt{constructor(){super("facebook.com")}static credential(t){return Mt._fromParams({providerId:qt.PROVIDER_ID,signInMethod:qt.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return qt.credentialFromTaggedObject(t)}static credentialFromError(t){return qt.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return qt.credential(t.oauthAccessToken)}catch(e){return null}}}qt.FACEBOOK_SIGN_IN_METHOD="facebook.com",qt.PROVIDER_ID="facebook.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class $t extends Gt{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Mt._fromParams({providerId:$t.PROVIDER_ID,signInMethod:$t.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return $t.credentialFromTaggedObject(t)}static credentialFromError(t){return $t.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return $t.credential(e,i)}catch(n){return null}}}$t.GOOGLE_SIGN_IN_METHOD="google.com",$t.PROVIDER_ID="google.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Kt extends Gt{constructor(){super("github.com")}static credential(t){return Mt._fromParams({providerId:Kt.PROVIDER_ID,signInMethod:Kt.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Kt.credentialFromTaggedObject(t)}static credentialFromError(t){return Kt.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Kt.credential(t.oauthAccessToken)}catch(e){return null}}}Kt.GITHUB_SIGN_IN_METHOD="github.com",Kt.PROVIDER_ID="github.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Jt extends Gt{constructor(){super("twitter.com")}static credential(t,e){return Mt._fromParams({providerId:Jt.PROVIDER_ID,signInMethod:Jt.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Jt.credentialFromTaggedObject(t)}static credentialFromError(t){return Jt.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return Jt.credential(e,i)}catch(n){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function Zt(t,e){return F(t,"POST","/v1/accounts:signUp",N(t,e))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jt.TWITTER_SIGN_IN_METHOD="twitter.com",Jt.PROVIDER_ID="twitter.com";class Qt{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,n=!1){const r=await st._fromIdTokenResponse(t,i,n),s=te(i),a=new Qt({user:r,providerId:s,_tokenResponse:i,operationType:e});return a}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const n=te(i);return new Qt({user:t,providerId:n,_tokenResponse:i,operationType:e})}}function te(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ee extends n.ZR{constructor(t,e,i,n){var r;super(e.code,e.message),this.operationType=i,this.user=n,Object.setPrototypeOf(this,ee.prototype),this.customData={appName:t.name,tenantId:null!==(r=t.tenantId)&&void 0!==r?r:void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,n){return new ee(t,e,i,n)}}function ie(t,e,i,n){const r="reauthenticate"===e?i._getReauthenticationResolver(t):i._getIdTokenResponse(t);return r.catch((i=>{if("auth/multi-factor-auth-required"===i.code)throw ee._fromErrorAndOperation(t,i,e,n);throw i}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ne(t,e,i=!1){const n=await q(t,e._linkToIdToken(t.auth,await t.getIdToken()),i);return Qt._forOperation(t,"link",n)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function re(t,e,i=!1){const{auth:n}=t,r="reauthenticate";try{const s=await q(t,ie(n,r,e,t),i);v(s.idToken,n,"internal-error");const a=j(s.idToken);v(a,n,"internal-error");const{sub:o}=a;return v(t.uid===o,n,"user-mismatch"),Qt._forOperation(t,r,s)}catch(s){throw"auth/user-not-found"===(null===s||void 0===s?void 0:s.code)&&f(n,"user-mismatch"),s}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function se(t,e,i=!1){const n="signIn",r=await ie(t,n,e),s=await Qt._fromIdTokenResponse(t,n,r);return i||await t._updateCurrentUser(s.user),s}async function ae(t,e){return se(Ct(t),e)}async function oe(t,e,i){const n=Ct(t),r=await Zt(n,{returnSecureToken:!0,email:e,password:i}),s=await Qt._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(s.user),s}function le(t,e,i){return ae((0,n.m9)(t),Wt.credential(e,i))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ce(t,e,i,r){return(0,n.m9)(t).onAuthStateChanged(e,i,r)}function he(t){return(0,n.m9)(t).signOut()}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ue(t,e){return M(t,"POST","/v2/accounts/mfaEnrollment:start",N(t,e))}function de(t,e){return M(t,"POST","/v2/accounts/mfaEnrollment:finalize",N(t,e))}new WeakMap;const fe="__sak";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(fe,"1"),this.storage.removeItem(fe),Promise.resolve(!0)):Promise.resolve(!1)}catch(t){return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(){const t=(0,n.z$)();return dt(t)||yt(t)}const me=1e3,ve=10;class ye extends pe{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=ge()&&kt(),this.fallbackToPolling=wt(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),n=this.localCache[e];i!==n&&t(e,n,i)}}onStorageEvent(t,e=!1){if(!t.key)return void this.forAllChangedKeys(((t,e,i)=>{this.notifyListeners(t,i)}));const i=t.key;if(e?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const n=this.storage.getItem(i);if(t.newValue!==n)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!e)return}const n=()=>{const t=this.storage.getItem(i);(e||this.localCache[i]!==t)&&this.notifyListeners(i,t)},r=this.storage.getItem(i);bt()&&r!==t.newValue&&t.newValue!==t.oldValue?setTimeout(n,ve):n()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const n of Array.from(i))n(e?JSON.parse(e):e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)}))}),me)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}ye.type="LOCAL";const xe=ye;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be extends pe{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(t,e){}_removeListener(t,e){}}be.type="SESSION";const we=be;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(t){return Promise.all(t.map((async t=>{try{const e=await t;return{fulfilled:!0,value:e}}catch(e){return{fulfilled:!1,reason:e}}})))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find((e=>e.isListeningto(t)));if(e)return e;const i=new Ae(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:n,data:r}=e.data,s=this.handlersMap[n];if(!(null===s||void 0===s?void 0:s.size))return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:n});const a=Array.from(s).map((async t=>t(e.origin,r))),o=await ke(a);e.ports[0].postMessage({status:"done",eventId:i,eventType:n,response:o})}_subscribe(t,e){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),e&&0!==this.handlersMap[t].size||delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Se(t="",e=10){let i="";for(let n=0;n<e;n++)i+=Math.floor(10*Math.random());return t+i}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ae.receivers=[];class Ce{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const n="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!n)throw new Error("connection_unavailable");let r,s;return new Promise(((a,o)=>{const l=Se("",20);n.port1.start();const c=setTimeout((()=>{o(new Error("unsupported_event"))}),i);s={messageChannel:n,onMessage(t){const e=t;if(e.data.eventId===l)switch(e.data.status){case"ack":clearTimeout(c),r=setTimeout((()=>{o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(r),a(e.data.response);break;default:clearTimeout(c),clearTimeout(r),o(new Error("invalid_response"));break}}},this.handlers.add(s),n.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:l,data:e},[n.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(){return window}function Ie(t){Ee().location.href=t}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(){return"undefined"!==typeof Ee()["WorkerGlobalScope"]&&"function"===typeof Ee()["importScripts"]}async function _e(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{const t=await navigator.serviceWorker.ready;return t.active}catch(t){return null}}function Pe(){var t;return(null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null}function Le(){return Te()?self:null}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Re="firebaseLocalStorageDb",Oe=1,Ne="firebaseLocalStorage",Me="fbase_key";class De{constructor(t){this.request=t}toPromise(){return new Promise(((t,e)=>{this.request.addEventListener("success",(()=>{t(this.request.result)})),this.request.addEventListener("error",(()=>{e(this.request.error)}))}))}}function Fe(t,e){return t.transaction([Ne],e?"readwrite":"readonly").objectStore(Ne)}function ze(){const t=indexedDB.deleteDatabase(Re);return new De(t).toPromise()}function Ve(){const t=indexedDB.open(Re,Oe);return new Promise(((e,i)=>{t.addEventListener("error",(()=>{i(t.error)})),t.addEventListener("upgradeneeded",(()=>{const e=t.result;try{e.createObjectStore(Ne,{keyPath:Me})}catch(n){i(n)}})),t.addEventListener("success",(async()=>{const i=t.result;i.objectStoreNames.contains(Ne)?e(i):(i.close(),await ze(),e(await Ve()))}))}))}async function He(t,e,i){const n=Fe(t,!0).put({[Me]:e,value:i});return new De(n).toPromise()}async function Xe(t,e){const i=Fe(t,!1).get(e),n=await new De(i).toPromise();return void 0===n?null:n.value}function Be(t,e){const i=Fe(t,!0).delete(e);return new De(i).toPromise()}const Ye=800,Ue=3;class We{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Ve()),this.db}async _withRetries(t){let e=0;while(1)try{const e=await this._openDb();return await t(e)}catch(i){if(e++>Ue)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Te()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ae._getInstance(Le()),this.receiver._subscribe("keyChanged",(async(t,e)=>{const i=await this._poll();return{keyProcessed:i.includes(e.key)}})),this.receiver._subscribe("ping",(async(t,e)=>["keyChanged"]))}async initializeSender(){var t,e;if(this.activeServiceWorker=await _e(),!this.activeServiceWorker)return;this.sender=new Ce(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&(null===(t=i[0])||void 0===t?void 0:t.fulfilled)&&(null===(e=i[0])||void 0===e?void 0:e.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(this.sender&&this.activeServiceWorker&&Pe()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Ve();return await He(t,fe,"1"),await Be(t,fe),!0}catch(t){}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite((async()=>(await this._withRetries((i=>He(i,t,e))),this.localCache[t]=e,this.notifyServiceWorker(t))))}async _get(t){const e=await this._withRetries((e=>Xe(e,t)));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite((async()=>(await this._withRetries((e=>Be(e,t))),delete this.localCache[t],this.notifyServiceWorker(t))))}async _poll(){const t=await this._withRetries((t=>{const e=Fe(t,!1).getAll();return new De(e).toPromise()}));if(!t)return[];if(0!==this.pendingWrites)return[];const e=[],i=new Set;for(const{fbase_key:n,value:r}of t)i.add(n),JSON.stringify(this.localCache[n])!==JSON.stringify(r)&&(this.notifyListeners(n,r),e.push(n));for(const n of Object.keys(this.localCache))this.localCache[n]&&!i.has(n)&&(this.notifyListeners(n,null),e.push(n));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const n of Array.from(i))n(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),Ye)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}We.type="LOCAL";const je=We;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(t,e){return M(t,"POST","/v2/accounts/mfaSignIn:start",N(t,e))}function qe(t,e){return M(t,"POST","/v2/accounts/mfaSignIn:finalize",N(t,e))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function $e(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}function Ke(t){return new Promise(((e,i)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=t=>{const e=p("internal-error");e.customData=t,i(e)},n.type="text/javascript",n.charset="UTF-8",$e().appendChild(n)}))}function Je(t){return`__${t}${Math.floor(1e6*Math.random())}`}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Je("rcb"),new _(3e4,6e4);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Ze="recaptcha";async function Qe(t,e,i){var n;const r=await i.verify();try{let s;if(v("string"===typeof r,t,"argument-error"),v(i.type===Ze,t,"argument-error"),s="string"===typeof e?{phoneNumber:e}:e,"session"in s){const e=s.session;if("phoneNumber"in s){v("enroll"===e.type,t,"internal-error");const i=await ue(t,{idToken:e.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:r}});return i.phoneSessionInfo.sessionInfo}{v("signin"===e.type,t,"internal-error");const i=(null===(n=s.multiFactorHint)||void 0===n?void 0:n.uid)||s.multiFactorUid;v(i,t,"missing-multi-factor-info");const a=await Ge(t,{mfaPendingCredential:e.credential,mfaEnrollmentId:i,phoneSignInInfo:{recaptchaToken:r}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:e}=await Dt(t,{phoneNumber:s.phoneNumber,recaptchaToken:r});return e}}finally{i._reset()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ti{constructor(t){this.providerId=ti.PROVIDER_ID,this.auth=Ct(t)}verifyPhoneNumber(t,e){return Qe(this.auth,t,(0,n.m9)(e))}static credential(t,e){return Xt._fromVerification(t,e)}static credentialFromResult(t){const e=t;return ti.credentialFromTaggedObject(e)}static credentialFromError(t){return ti.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{phoneNumber:e,temporaryProof:i}=t;return e&&i?Xt._fromTokenResponse(e,i):null}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ei(t,e){return e?w(e):(v(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ti.PROVIDER_ID="phone",ti.PHONE_SIGN_IN_METHOD="phone";class ii extends It{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ot(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Ot(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Ot(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function ni(t){return se(t.auth,new ii(t),t.bypassAuthState)}function ri(t){const{auth:e,user:i}=t;return v(i,e,"internal-error"),re(i,new ii(t),t.bypassAuthState)}async function si(t){const{auth:e,user:i}=t;return v(i,e,"internal-error"),ne(i,new ii(t),t.bypassAuthState)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(t,e,i,n,r=!1){this.auth=t,this.resolver=i,this.user=n,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise((async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:n,tenantId:r,error:s,type:a}=t;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:e,sessionId:i,tenantId:r||void 0,postBody:n||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(l){this.reject(l)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return ni;case"linkViaPopup":case"linkViaRedirect":return si;case"reauthViaPopup":case"reauthViaRedirect":return ri;default:f(this.auth,"internal-error")}}resolve(t){x(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){x(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi=new _(2e3,1e4);class li extends ai{constructor(t,e,i,n,r){super(t,e,n,r),this.provider=i,this.authWindow=null,this.pollId=null,li.currentPopupAction&&li.currentPopupAction.cancel(),li.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return v(t,this.auth,"internal-error"),t}async onExecution(){x(1===this.filter.length,"Popup operations only handle one event");const t=Se();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((t=>{this.reject(t)})),this.resolver._isIframeWebStorageSupported(this.auth,(t=>{t||this.reject(p(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(p(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,li.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,i;(null===(i=null===(e=this.authWindow)||void 0===e?void 0:e.window)||void 0===i?void 0:i.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(p(this.auth,"popup-closed-by-user"))}),2e3):this.pollId=window.setTimeout(t,oi.get())};t()}}li.currentPopupAction=null;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const ci="pendingRedirect",hi=new Map;class ui extends ai{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=hi.get(this.auth._key());if(!t){try{const e=await di(this.resolver,this.auth),i=e?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}hi.set(this.auth._key(),t)}return this.bypassAuthState||hi.set(this.auth._key(),(()=>Promise.resolve(null))),t()}async onAuthEvent(t){if("signInViaRedirect"===t.type)return super.onAuthEvent(t);if("unknown"!==t.type){if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function di(t,e){const i=pi(e),n=fi(t);if(!await n._isAvailable())return!1;const r="true"===await n._get(i);return await n._remove(i),r}function fi(t){return w(t._redirectPersistence)}function pi(t){return lt(ci,t.config.apiKey,t.name)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gi(t,e,i=!1){const n=Ct(t),r=ei(n,e),s=new ui(n,r,i),a=await s.execute();return a&&!i&&(delete a.user._redirectEventId,await n._persistUserIfCurrent(a.user),await n._setRedirectUser(null,e)),a}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const mi=6e5;class vi{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach((i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))})),this.hasHandledPotentialRedirect||!bi(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var i;if(t.error&&!xi(t)){const n=(null===(i=t.error.code)||void 0===i?void 0:i.split("auth/")[1])||"internal-error";e.onError(p(this.auth,n))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=null===e.eventId||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=mi&&this.cachedEventUids.clear(),this.cachedEventUids.has(yi(t))}saveEventToCache(t){this.cachedEventUids.add(yi(t)),this.lastProcessedEventTime=Date.now()}}function yi(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter((t=>t)).join("-")}function xi({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===(null===e||void 0===e?void 0:e.code)}function bi(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xi(t);default:return!1}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wi(t,e={}){return M(t,"GET","/v1/projects",e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ai=/^https?/;async function Si(t){if(t.config.emulator)return;const{authorizedDomains:e}=await wi(t);for(const n of e)try{if(Ci(n))return}catch(i){}f(t,"unauthorized-domain")}function Ci(t){const e=S(),{protocol:i,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const r=new URL(t);return""===r.hostname&&""===n?"chrome-extension:"===i&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===i&&r.hostname===n}if(!Ai.test(i))return!1;if(ki.test(t))return n===t;const r=t.replace(/\./g,"\\."),s=new RegExp("^(.+\\."+r+"|"+r+")$","i");return s.test(n)}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei=new _(3e4,6e4);function Ii(){const t=Ee().___jsl;if(null===t||void 0===t?void 0:t.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let i=0;i<t.CP.length;i++)t.CP[i]=null}function Ti(t){return new Promise(((e,i)=>{var n,r,s;function a(){Ii(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ii(),i(p(t,"network-request-failed"))},timeout:Ei.get()})}if(null===(r=null===(n=Ee().gapi)||void 0===n?void 0:n.iframes)||void 0===r?void 0:r.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=Ee().gapi)||void 0===s?void 0:s.load)){const e=Je("iframefcb");return Ee()[e]=()=>{gapi.load?a():i(p(t,"network-request-failed"))},Ke(`https://apis.google.com/js/api.js?onload=${e}`).catch((t=>i(t)))}a()}})).catch((t=>{throw _i=null,t}))}let _i=null;function Pi(t){return _i=_i||Ti(t),_i}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li=new _(5e3,15e3),Ri="__/auth/iframe",Oi="emulator/auth/iframe",Ni={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Mi=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Di(t){const e=t.config;v(e.authDomain,t,"auth-domain-config-required");const i=e.emulator?P(e,Oi):`https://${t.config.authDomain}/${Ri}`,s={apiKey:e.apiKey,appName:t.name,v:r.Jn},a=Mi.get(t.config.apiHost);a&&(s.eid=a);const o=t._getFrameworks();return o.length&&(s.fw=o.join(",")),`${i}?${(0,n.xO)(s).slice(1)}`}async function Fi(t){const e=await Pi(t),i=Ee().gapi;return v(i,t,"internal-error"),e.open({where:document.body,url:Di(t),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ni,dontclear:!0},(e=>new Promise((async(i,n)=>{await e.restyle({setHideOnLeave:!1});const r=p(t,"network-request-failed"),s=Ee().setTimeout((()=>{n(r)}),Li.get());function a(){Ee().clearTimeout(s),i(e)}e.ping(a).then(a,(()=>{n(r)}))}))))}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Vi=500,Hi=600,Xi="_blank",Bi="http://localhost";class Yi{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(t){}}}function Ui(t,e,i,r=Vi,s=Hi){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},zi),{width:r.toString(),height:s.toString(),top:a,left:o}),h=(0,n.z$)().toLowerCase();i&&(l=ft(h)?Xi:i),ut(h)&&(e=e||Bi,c.scrollbars="yes");const u=Object.entries(c).reduce(((t,[e,i])=>`${t}${e}=${i},`),"");if(xt(h)&&"_self"!==l)return Wi(e||"",l),new Yi(null);const d=window.open(e||"",l,u);v(d,t,"popup-blocked");try{d.focus()}catch(f){}return new Yi(d)}function Wi(t,e){const i=document.createElement("a");i.href=t,i.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(n)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji="__/auth/handler",Gi="emulator/auth/handler";function qi(t,e,i,s,a,o){v(t.config.authDomain,t,"auth-domain-config-required"),v(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:i,redirectUrl:s,v:r.Jn,eventId:a};if(e instanceof jt){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",(0,n.xb)(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[t,e]of Object.entries(o||{}))l[t]=e}if(e instanceof Gt){const t=e.getScopes().filter((t=>""!==t));t.length>0&&(l.scopes=t.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const n of Object.keys(c))void 0===c[n]&&delete c[n];return`${$i(t)}?${(0,n.xO)(c).slice(1)}`}function $i({config:t}){return t.emulator?P(t,Gi):`https://${t.authDomain}/${ji}`}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki="webStorageSupport";class Ji{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=we,this._completeRedirectFn=gi}async _openPopup(t,e,i,n){var r;x(null===(r=this.eventManagers[t._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()");const s=qi(t,e,i,S(),n);return Ui(t,s,Se())}async _openRedirect(t,e,i,n){return await this._originValidation(t),Ie(qi(t,e,i,S(),n)),new Promise((()=>{}))}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:t,promise:i}=this.eventManagers[e];return t?Promise.resolve(t):(x(i,"If manager is not set, promise should be"),i)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch((()=>{delete this.eventManagers[e]})),i}async initAndGetManager(t){const e=await Fi(t),i=new vi(t);return e.register("authEvent",(e=>{v(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event");const n=i.onEvent(e.authEvent);return{status:n?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){const i=this.iframes[t._key()];i.send(Ki,{type:Ki},(i=>{var n;const r=null===(n=null===i||void 0===i?void 0:i[0])||void 0===n?void 0:n[Ki];void 0!==r&&e(!!r),f(t,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=Si(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return wt()||dt()||yt()}}const Zi=Ji;class Qi{constructor(t){this.factorId=t}_process(t,e,i){switch(e.type){case"enroll":return this._finalizeEnroll(t,e.credential,i);case"signin":return this._finalizeSignIn(t,e.credential);default:return y("unexpected MultiFactorSessionType")}}}class tn extends Qi{constructor(t){super("phone"),this.credential=t}static _fromCredential(t){return new tn(t)}_finalizeEnroll(t,e,i){return de(t,{idToken:e,displayName:i,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(t,e){return qe(t,{mfaPendingCredential:e,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class en{constructor(){}static assertion(t){return tn._fromCredential(t)}}en.FACTOR_ID="phone";var nn="@firebase/auth",rn="0.19.9";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class sn{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}async getToken(t){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;const e=await this.auth.currentUser.getIdToken(t);return{accessToken:e}}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged((e=>{var i;t((null===(i=e)||void 0===i?void 0:i.stsTokenManager.accessToken)||null)}));this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){v(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function on(t){(0,r.Xd)(new o.wA("auth",((e,{options:i})=>{const n=e.getProvider("app").getImmediate(),{apiKey:r,authDomain:s}=n.options;return(e=>{v(r&&!r.includes(":"),"invalid-api-key",{appName:e.name}),v(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:e.name});const n={apiKey:r,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:At(t)},a=new St(e,n);return A(a,i),a})(n)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((t,e,i)=>{const n=t.getProvider("auth-internal");n.initialize()}))),(0,r.Xd)(new o.wA("auth-internal",(t=>{const e=Ct(t.getProvider("auth").getImmediate());return(t=>new sn(t))(e)}),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,r.KN)(nn,rn,an(t)),(0,r.KN)(nn,rn,"esm2017")}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(t=(0,r.Mq)()){const e=(0,r.qX)(t,"auth");return e.isInitialized()?e.getImmediate():k(t,{popupRedirectResolver:Zi,persistence:[je,xe,we]})}on("Browser")},6035:function(t,e,i){"use strict";i.d(e,{ET:function(){return Nu},hJ:function(){return Mh},JU:function(){return Dh},QT:function(){return Lu},PL:function(){return Ou},ad:function(){return Vh},b9:function(){return Cu},Xo:function(){return Au},IO:function(){return xu},ar:function(){return wu}});i(1703),i(8675),i(3462),i(2801),i(2262),i(4506);var n,r=i(9684),s=i(7142),a=i(5168),o=i(223),l="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof i.g?i.g:"undefined"!==typeof self?self:{},c={},h=h||{},u=l||self;function d(){}function f(t){var e=typeof t;return e="object"!=e?e:t?Array.isArray(t)?"array":e:"null","array"==e||"object"==e&&"number"==typeof t.length}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function g(t){return Object.prototype.hasOwnProperty.call(t,m)&&t[m]||(t[m]=++v)}var m="closure_uid_"+(1e9*Math.random()>>>0),v=0;function y(t,e,i){return t.call.apply(t.bind,arguments)}function x(t,e,i){if(!t)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,n),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function b(t,e,i){return b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:x,b.apply(null,arguments)}function w(t,e){var i=Array.prototype.slice.call(arguments,1);return function(){var e=i.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function k(t,e){function i(){}i.prototype=e.prototype,t.Z=e.prototype,t.prototype=new i,t.prototype.constructor=t,t.Vb=function(t,i,n){for(var r=Array(arguments.length-2),s=2;s<arguments.length;s++)r[s-2]=arguments[s];return e.prototype[i].apply(t,r)}}function A(){this.s=this.s,this.o=this.o}var S=0,C={};A.prototype.s=!1,A.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0!=S)){var t=g(this);delete C[t]}},A.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const E=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(let i=0;i<t.length;i++)if(i in t&&t[i]===e)return i;return-1},I=Array.prototype.forEach?function(t,e,i){Array.prototype.forEach.call(t,e,i)}:function(t,e,i){const n=t.length,r="string"===typeof t?t.split(""):t;for(let s=0;s<n;s++)s in r&&e.call(i,r[s],s,t)};function T(t){t:{var e=Wi;const i=t.length,n="string"===typeof t?t.split(""):t;for(let r=0;r<i;r++)if(r in n&&e.call(void 0,n[r],r,t)){e=r;break t}e=-1}return 0>e?null:"string"===typeof t?t.charAt(e):t[e]}function _(t){return Array.prototype.concat.apply([],arguments)}function P(t){const e=t.length;if(0<e){const i=Array(e);for(let n=0;n<e;n++)i[n]=t[n];return i}return[]}function L(t){return/^[\s\xa0]*$/.test(t)}var R,O=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function N(t,e){return-1!=t.indexOf(e)}function M(t,e){return t<e?-1:t>e?1:0}t:{var D=u.navigator;if(D){var F=D.userAgent;if(F){R=F;break t}}R=""}function z(t,e,i){for(const n in t)e.call(i,t[n],n,t)}function V(t){const e={};for(const i in t)e[i]=t[i];return e}var H="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function X(t,e){let i,n;for(let r=1;r<arguments.length;r++){for(i in n=arguments[r],n)t[i]=n[i];for(let e=0;e<H.length;e++)i=H[e],Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}}function B(t){return B[" "](t),t}function Y(t){var e=it;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}B[" "]=d;var U,W=N(R,"Opera"),j=N(R,"Trident")||N(R,"MSIE"),G=N(R,"Edge"),q=G||j,$=N(R,"Gecko")&&!(N(R.toLowerCase(),"webkit")&&!N(R,"Edge"))&&!(N(R,"Trident")||N(R,"MSIE"))&&!N(R,"Edge"),K=N(R.toLowerCase(),"webkit")&&!N(R,"Edge");function J(){var t=u.document;return t?t.documentMode:void 0}t:{var Z="",Q=function(){var t=R;return $?/rv:([^\);]+)(\)|;)/.exec(t):G?/Edge\/([\d\.]+)/.exec(t):j?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):K?/WebKit\/(\S+)/.exec(t):W?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(Q&&(Z=Q?Q[1]:""),j){var tt=J();if(null!=tt&&tt>parseFloat(Z)){U=String(tt);break t}}U=Z}var et,it={};function nt(){return Y((function(){let t=0;const e=O(String(U)).split("."),i=O("9").split("."),n=Math.max(e.length,i.length);for(let a=0;0==t&&a<n;a++){var r=e[a]||"",s=i[a]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;t=M(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||M(0==r[2].length,0==s[2].length)||M(r[2],s[2]),r=r[3],s=s[3]}while(0==t)}return 0<=t}))}if(u.document&&j){var rt=J();et=rt||(parseInt(U,10)||void 0)}else et=void 0;var st=et,at=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{u.addEventListener("test",d,e),u.removeEventListener("test",d,e)}catch(i){}return t}();function ot(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function lt(t,e){if(ot.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var i=this.type=t.type,n=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if($){t:{try{B(e.nodeName);var r=!0;break t}catch(s){}r=!1}r||(e=null)}}else"mouseover"==i?e=t.fromElement:"mouseout"==i&&(e=t.toElement);this.relatedTarget=e,n?(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:ct[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&lt.Z.h.call(this)}}ot.prototype.h=function(){this.defaultPrevented=!0},k(lt,ot);var ct={2:"touch",3:"pen",4:"mouse"};lt.prototype.h=function(){lt.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ht="closure_listenable_"+(1e6*Math.random()|0),ut=0;function dt(t,e,i,n,r){this.listener=t,this.proxy=null,this.src=e,this.type=i,this.capture=!!n,this.ia=r,this.key=++ut,this.ca=this.fa=!1}function ft(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function pt(t){this.src=t,this.g={},this.h=0}function gt(t,e){var i=e.type;if(i in t.g){var n,r=t.g[i],s=E(r,e);(n=0<=s)&&Array.prototype.splice.call(r,s,1),n&&(ft(e),0==t.g[i].length&&(delete t.g[i],t.h--))}}function mt(t,e,i,n){for(var r=0;r<t.length;++r){var s=t[r];if(!s.ca&&s.listener==e&&s.capture==!!i&&s.ia==n)return r}return-1}pt.prototype.add=function(t,e,i,n,r){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var a=mt(t,e,n,r);return-1<a?(e=t[a],i||(e.fa=!1)):(e=new dt(e,this.src,s,!!n,r),e.fa=i,t.push(e)),e};var vt="closure_lm_"+(1e6*Math.random()|0),yt={};function xt(t,e,i,n,r){if(n&&n.once)return kt(t,e,i,n,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)xt(t,e[s],i,n,r);return null}return i=_t(i),t&&t[ht]?t.N(e,i,p(n)?!!n.capture:!!n,r):bt(t,e,i,!1,n,r)}function bt(t,e,i,n,r,s){if(!e)throw Error("Invalid event type");var a=p(r)?!!r.capture:!!r,o=It(t);if(o||(t[vt]=o=new pt(t)),i=o.add(e,i,n,a,s),i.proxy)return i;if(n=wt(),i.proxy=n,n.src=t,n.listener=i,t.addEventListener)at||(r=a),void 0===r&&(r=!1),t.addEventListener(e.toString(),n,r);else if(t.attachEvent)t.attachEvent(Ct(e.toString()),n);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(n)}return i}function wt(){function t(i){return e.call(t.src,t.listener,i)}var e=Et;return t}function kt(t,e,i,n,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)kt(t,e[s],i,n,r);return null}return i=_t(i),t&&t[ht]?t.O(e,i,p(n)?!!n.capture:!!n,r):bt(t,e,i,!0,n,r)}function At(t,e,i,n,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)At(t,e[s],i,n,r);else n=p(n)?!!n.capture:!!n,i=_t(i),t&&t[ht]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],i=mt(s,i,n,r),-1<i&&(ft(s[i]),Array.prototype.splice.call(s,i,1),0==s.length&&(delete t.g[e],t.h--)))):t&&(t=It(t))&&(e=t.g[e.toString()],t=-1,e&&(t=mt(e,i,n,r)),(i=-1<t?e[t]:null)&&St(i))}function St(t){if("number"!==typeof t&&t&&!t.ca){var e=t.src;if(e&&e[ht])gt(e.i,t);else{var i=t.type,n=t.proxy;e.removeEventListener?e.removeEventListener(i,n,t.capture):e.detachEvent?e.detachEvent(Ct(i),n):e.addListener&&e.removeListener&&e.removeListener(n),(i=It(e))?(gt(i,t),0==i.h&&(i.src=null,e[vt]=null)):ft(t)}}}function Ct(t){return t in yt?yt[t]:yt[t]="on"+t}function Et(t,e){if(t.ca)t=!0;else{e=new lt(e,this);var i=t.listener,n=t.ia||t.src;t.fa&&St(t),t=i.call(n,e)}return t}function It(t){return t=t[vt],t instanceof pt?t:null}var Tt="__closure_events_fn_"+(1e9*Math.random()>>>0);function _t(t){return"function"===typeof t?t:(t[Tt]||(t[Tt]=function(e){return t.handleEvent(e)}),t[Tt])}function Pt(){A.call(this),this.i=new pt(this),this.P=this,this.I=null}function Lt(t,e){var i,n=t.I;if(n)for(i=[];n;n=n.I)i.push(n);if(t=t.P,n=e.type||e,"string"===typeof e)e=new ot(e,t);else if(e instanceof ot)e.target=e.target||t;else{var r=e;e=new ot(n,t),X(e,r)}if(r=!0,i)for(var s=i.length-1;0<=s;s--){var a=e.g=i[s];r=Rt(a,n,!0,e)&&r}if(a=e.g=t,r=Rt(a,n,!0,e)&&r,r=Rt(a,n,!1,e)&&r,i)for(s=0;s<i.length;s++)a=e.g=i[s],r=Rt(a,n,!1,e)&&r}function Rt(t,e,i,n){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var a=e[s];if(a&&!a.ca&&a.capture==i){var o=a.listener,l=a.ia||a.src;a.fa&&gt(t.i,a),r=!1!==o.call(l,n)&&r}}return r&&!n.defaultPrevented}k(Pt,A),Pt.prototype[ht]=!0,Pt.prototype.removeEventListener=function(t,e,i,n){At(this,t,e,i,n)},Pt.prototype.M=function(){if(Pt.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var i=e.g[t],n=0;n<i.length;n++)ft(i[n]);delete e.g[t],e.h--}}this.I=null},Pt.prototype.N=function(t,e,i,n){return this.i.add(String(t),e,!1,i,n)},Pt.prototype.O=function(t,e,i,n){return this.i.add(String(t),e,!0,i,n)};var Ot=u.JSON.stringify;function Nt(){var t=Yt;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class Mt{constructor(){this.h=this.g=null}add(t,e){const i=Ft.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}}var Dt,Ft=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}((()=>new zt),(t=>t.reset()));class zt{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function Vt(t){u.setTimeout((()=>{throw t}),0)}function Ht(t,e){Dt||Xt(),Bt||(Dt(),Bt=!0),Yt.add(t,e)}function Xt(){var t=u.Promise.resolve(void 0);Dt=function(){t.then(Ut)}}var Bt=!1,Yt=new Mt;function Ut(){for(var t;t=Nt();){try{t.h.call(t.g)}catch(i){Vt(i)}var e=Ft;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Bt=!1}function Wt(t,e){Pt.call(this),this.h=t||1,this.g=e||u,this.j=b(this.kb,this),this.l=Date.now()}function jt(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function Gt(t,e,i){if("function"===typeof t)i&&(t=b(t,i));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:u.setTimeout(t,e||0)}function qt(t){t.g=Gt((()=>{t.g=null,t.i&&(t.i=!1,qt(t))}),t.j);const e=t.h;t.h=null,t.m.apply(null,e)}k(Wt,Pt),n=Wt.prototype,n.da=!1,n.S=null,n.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Lt(this,"tick"),this.da&&(jt(this),this.start()))}},n.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},n.M=function(){Wt.Z.M.call(this),jt(this),delete this.g};class $t extends A{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:qt(this)}M(){super.M(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kt(t){A.call(this),this.h=t,this.g={}}k(Kt,A);var Jt=[];function Zt(t,e,i,n){Array.isArray(i)||(i&&(Jt[0]=i.toString()),i=Jt);for(var r=0;r<i.length;r++){var s=xt(e,i[r],n||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function Qt(t){z(t.g,(function(t,e){this.g.hasOwnProperty(e)&&St(t)}),t),t.g={}}function te(){this.g=!0}function ee(t,e,i,n,r,s){t.info((function(){if(t.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var h=c[0];c=c[1];var u=h.split("_");a=2<=u.length&&"type"==u[1]?a+(h+"=")+c+"&":a+(h+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+n+") [attempt "+r+"]: "+e+"\n"+i+"\n"+a}))}function ie(t,e,i,n,r,s,a){t.info((function(){return"XMLHTTP RESP ("+n+") [ attempt "+r+"]: "+e+"\n"+i+"\n"+s+" "+a}))}function ne(t,e,i,n){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+se(t,i)+(n?" "+n:"")}))}function re(t,e){t.info((function(){return"TIMEOUT: "+e}))}function se(t,e){if(!t.g)return e;if(!e)return null;try{var i=JSON.parse(e);if(i)for(t=0;t<i.length;t++)if(Array.isArray(i[t])){var n=i[t];if(!(2>n.length)){var r=n[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<r.length;a++)r[a]=""}}}return Ot(i)}catch(o){return e}}Kt.prototype.M=function(){Kt.Z.M.call(this),Qt(this)},Kt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},te.prototype.Aa=function(){this.g=!1},te.prototype.info=function(){};var ae={},oe=null;function le(){return oe=oe||new Pt}function ce(t){ot.call(this,ae.Ma,t)}function he(t){const e=le();Lt(e,new ce(e,t))}function ue(t,e){ot.call(this,ae.STAT_EVENT,t),this.stat=e}function de(t){const e=le();Lt(e,new ue(e,t))}function fe(t,e){ot.call(this,ae.Na,t),this.size=e}function pe(t,e){if("function"!==typeof t)throw Error("Fn must not be null and must be a function");return u.setTimeout((function(){t()}),e)}ae.Ma="serverreachability",k(ce,ot),ae.STAT_EVENT="statevent",k(ue,ot),ae.Na="timingevent",k(fe,ot);var ge={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},me={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ve(){}function ye(t){return t.h||(t.h=t.i())}function xe(){}ve.prototype.h=null;var be,we={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ke(){ot.call(this,"d")}function Ae(){ot.call(this,"c")}function Se(){}function Ce(t,e,i,n){this.l=t,this.j=e,this.m=i,this.X=n||1,this.V=new Kt(this),this.P=Ie,t=q?125:void 0,this.W=new Wt(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Ee}function Ee(){this.i=null,this.g="",this.h=!1}k(ke,ot),k(Ae,ot),k(Se,ve),Se.prototype.g=function(){return new XMLHttpRequest},Se.prototype.i=function(){return{}},be=new Se;var Ie=45e3,Te={},_e={};function Pe(t,e,i){t.K=1,t.v=ei($e(e)),t.s=i,t.U=!0,Le(t,null)}function Le(t,e){t.F=Date.now(),Me(t),t.A=$e(t.v);var i=t.A,n=t.X;Array.isArray(n)||(n=[String(n)]),mi(i.h,"t",n),t.C=0,i=t.l.H,t.h=new Ee,t.g=An(t.l,i?e:null,!t.s),0<t.O&&(t.L=new $t(b(t.Ia,t,t.g),t.O)),Zt(t.V,t.g,"readystatechange",t.gb),e=t.H?V(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),he(1),ee(t.j,t.u,t.A,t.m,t.X,t.s)}function Re(t){return!!t.g&&("GET"==t.u&&2!=t.K&&t.l.Ba)}function Oe(t,e,i){let n,r=!0;for(;!t.I&&t.C<i.length;){if(n=Ne(t,i),n==_e){4==e&&(t.o=4,de(14),r=!1),ne(t.j,t.m,null,"[Incomplete Response]");break}if(n==Te){t.o=4,de(15),ne(t.j,t.m,i,"[Invalid Chunk]"),r=!1;break}ne(t.j,t.m,n,null),He(t,n)}Re(t)&&n!=_e&&n!=Te&&(t.h.g="",t.C=0),4!=e||0!=i.length||t.h.h||(t.o=1,de(16),r=!1),t.i=t.i&&r,r?0<i.length&&!t.aa&&(t.aa=!0,e=t.l,e.g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+i.length),gn(e),e.L=!0,de(11))):(ne(t.j,t.m,i,"[Invalid Chunked Response]"),Ve(t),ze(t))}function Ne(t,e){var i=t.C,n=e.indexOf("\n",i);return-1==n?_e:(i=Number(e.substring(i,n)),isNaN(i)?Te:(n+=1,n+i>e.length?_e:(e=e.substr(n,i),t.C=n+i,e)))}function Me(t){t.Y=Date.now()+t.P,De(t,t.P)}function De(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=pe(b(t.eb,t),e)}function Fe(t){t.B&&(u.clearTimeout(t.B),t.B=null)}function ze(t){0==t.l.G||t.I||yn(t.l,t)}function Ve(t){Fe(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,jt(t.W),Qt(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function He(t,e){try{var i=t.l;if(0!=i.G&&(i.g==t||Si(i.i,t)))if(i.I=t.N,!t.J&&Si(i.i,t)&&3==i.G){try{var n=i.Ca.g.parse(e)}catch(c){n=null}if(Array.isArray(n)&&3==n.length){var r=n;if(0==r[0]){t:if(!i.u){if(i.g){if(!(i.g.F+3e3<t.F))break t;vn(i),sn(i)}pn(i),de(18)}}else i.ta=r[1],0<i.ta-i.U&&37500>r[2]&&i.N&&0==i.A&&!i.v&&(i.v=pe(b(i.ab,i),6e3));if(1>=Ai(i.i)&&i.ka){try{i.ka()}catch(c){}i.ka=void 0}}else bn(i,11)}else if((t.J||i.g==t)&&vn(i),!L(e))for(r=i.Ca.g.parse(e),e=0;e<r.length;e++){let c=r[e];if(i.U=c[0],c=c[1],2==i.G)if("c"==c[0]){i.J=c[1],i.la=c[2];const e=c[3];null!=e&&(i.ma=e,i.h.info("VER="+i.ma));const r=c[4];null!=r&&(i.za=r,i.h.info("SVER="+i.za));const h=c[5];null!=h&&"number"===typeof h&&0<h&&(n=1.5*h,i.K=n,i.h.info("backChannelRequestTimeoutMs_="+n)),n=i;const u=t.g;if(u){const t=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(t){var s=n.i;!s.g&&(N(t,"spdy")||N(t,"quic")||N(t,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(Ci(s,s.h),s.h=null))}if(n.D){const t=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null;t&&(n.sa=t,ti(n.F,n.D,t))}}i.G=3,i.j&&i.j.xa(),i.$&&(i.O=Date.now()-t.F,i.h.info("Handshake RTT: "+i.O+"ms")),n=i;var a=t;if(n.oa=kn(n,n.H?n.la:null,n.W),a.J){Ei(n.i,a);var o=a,l=n.K;l&&o.setTimeout(l),o.B&&(Fe(o),Me(o)),n.g=a}else fn(n);0<i.l.length&&ln(i)}else"stop"!=c[0]&&"close"!=c[0]||bn(i,7);else 3==i.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?bn(i,7):rn(i):"noop"!=c[0]&&i.j&&i.j.wa(c),i.A=0)}he(4)}catch(c){}}function Xe(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"===typeof t)return t.split("");if(f(t)){for(var e=[],i=t.length,n=0;n<i;n++)e.push(t[n]);return e}for(n in e=[],i=0,t)e[i++]=t[n];return e}function Be(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||"string"===typeof t)I(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var i=t.T();else if(t.R&&"function"==typeof t.R)i=void 0;else if(f(t)||"string"===typeof t){i=[];for(var n=t.length,r=0;r<n;r++)i.push(r)}else for(r in i=[],n=0,t)i[n++]=r;n=Xe(t),r=n.length;for(var s=0;s<r;s++)e.call(void 0,n[s],i&&i[s],t)}}function Ye(t,e){this.h={},this.g=[],this.i=0;var i=arguments.length;if(1<i){if(i%2)throw Error("Uneven number of arguments");for(var n=0;n<i;n+=2)this.set(arguments[n],arguments[n+1])}else if(t)if(t instanceof Ye)for(i=t.T(),n=0;n<i.length;n++)this.set(i[n],t.get(i[n]));else for(n in t)this.set(n,t[n])}function Ue(t){if(t.i!=t.g.length){for(var e=0,i=0;e<t.g.length;){var n=t.g[e];We(t.h,n)&&(t.g[i++]=n),e++}t.g.length=i}if(t.i!=t.g.length){var r={};for(i=e=0;e<t.g.length;)n=t.g[e],We(r,n)||(t.g[i++]=n,r[n]=1),e++;t.g.length=i}}function We(t,e){return Object.prototype.hasOwnProperty.call(t,e)}n=Ce.prototype,n.setTimeout=function(t){this.P=t},n.gb=function(t){t=t.target;const e=this.L;e&&3==Ji(t)?e.l():this.Ia(t)},n.Ia=function(t){try{if(t==this.g)t:{const h=Ji(this.g);var e=this.g.Da();const d=this.g.ba();if(!(3>h)&&(3!=h||q||this.g&&(this.h.h||this.g.ga()||Zi(this.g)))){this.I||4!=h||7==e||he(8==e||0>=d?3:2),Fe(this);var i=this.g.ba();this.N=i;e:if(Re(this)){var n=Zi(this.g);t="";var r=n.length,s=4==Ji(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ve(this),ze(this);var a="";break e}this.h.i=new u.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(n[e],{stream:s&&e==r-1});n.splice(0,r),this.h.g+=t,this.C=0,a=this.h.g}else a=this.g.ga();if(this.i=200==i,ie(this.j,this.u,this.A,this.m,this.X,h,i),this.i){if(this.$&&!this.J){e:{if(this.g){var o,l=this.g;if((o=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(o)){var c=o;break e}}c=null}if(!(i=c)){this.i=!1,this.o=3,de(12),Ve(this),ze(this);break t}ne(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,He(this,i)}this.U?(Oe(this,h,a),q&&this.i&&3==h&&(Zt(this.V,this.W,"tick",this.fb),this.W.start())):(ne(this.j,this.m,a,null),He(this,a)),4==h&&Ve(this),this.i&&!this.I&&(4==h?yn(this.l,this):(this.i=!1,Me(this)))}else 400==i&&0<a.indexOf("Unknown SID")?(this.o=3,de(12)):(this.o=0,de(13)),Ve(this),ze(this)}}}catch(h){}},n.fb=function(){if(this.g){var t=Ji(this.g),e=this.g.ga();this.C<e.length&&(Fe(this),Oe(this,t,e),this.i&&4!=t&&Me(this))}},n.cancel=function(){this.I=!0,Ve(this)},n.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(re(this.j,this.A),2!=this.K&&(he(3),de(17)),Ve(this),this.o=2,ze(this)):De(this,this.Y-t)},n=Ye.prototype,n.R=function(){Ue(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},n.T=function(){return Ue(this),this.g.concat()},n.get=function(t,e){return We(this.h,t)?this.h[t]:e},n.set=function(t,e){We(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},n.forEach=function(t,e){for(var i=this.T(),n=0;n<i.length;n++){var r=i[n],s=this.get(r);t.call(e,s,r,this)}};var je=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ge(t,e){if(t){t=t.split("&");for(var i=0;i<t.length;i++){var n=t[i].indexOf("="),r=null;if(0<=n){var s=t[i].substring(0,n);r=t[i].substring(n+1)}else s=t[i];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function qe(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof qe){this.g=void 0!==e?e:t.g,Ke(this,t.j),this.s=t.s,Je(this,t.i),Ze(this,t.m),this.l=t.l,e=t.h;var i=new di;i.i=e.i,e.g&&(i.g=new Ye(e.g),i.h=e.h),Qe(this,i),this.o=t.o}else t&&(i=String(t).match(je))?(this.g=!!e,Ke(this,i[1]||"",!0),this.s=ri(i[2]||""),Je(this,i[3]||"",!0),Ze(this,i[4]),this.l=ri(i[5]||"",!0),Qe(this,i[6]||"",!0),this.o=ri(i[7]||"")):(this.g=!!e,this.h=new di(null,this.g))}function $e(t){return new qe(t)}function Ke(t,e,i){t.j=i?ri(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Je(t,e,i){t.i=i?ri(e,!0):e}function Ze(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Qe(t,e,i){e instanceof di?(t.h=e,yi(t.h,t.g)):(i||(e=si(e,hi)),t.h=new di(e,t.g))}function ti(t,e,i){t.h.set(e,i)}function ei(t){return ti(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ii(t){return t instanceof qe?$e(t):new qe(t,void 0)}function ni(t,e,i,n){var r=new qe(null,void 0);return t&&Ke(r,t),e&&Je(r,e),i&&Ze(r,i),n&&(r.l=n),r}function ri(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function si(t,e,i){return"string"===typeof t?(t=encodeURI(t).replace(e,ai),i&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ai(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(15&t).toString(16)}qe.prototype.toString=function(){var t=[],e=this.j;e&&t.push(si(e,oi,!0),":");var i=this.i;return(i||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(si(e,oi,!0),"@"),t.push(encodeURIComponent(String(i)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i=this.m,null!=i&&t.push(":",String(i))),(i=this.l)&&(this.i&&"/"!=i.charAt(0)&&t.push("/"),t.push(si(i,"/"==i.charAt(0)?ci:li,!0))),(i=this.h.toString())&&t.push("?",i),(i=this.o)&&t.push("#",si(i,ui)),t.join("")};var oi=/[#\/\?@]/g,li=/[#\?:]/g,ci=/[#\?]/g,hi=/[#\?@]/g,ui=/#/g;function di(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function fi(t){t.g||(t.g=new Ye,t.h=0,t.i&&Ge(t.i,(function(e,i){t.add(decodeURIComponent(e.replace(/\+/g," ")),i)})))}function pi(t,e){fi(t),e=vi(t,e),We(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,t=t.g,We(t.h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&Ue(t)))}function gi(t,e){return fi(t),e=vi(t,e),We(t.g.h,e)}function mi(t,e,i){pi(t,e),0<i.length&&(t.i=null,t.g.set(vi(t,e),P(i)),t.h+=i.length)}function vi(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function yi(t,e){e&&!t.j&&(fi(t),t.i=null,t.g.forEach((function(t,e){var i=e.toLowerCase();e!=i&&(pi(this,e),mi(this,i,t))}),t)),t.j=e}n=di.prototype,n.add=function(t,e){fi(this),this.i=null,t=vi(this,t);var i=this.g.get(t);return i||this.g.set(t,i=[]),i.push(e),this.h+=1,this},n.forEach=function(t,e){fi(this),this.g.forEach((function(i,n){I(i,(function(i){t.call(e,i,n,this)}),this)}),this)},n.T=function(){fi(this);for(var t=this.g.R(),e=this.g.T(),i=[],n=0;n<e.length;n++)for(var r=t[n],s=0;s<r.length;s++)i.push(e[n]);return i},n.R=function(t){fi(this);var e=[];if("string"===typeof t)gi(this,t)&&(e=_(e,this.g.get(vi(this,t))));else{t=this.g.R();for(var i=0;i<t.length;i++)e=_(e,t[i])}return e},n.set=function(t,e){return fi(this),this.i=null,t=vi(this,t),gi(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},n.get=function(t,e){return t?(t=this.R(t),0<t.length?String(t[0]):e):e},n.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),i=0;i<e.length;i++){var n=e[i],r=encodeURIComponent(String(n));n=this.R(n);for(var s=0;s<n.length;s++){var a=r;""!==n[s]&&(a+="="+encodeURIComponent(String(n[s]))),t.push(a)}}return this.i=t.join("&")};var xi=class{constructor(t,e){this.h=t,this.g=e}};function bi(t){this.l=t||wi,u.PerformanceNavigationTiming?(t=u.performance.getEntriesByType("navigation"),t=0<t.length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol)):t=!!(u.g&&u.g.Ea&&u.g.Ea()&&u.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var wi=10;function ki(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Ai(t){return t.h?1:t.g?t.g.size:0}function Si(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function Ci(t,e){t.g?t.g.add(e):t.h=e}function Ei(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function Ii(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const i of t.g.values())e=e.concat(i.D);return e}return P(t.i)}function Ti(){}function _i(){this.g=new Ti}function Pi(t,e,i){const n=i||"";try{Be(t,(function(t,i){let r=t;p(t)&&(r=Ot(t)),e.push(n+i+"="+encodeURIComponent(r))}))}catch(r){throw e.push(n+"type="+encodeURIComponent("_badmap")),r}}function Li(t,e){const i=new te;if(u.Image){const n=new Image;n.onload=w(Ri,i,n,"TestLoadImage: loaded",!0,e),n.onerror=w(Ri,i,n,"TestLoadImage: error",!1,e),n.onabort=w(Ri,i,n,"TestLoadImage: abort",!1,e),n.ontimeout=w(Ri,i,n,"TestLoadImage: timeout",!1,e),u.setTimeout((function(){n.ontimeout&&n.ontimeout()}),1e4),n.src=t}else e(!1)}function Ri(t,e,i,n,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(n)}catch(s){}}function Oi(t){this.l=t.$b||null,this.j=t.ib||!1}function Ni(t,e){Pt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Mi,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}bi.prototype.cancel=function(){if(this.i=Ii(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},Ti.prototype.stringify=function(t){return u.JSON.stringify(t,void 0)},Ti.prototype.parse=function(t){return u.JSON.parse(t,void 0)},k(Oi,ve),Oi.prototype.g=function(){return new Ni(this.l,this.j)},Oi.prototype.i=function(t){return function(){return t}}({}),k(Ni,Pt);var Mi=0;function Di(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function Fi(t){t.readyState=4,t.l=null,t.j=null,t.A=null,zi(t)}function zi(t){t.onreadystatechange&&t.onreadystatechange.call(t)}n=Ni.prototype,n.open=function(t,e){if(this.readyState!=Mi)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,zi(this)},n.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||u).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},n.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Fi(this)),this.readyState=Mi},n.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,zi(this)),this.g&&(this.readyState=3,zi(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof u.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Di(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},n.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Fi(this):zi(this),3==this.readyState&&Di(this)}},n.Ua=function(t){this.g&&(this.response=this.responseText=t,Fi(this))},n.Ta=function(t){this.g&&(this.response=t,Fi(this))},n.ha=function(){this.g&&Fi(this)},n.setRequestHeader=function(t,e){this.v.append(t,e)},n.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var i=e.next();!i.done;)i=i.value,t.push(i[0]+": "+i[1]),i=e.next();return t.join("\r\n")},Object.defineProperty(Ni.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Vi=u.JSON.parse;function Hi(t){Pt.call(this),this.headers=new Ye,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Xi,this.K=this.L=!1}k(Hi,Pt);var Xi="",Bi=/^https?$/i,Yi=["POST","PUT"];function Ui(t){return j&&nt()&&"number"===typeof t.timeout&&void 0!==t.ontimeout}function Wi(t){return"content-type"==t.toLowerCase()}function ji(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Gi(t),$i(t)}function Gi(t){t.D||(t.D=!0,Lt(t,"complete"),Lt(t,"error"))}function qi(t){if(t.h&&"undefined"!=typeof h&&(!t.C[1]||4!=Ji(t)||2!=t.ba()))if(t.v&&4==Ji(t))Gt(t.Fa,0,t);else if(Lt(t,"readystatechange"),4==Ji(t)){t.h=!1;try{const l=t.ba();t:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}var i;if(!(i=e)){var n;if(n=0===l){var r=String(t.H).match(je)[1]||null;if(!r&&u.self&&u.self.location){var s=u.self.location.protocol;r=s.substr(0,s.length-1)}n=!Bi.test(r?r.toLowerCase():"")}i=n}if(i)Lt(t,"complete"),Lt(t,"success");else{t.m=6;try{var a=2<Ji(t)?t.g.statusText:""}catch(o){a=""}t.j=a+" ["+t.ba()+"]",Gi(t)}}finally{$i(t)}}}function $i(t,e){if(t.g){Ki(t);const n=t.g,r=t.C[0]?d:null;t.g=null,t.C=null,e||Lt(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function Ki(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(u.clearTimeout(t.A),t.A=null)}function Ji(t){return t.g?t.g.readyState:0}function Zi(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Xi:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Qi(t){let e="";return z(t,(function(t,i){e+=i,e+=":",e+=t,e+="\r\n"})),e}function tn(t,e,i){t:{for(n in i){var n=!1;break t}n=!0}n||(i=Qi(i),"string"===typeof t?null!=i&&encodeURIComponent(String(i)):ti(t,e,i))}function en(t,e,i){return i&&i.internalChannelParams&&i.internalChannelParams[t]||e}function nn(t){this.za=0,this.l=[],this.h=new te,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=en("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=en("baseRetryDelayMs",5e3,t),this.$a=en("retryDelaySeedMs",1e4,t),this.Ya=en("forwardChannelMaxRetries",2,t),this.ra=en("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new bi(t&&t.concurrentRequestLimit),this.Ca=new _i,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function rn(t){if(an(t),3==t.G){var e=t.V++,i=$e(t.F);ti(i,"SID",t.J),ti(i,"RID",e),ti(i,"TYPE","terminate"),un(t,i),e=new Ce(t,t.h,e,void 0),e.K=2,e.v=ei($e(i)),i=!1,u.navigator&&u.navigator.sendBeacon&&(i=u.navigator.sendBeacon(e.v.toString(),"")),!i&&u.Image&&((new Image).src=e.v,i=!0),i||(e.g=An(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Me(e)}wn(t)}function sn(t){t.g&&(gn(t),t.g.cancel(),t.g=null)}function an(t){sn(t),t.u&&(u.clearTimeout(t.u),t.u=null),vn(t),t.i.cancel(),t.m&&("number"===typeof t.m&&u.clearTimeout(t.m),t.m=null)}function on(t,e){t.l.push(new xi(t.Za++,e)),3==t.G&&ln(t)}function ln(t){ki(t.i)||t.m||(t.m=!0,Ht(t.Ha,t),t.C=0)}function cn(t,e){return!(Ai(t.i)>=t.i.j-(t.m?1:0))&&(t.m?(t.l=e.D.concat(t.l),!0):!(1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya))&&(t.m=pe(b(t.Ha,t,e),xn(t,t.C)),t.C++,!0))}function hn(t,e){var i;i=e?e.m:t.V++;const n=$e(t.F);ti(n,"SID",t.J),ti(n,"RID",i),ti(n,"AID",t.U),un(t,n),t.o&&t.s&&tn(n,t.o,t.s),i=new Ce(t,t.h,i,t.C+1),null===t.o&&(i.H=t.s),e&&(t.l=e.D.concat(t.l)),e=dn(t,i,1e3),i.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),Ci(t.i,i),Pe(i,n,e)}function un(t,e){t.j&&Be({},(function(t,i){ti(e,i,t)}))}function dn(t,e,i){i=Math.min(t.l.length,i);var n=t.j?b(t.j.Oa,t.j,t):null;t:{var r=t.l;let e=-1;for(;;){const t=["count="+i];-1==e?0<i?(e=r[0].h,t.push("ofs="+e)):e=0:t.push("ofs="+e);let s=!0;for(let a=0;a<i;a++){let i=r[a].h;const o=r[a].g;if(i-=e,0>i)e=Math.max(0,r[a].h-100),s=!1;else try{Pi(o,t,"req"+i+"_")}catch(Jn){n&&n(o)}}if(s){n=t.join("&");break t}}}return t=t.l.splice(0,i),e.D=t,n}function fn(t){t.g||t.u||(t.Y=1,Ht(t.Ga,t),t.A=0)}function pn(t){return!(t.g||t.u||3<=t.A)&&(t.Y++,t.u=pe(b(t.Ga,t),xn(t,t.A)),t.A++,!0)}function gn(t){null!=t.B&&(u.clearTimeout(t.B),t.B=null)}function mn(t){t.g=new Ce(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=$e(t.oa);ti(e,"RID","rpc"),ti(e,"SID",t.J),ti(e,"CI",t.N?"0":"1"),ti(e,"AID",t.U),un(t,e),ti(e,"TYPE","xmlhttp"),t.o&&t.s&&tn(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var i=t.g;t=t.la,i.K=1,i.v=ei($e(e)),i.s=null,i.U=!0,Le(i,t)}function vn(t){null!=t.v&&(u.clearTimeout(t.v),t.v=null)}function yn(t,e){var i=null;if(t.g==e){vn(t),gn(t),t.g=null;var n=2}else{if(!Si(t.i,e))return;i=e.D,Ei(t.i,e),n=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==n){i=e.s?e.s.length:0,e=Date.now()-e.F;var r=t.C;n=le(),Lt(n,new fe(n,i,e,r)),ln(t)}else fn(t);else if(r=e.o,3==r||0==r&&0<t.I||!(1==n&&cn(t,e)||2==n&&pn(t)))switch(i&&0<i.length&&(e=t.i,e.i=e.i.concat(i)),r){case 1:bn(t,5);break;case 4:bn(t,10);break;case 3:bn(t,6);break;default:bn(t,2)}}function xn(t,e){let i=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(i*=2),i*e}function bn(t,e){if(t.h.info("Error code "+e),2==e){var i=null;t.j&&(i=null);var n=b(t.jb,t);i||(i=new qe("//www.google.com/images/cleardot.gif"),u.location&&"http"==u.location.protocol||Ke(i,"https"),ei(i)),Li(i.toString(),n)}else de(2);t.G=0,t.j&&t.j.va(e),wn(t),an(t)}function wn(t){t.G=0,t.I=-1,t.j&&(0==Ii(t.i).length&&0==t.l.length||(t.i.i.length=0,P(t.l),t.l.length=0),t.j.ua())}function kn(t,e,i){let n=ii(i);if(""!=n.i)e&&Je(n,e+"."+n.i),Ze(n,n.m);else{const t=u.location;n=ni(t.protocol,e?e+"."+t.hostname:t.hostname,+t.port,i)}return t.aa&&z(t.aa,(function(t,e){ti(n,e,t)})),e=t.D,i=t.sa,e&&i&&ti(n,e,i),ti(n,"VER",t.ma),un(t,n),n}function An(t,e,i){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=i&&t.Ba&&!t.qa?new Hi(new Oi({ib:!0})):new Hi(t.qa),e.L=t.H,e}function Sn(){}function Cn(){if(j&&!(10<=Number(st)))throw Error("Environmental error: no available transport.")}function En(t,e){Pt.call(this),this.g=new nn(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!L(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!L(e)&&(this.g.D=e,t=this.h,null!==t&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new _n(this)}function In(t){ke.call(this);var e=t.__sm__;if(e){t:{for(const i in e){t=i;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function Tn(){Ae.call(this),this.status=1}function _n(t){this.g=t}n=Hi.prototype,n.ea=function(t,e,i,n){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():be.g(),this.C=this.u?ye(this.u):ye(be),this.g.onreadystatechange=b(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void ji(this,s)}t=i||"";const r=new Ye(this.headers);n&&Be(n,(function(t,e){r.set(e,t)})),n=T(r.T()),i=u.FormData&&t instanceof u.FormData,!(0<=E(Yi,e))||n||i||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach((function(t,e){this.g.setRequestHeader(e,t)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ki(this),0<this.B&&((this.K=Ui(this.g))?(this.g.timeout=this.B,this.g.ontimeout=b(this.pa,this)):this.A=Gt(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){ji(this,s)}},n.pa=function(){"undefined"!=typeof h&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Lt(this,"timeout"),this.abort(8))},n.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Lt(this,"complete"),Lt(this,"abort"),$i(this))},n.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$i(this,!0)),Hi.Z.M.call(this)},n.Fa=function(){this.s||(this.F||this.v||this.l?qi(this):this.cb())},n.cb=function(){qi(this)},n.ba=function(){try{return 2<Ji(this)?this.g.status:-1}catch(t){return-1}},n.ga=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},n.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Vi(e)}},n.Da=function(){return this.m},n.La=function(){return"string"===typeof this.j?this.j:String(this.j)},n=nn.prototype,n.ma=8,n.G=1,n.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},n.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const r=new Ce(this,this.h,t,void 0);let s=this.s;if(this.P&&(s?(s=V(s),X(s,this.P)):s=this.P),null===this.o&&(r.H=s),this.ja)t:{for(var e=0,i=0;i<this.l.length;i++){var n=this.l[i];if(n="__data__"in n.g&&(n=n.g.__data__,"string"===typeof n)?n.length:void 0,void 0===n)break;if(e+=n,4096<e){e=i;break t}if(4096===e||i===this.l.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=dn(this,r,e),i=$e(this.F),ti(i,"RID",t),ti(i,"CVER",22),this.D&&ti(i,"X-HTTP-Session-Id",this.D),un(this,i),this.o&&s&&tn(i,this.o,s),Ci(this.i,r),this.Ra&&ti(i,"TYPE","init"),this.ja?(ti(i,"$req",e),ti(i,"SID","null"),r.$=!0,Pe(r,i,null)):Pe(r,i,e),this.G=2}}else 3==this.G&&(t?hn(this,t):0==this.l.length||ki(this.i)||hn(this))},n.Ga=function(){if(this.u=null,mn(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=pe(b(this.bb,this),t)}},n.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,de(10),sn(this),mn(this))},n.ab=function(){null!=this.v&&(this.v=null,sn(this),pn(this),de(19))},n.jb=function(t){t?(this.h.info("Successfully pinged google.com"),de(2)):(this.h.info("Failed to ping google.com"),de(1))},n=Sn.prototype,n.xa=function(){},n.wa=function(){},n.va=function(){},n.ua=function(){},n.Oa=function(){},Cn.prototype.g=function(t,e){return new En(t,e)},k(En,Pt),En.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,i=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Ht(b(t.hb,t,e))),de(0),t.W=e,t.aa=i||{},t.N=t.X,t.F=kn(t,null,t.W),ln(t)},En.prototype.close=function(){rn(this.g)},En.prototype.u=function(t){if("string"===typeof t){var e={};e.__data__=t,on(this.g,e)}else this.v?(e={},e.__data__=Ot(t),on(this.g,e)):on(this.g,t)},En.prototype.M=function(){this.g.j=null,delete this.j,rn(this.g),delete this.g,En.Z.M.call(this)},k(In,ke),k(Tn,Ae),k(_n,Sn),_n.prototype.xa=function(){Lt(this.g,"a")},_n.prototype.wa=function(t){Lt(this.g,new In(t))},_n.prototype.va=function(t){Lt(this.g,new Tn(t))},_n.prototype.ua=function(){Lt(this.g,"b")},Cn.prototype.createWebChannel=Cn.prototype.g,En.prototype.send=En.prototype.u,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,ge.NO_ERROR=0,ge.TIMEOUT=8,ge.HTTP_ERROR=6,me.COMPLETE="complete",xe.EventType=we,we.OPEN="a",we.CLOSE="b",we.ERROR="c",we.MESSAGE="d",Pt.prototype.listen=Pt.prototype.N,Hi.prototype.listenOnce=Hi.prototype.O,Hi.prototype.getLastError=Hi.prototype.La,Hi.prototype.getLastErrorCode=Hi.prototype.Da,Hi.prototype.getStatus=Hi.prototype.ba,Hi.prototype.getResponseJson=Hi.prototype.Qa,Hi.prototype.getResponseText=Hi.prototype.ga,Hi.prototype.send=Hi.prototype.ea;var Pn=c.createWebChannelTransport=function(){return new Cn},Ln=c.getStatEventTarget=function(){return le()},Rn=c.ErrorCode=ge,On=c.EventType=me,Nn=c.Event=ae,Mn=c.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Dn=c.FetchXmlHttpFactory=Oi,Fn=c.WebChannel=xe,zn=c.XhrIo=Hi;const Vn="@firebase/firestore";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Hn.UNAUTHENTICATED=new Hn(null),Hn.GOOGLE_CREDENTIALS=new Hn("google-credentials-uid"),Hn.FIRST_PARTY=new Hn("first-party-uid"),Hn.MOCK_USER=new Hn("mock-user");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let Xn="9.6.7";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bn=new a.Yd("@firebase/firestore");function Yn(){return Bn.logLevel}function Un(t,...e){if(Bn.logLevel<=a["in"].DEBUG){const i=e.map(Gn);Bn.debug(`Firestore (${Xn}): ${t}`,...i)}}function Wn(t,...e){if(Bn.logLevel<=a["in"].ERROR){const i=e.map(Gn);Bn.error(`Firestore (${Xn}): ${t}`,...i)}}function jn(t,...e){if(Bn.logLevel<=a["in"].WARN){const i=e.map(Gn);Bn.warn(`Firestore (${Xn}): ${t}`,...i)}}function Gn(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(t="Unexpected state"){const e=`FIRESTORE (${Xn}) INTERNAL ASSERTION FAILED: `+t;throw Wn(e),new Error(e)}function $n(t,e){t||qn()}function Kn(t,e){return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jn={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Zn extends o.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class er{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(Hn.UNAUTHENTICATED)))}shutdown(){}}class ir{constructor(t){this.t=t,this.currentUser=Hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){let i=this.i;const n=t=>this.i!==i?(i=this.i,e(t)):Promise.resolve();let r=new Qn;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new Qn,t.enqueueRetryable((()=>n(this.currentUser)))};const s=()=>{const e=r;t.enqueueRetryable((async()=>{await e.promise,await n(this.currentUser)}))},a=t=>{Un("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=t,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((t=>a(t))),setTimeout((()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?a(t):(Un("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new Qn)}}),0),s()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((e=>this.i!==t?(Un("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):e?($n("string"==typeof e.accessToken),new tr(e.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return $n(null===t||"string"==typeof t),new Hn(t)}}class nr{constructor(t,e,i){this.type="FirstParty",this.user=Hn.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",e);const n=t.auth.getAuthHeaderValueForFirstParty([]);n&&this.headers.set("Authorization",n),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class rr{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new nr(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable((()=>e(Hn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class sr{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ar{constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(t,e){const i=t=>{null!=t.error&&Un("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${t.error.message}`);const i=t.token!==this.p;return this.p=t.token,Un("FirebaseAppCheckTokenProvider",`Received ${i?"new":"existing"} token.`),i?e(t.token):Promise.resolve()};this.o=e=>{t.enqueueRetryable((()=>i(e)))};const n=t=>{Un("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=t,this.appCheck.addTokenListener(this.o)};this.g.onInit((t=>n(t))),setTimeout((()=>{if(!this.appCheck){const t=this.g.getImmediate({optional:!0});t?n(t):Un("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((t=>t?($n("string"==typeof t.token),this.p=t.token,new sr(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class or{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=t=>this.I(t),this.T=t=>e.writeSequenceNumber(t))}I(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.T&&this.T(t),t}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),i=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(i);else for(let n=0;n<t;n++)i[n]=Math.floor(256*Math.random());return i}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */or.A=-1;class cr{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const n=lr(40);for(let r=0;r<n.length;++r)i.length<20&&n[r]<e&&(i+=t.charAt(n[r]%t.length))}return i}}function hr(t,e){return t<e?-1:t>e?1:0}function ur(t,e,i){return t.length===e.length&&t.every(((t,n)=>i(t,e[n])))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class dr{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Zn(Jn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Zn(Jn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Zn(Jn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Zn(Jn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return dr.fromMillis(Date.now())}static fromDate(t){return dr.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new dr(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?hr(this.nanoseconds,t.nanoseconds):hr(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(t){this.timestamp=t}static fromTimestamp(t){return new fr(t)}static min(){return new fr(new dr(0,0))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(t){let e=0;for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&e++;return e}function gr(t,e){for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&e(i,t[i])}function mr(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(t,e,i){void 0===e?e=0:e>t.length&&qn(),void 0===i?i=t.length-e:i>t.length-e&&qn(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===vr.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof vr?t.forEach((t=>{e.push(t)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let n=0;n<i;n++){const i=t.get(n),r=e.get(n);if(i<r)return-1;if(i>r)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class yr extends vr{construct(t,e,i){return new yr(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Zn(Jn.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((t=>t.length>0)))}return new yr(e)}static emptyPath(){return new yr([])}}const xr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class br extends vr{construct(t,e,i){return new br(t,e,i)}static isValidIdentifier(t){return xr.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),br.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new br(["__name__"])}static fromServerFormat(t){const e=[];let i="",n=0;const r=()=>{if(0===i.length)throw new Zn(Jn.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let s=!1;for(;n<t.length;){const e=t[n];if("\\"===e){if(n+1===t.length)throw new Zn(Jn.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const e=t[n+1];if("\\"!==e&&"."!==e&&"`"!==e)throw new Zn(Jn.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=e,n+=2}else"`"===e?(s=!s,n++):"."!==e||s?(i+=e,n++):(r(),n++)}if(r(),s)throw new Zn(Jn.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new br(e)}static emptyPath(){return new br([])}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(t){this.fields=t,t.sort(br.comparator)}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return ur(this.fields,t.fields,((t,e)=>t.isEqual(e)))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class kr{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new kr(e)}static fromUint8Array(t){const e=function(t){let e="";for(let i=0;i<t.length;++i)e+=String.fromCharCode(t[i]);return e}(t);return new kr(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return hr(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}kr.EMPTY_BYTE_STRING=new kr("");const Ar=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sr(t){if($n(!!t),"string"==typeof t){let e=0;const i=Ar.exec(t);if($n(!!i),i[1]){let t=i[1];t=(t+"000000000").substr(0,9),e=Number(t)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Cr(t.seconds),nanos:Cr(t.nanos)}}function Cr(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Er(t){return"string"==typeof t?kr.fromBase64String(t):kr.fromUint8Array(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(t){var e,i;return"server_timestamp"===(null===(i=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function Tr(t){const e=t.mapValue.fields.__previous_value__;return Ir(e)?Tr(e):e}function _r(t){const e=Sr(t.mapValue.fields.__local_write_time__.timestampValue);return new dr(e.seconds,e.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(t,e,i,n,r,s,a,o){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=n,this.ssl=r,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.useFetchStreams=o}}class Lr{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Lr("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Lr&&t.projectId===this.projectId&&t.database===this.database}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(t){return null==t}function Or(t){return 0===t&&1/t==-1/0}function Nr(t){return"number"==typeof t&&Number.isInteger(t)&&!Or(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(t){this.path=t}static fromPath(t){return new Mr(yr.fromString(t))}static fromName(t){return new Mr(yr.fromString(t).popFirst(5))}static empty(){return new Mr(yr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===yr.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return yr.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Mr(new yr(t.slice()))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr={mapValue:{fields:{__type__:{stringValue:"__max___"}}}};function Fr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ir(t)?4:10:qn()}function zr(t,e){if(t===e)return!0;const i=Fr(t);if(i!==Fr(e))return!1;switch(i){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return _r(t).isEqual(_r(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;const i=Sr(t.timestampValue),n=Sr(e.timestampValue);return i.seconds===n.seconds&&i.nanos===n.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Er(t.bytesValue).isEqual(Er(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Cr(t.geoPointValue.latitude)===Cr(e.geoPointValue.latitude)&&Cr(t.geoPointValue.longitude)===Cr(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Cr(t.integerValue)===Cr(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){const i=Cr(t.doubleValue),n=Cr(e.doubleValue);return i===n?Or(i)===Or(n):isNaN(i)&&isNaN(n)}return!1}(t,e);case 9:return ur(t.arrayValue.values||[],e.arrayValue.values||[],zr);case 10:return function(t,e){const i=t.mapValue.fields||{},n=e.mapValue.fields||{};if(pr(i)!==pr(n))return!1;for(const r in i)if(i.hasOwnProperty(r)&&(void 0===n[r]||!zr(i[r],n[r])))return!1;return!0}(t,e);default:return qn()}}function Vr(t,e){return void 0!==(t.values||[]).find((t=>zr(t,e)))}function Hr(t,e){if(t===e)return 0;const i=Fr(t),n=Fr(e);if(i!==n)return hr(i,n);switch(i){case 0:return 0;case 1:return hr(t.booleanValue,e.booleanValue);case 2:return function(t,e){const i=Cr(t.integerValue||t.doubleValue),n=Cr(e.integerValue||e.doubleValue);return i<n?-1:i>n?1:i===n?0:isNaN(i)?isNaN(n)?0:-1:1}(t,e);case 3:return Xr(t.timestampValue,e.timestampValue);case 4:return Xr(_r(t),_r(e));case 5:return hr(t.stringValue,e.stringValue);case 6:return function(t,e){const i=Er(t),n=Er(e);return i.compareTo(n)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){const i=t.split("/"),n=e.split("/");for(let r=0;r<i.length&&r<n.length;r++){const t=hr(i[r],n[r]);if(0!==t)return t}return hr(i.length,n.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){const i=hr(Cr(t.latitude),Cr(e.latitude));return 0!==i?i:hr(Cr(t.longitude),Cr(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){const i=t.values||[],n=e.values||[];for(let r=0;r<i.length&&r<n.length;++r){const t=Hr(i[r],n[r]);if(t)return t}return hr(i.length,n.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){const i=t.fields||{},n=Object.keys(i),r=e.fields||{},s=Object.keys(r);n.sort(),s.sort();for(let a=0;a<n.length&&a<s.length;++a){const t=hr(n[a],s[a]);if(0!==t)return t;const e=Hr(i[n[a]],r[s[a]]);if(0!==e)return e}return hr(n.length,s.length)}(t.mapValue,e.mapValue);default:throw qn()}}function Xr(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return hr(t,e);const i=Sr(t),n=Sr(e),r=hr(i.seconds,n.seconds);return 0!==r?r:hr(i.nanos,n.nanos)}function Br(t){return Yr(t)}function Yr(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){const e=Sr(t);return`time(${e.seconds},${e.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Er(t.bytesValue).toBase64():"referenceValue"in t?(i=t.referenceValue,Mr.fromName(i).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(t){let e="[",i=!0;for(const n of t.values||[])i?i=!1:e+=",",e+=Yr(n);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){const e=Object.keys(t.fields||{}).sort();let i="{",n=!0;for(const r of e)n?n=!1:i+=",",i+=`${r}:${Yr(t.fields[r])}`;return i+"}"}(t.mapValue):qn();var e,i}function Ur(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Wr(t){return!!t&&"integerValue"in t}function jr(t){return!!t&&"arrayValue"in t}function Gr(t){return!!t&&"nullValue"in t}function qr(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function $r(t){return!!t&&"mapValue"in t}function Kr(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return gr(t.mapValue.fields,((t,i)=>e.mapValue.fields[t]=Kr(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(t.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Kr(t.arrayValue.values[i]);return e}return Object.assign({},t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(t){this.value=t}static empty(){return new Jr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!$r(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Kr(e)}setAll(t){let e=br.emptyPath(),i={},n=[];t.forEach(((t,r)=>{if(!e.isImmediateParentOf(r)){const t=this.getFieldsMap(e);this.applyChanges(t,i,n),i={},n=[],e=r.popLast()}t?i[r.lastSegment()]=Kr(t):n.push(r.lastSegment())}));const r=this.getFieldsMap(e);this.applyChanges(r,i,n)}delete(t){const e=this.field(t.popLast());$r(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return zr(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let n=e.mapValue.fields[t.get(i)];$r(n)&&n.mapValue.fields||(n={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=n),e=n}return e.mapValue.fields}applyChanges(t,e,i){gr(e,((e,i)=>t[e]=i));for(const n of i)delete t[n]}clone(){return new Jr(Kr(this.value))}}function Zr(t){const e=[];return gr(t.fields,((t,i)=>{const n=new br([t]);if($r(i)){const t=Zr(i.mapValue).fields;if(0===t.length)e.push(n);else for(const i of t)e.push(n.child(i))}else e.push(n)})),new wr(e)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class Qr{constructor(t,e,i,n,r,s){this.key=t,this.documentType=e,this.version=i,this.readTime=n,this.data=r,this.documentState=s}static newInvalidDocument(t){return new Qr(t,0,fr.min(),fr.min(),Jr.empty(),0)}static newFoundDocument(t,e,i){return new Qr(t,1,e,fr.min(),i,0)}static newNoDocument(t,e){return new Qr(t,2,e,fr.min(),Jr.empty(),0)}static newUnknownDocument(t,e){return new Qr(t,3,e,fr.min(),Jr.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Jr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Jr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Qr&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Qr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ts{constructor(t,e,i,n){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=n}}ts.UNKNOWN_ID=-1;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class es{constructor(t,e=null,i=[],n=[],r=null,s=null,a=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=n,this.limit=r,this.startAt=s,this.endAt=a,this.P=null}}function is(t,e=null,i=[],n=[],r=null,s=null,a=null){return new es(t,e,i,n,r,s,a)}function ns(t){const e=Kn(t);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((t=>{return(e=t).field.canonicalString()+e.op.toString()+Br(e.value);var e})).join(","),t+="|ob:",t+=e.orderBy.map((t=>function(t){return t.field.canonicalString()+t.dir}(t))).join(","),Rr(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((t=>Br(t))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((t=>Br(t))).join(",")),e.P=t}return e.P}function rs(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map((t=>{return`${(e=t).field.canonicalString()} ${e.op} ${Br(e.value)}`;var e})).join(", ")}]`),Rr(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map((t=>function(t){return`${t.field.canonicalString()} (${t.dir})`}(t))).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((t=>Br(t))).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((t=>Br(t))).join(",")),`Target(${e})`}function ss(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!ys(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(i=t.filters[r],n=e.filters[r],i.op!==n.op||!i.field.isEqual(n.field)||!zr(i.value,n.value))return!1;var i,n;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!bs(t.startAt,e.startAt)&&bs(t.endAt,e.endAt)}function as(t){return Mr.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class os extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.v(t,e,i):new ls(t,e,i):"array-contains"===e?new ds(t,i):"in"===e?new fs(t,i):"not-in"===e?new ps(t,i):"array-contains-any"===e?new gs(t,i):new os(t,e,i)}static v(t,e,i){return"in"===e?new cs(t,i):new hs(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.V(Hr(e,this.value)):null!==e&&Fr(this.value)===Fr(e)&&this.V(Hr(e,this.value))}V(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return qn()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class ls extends os{constructor(t,e,i){super(t,e,i),this.key=Mr.fromName(i.referenceValue)}matches(t){const e=Mr.comparator(t.key,this.key);return this.V(e)}}class cs extends os{constructor(t,e){super(t,"in",e),this.keys=us("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class hs extends os{constructor(t,e){super(t,"not-in",e),this.keys=us("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function us(t,e){var i;return((null===(i=e.arrayValue)||void 0===i?void 0:i.values)||[]).map((t=>Mr.fromName(t.referenceValue)))}class ds extends os{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return jr(e)&&Vr(e.arrayValue,this.value)}}class fs extends os{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Vr(this.value.arrayValue,e)}}class ps extends os{constructor(t,e){super(t,"not-in",e)}matches(t){if(Vr(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Vr(this.value.arrayValue,e)}}class gs extends os{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!jr(e)||!e.arrayValue.values)&&e.arrayValue.values.some((t=>Vr(this.value.arrayValue,t)))}}class ms{constructor(t,e){this.position=t,this.inclusive=e}}class vs{constructor(t,e="asc"){this.field=t,this.dir=e}}function ys(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function xs(t,e,i){let n=0;for(let r=0;r<t.position.length;r++){const s=e[r],a=t.position[r];if(n=s.field.isKeyField()?Mr.comparator(Mr.fromName(a.referenceValue),i.key):Hr(a,i.data.field(s.field)),"desc"===s.dir&&(n*=-1),0!==n)break}return n}function bs(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let i=0;i<t.position.length;i++)if(!zr(t.position[i],e.position[i]))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(t,e=null,i=[],n=[],r=null,s="F",a=null,o=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=n,this.limit=r,this.limitType=s,this.startAt=a,this.endAt=o,this.D=null,this.C=null,this.startAt,this.endAt}}function ks(t,e,i,n,r,s,a,o){return new ws(t,e,i,n,r,s,a,o)}function As(t){return new ws(t)}function Ss(t){return!Rr(t.limit)&&"F"===t.limitType}function Cs(t){return!Rr(t.limit)&&"L"===t.limitType}function Es(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Is(t){for(const e of t.filters)if(e.S())return e.field;return null}function Ts(t){return null!==t.collectionGroup}function _s(t){const e=Kn(t);if(null===e.D){e.D=[];const t=Is(e),i=Es(e);if(null!==t&&null===i)t.isKeyField()||e.D.push(new vs(t)),e.D.push(new vs(br.keyField(),"asc"));else{let t=!1;for(const i of e.explicitOrderBy)e.D.push(i),i.field.isKeyField()&&(t=!0);if(!t){const t=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new vs(br.keyField(),t))}}}return e.D}function Ps(t){const e=Kn(t);if(!e.C)if("F"===e.limitType)e.C=is(e.path,e.collectionGroup,_s(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const r of _s(e)){const e="desc"===r.dir?"asc":"desc";t.push(new vs(r.field,e))}const i=e.endAt?new ms(e.endAt.position,!e.endAt.inclusive):null,n=e.startAt?new ms(e.startAt.position,!e.startAt.inclusive):null;e.C=is(e.path,e.collectionGroup,t,e.filters,e.limit,i,n)}return e.C}function Ls(t,e,i){return new ws(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,i,t.startAt,t.endAt)}function Rs(t,e){return ss(Ps(t),Ps(e))&&t.limitType===e.limitType}function Os(t){return`${ns(Ps(t))}|lt:${t.limitType}`}function Ns(t){return`Query(target=${rs(Ps(t))}; limitType=${t.limitType})`}function Ms(t,e){return e.isFoundDocument()&&function(t,e){const i=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Mr.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(t,e)&&function(t,e){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1;return!0}(t,e)&&function(t,e){for(const i of t.filters)if(!i.matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!function(t,e,i){const n=xs(t,e,i);return t.inclusive?n<=0:n<0}(t.startAt,_s(t),e))&&!(t.endAt&&!function(t,e,i){const n=xs(t,e,i);return t.inclusive?n>=0:n>0}(t.endAt,_s(t),e))}(t,e)}function Ds(t){return(e,i)=>{let n=!1;for(const r of _s(t)){const t=Fs(r,e,i);if(0!==t)return t;n=n||r.field.isKeyField()}return 0}}function Fs(t,e,i){const n=t.field.isKeyField()?Mr.comparator(e.key,i.key):function(t,e,i){const n=e.data.field(t),r=i.data.field(t);return null!==n&&null!==r?Hr(n,r):qn()}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t.field,e,i);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return qn()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zs(t,e){if(t.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Or(e)?"-0":e}}function Vs(t){return{integerValue:""+t}}function Hs(t,e){return Nr(e)?Vs(e):zs(t,e)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(){this._=void 0}}function Bs(t,e,i){return t instanceof Ws?function(t,e){const i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(i.fields.__previous_value__=e),{mapValue:i}}(i,e):t instanceof js?Gs(t,e):t instanceof qs?$s(t,e):function(t,e){const i=Us(t,e),n=Js(i)+Js(t.k);return Wr(i)&&Wr(t.k)?Vs(n):zs(t.O,n)}(t,e)}function Ys(t,e,i){return t instanceof js?Gs(t,e):t instanceof qs?$s(t,e):i}function Us(t,e){return t instanceof Ks?Wr(i=e)||function(t){return!!t&&"doubleValue"in t}(i)?e:{integerValue:0}:null;var i}class Ws extends Xs{}class js extends Xs{constructor(t){super(),this.elements=t}}function Gs(t,e){const i=Zs(e);for(const n of t.elements)i.some((t=>zr(t,n)))||i.push(n);return{arrayValue:{values:i}}}class qs extends Xs{constructor(t){super(),this.elements=t}}function $s(t,e){let i=Zs(e);for(const n of t.elements)i=i.filter((t=>!zr(t,n)));return{arrayValue:{values:i}}}class Ks extends Xs{constructor(t,e){super(),this.O=t,this.k=e}}function Js(t){return Cr(t.integerValue||t.doubleValue)}function Zs(t){return jr(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qs(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof js&&e instanceof js||t instanceof qs&&e instanceof qs?ur(t.elements,e.elements,zr):t instanceof Ks&&e instanceof Ks?zr(t.k,e.k):t instanceof Ws&&e instanceof Ws}(t.transform,e.transform)}class ta{constructor(t,e){this.version=t,this.transformResults=e}}class ea{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new ea}static exists(t){return new ea(void 0,t)}static updateTime(t){return new ea(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function ia(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class na{}function ra(t,e,i){t instanceof ca?function(t,e,i){const n=t.value.clone(),r=da(t.fieldTransforms,e,i.transformResults);n.setAll(r),e.convertToFoundDocument(i.version,n).setHasCommittedMutations()}(t,e,i):t instanceof ha?function(t,e,i){if(!ia(t.precondition,e))return void e.convertToUnknownDocument(i.version);const n=da(t.fieldTransforms,e,i.transformResults),r=e.data;r.setAll(ua(t)),r.setAll(n),e.convertToFoundDocument(i.version,r).setHasCommittedMutations()}(t,e,i):function(t,e,i){e.convertToNoDocument(i.version).setHasCommittedMutations()}(0,e,i)}function sa(t,e,i){t instanceof ca?function(t,e,i){if(!ia(t.precondition,e))return;const n=t.value.clone(),r=fa(t.fieldTransforms,i,e);n.setAll(r),e.convertToFoundDocument(la(e),n).setHasLocalMutations()}(t,e,i):t instanceof ha?function(t,e,i){if(!ia(t.precondition,e))return;const n=fa(t.fieldTransforms,i,e),r=e.data;r.setAll(ua(t)),r.setAll(n),e.convertToFoundDocument(la(e),r).setHasLocalMutations()}(t,e,i):function(t,e){ia(t.precondition,e)&&e.convertToNoDocument(fr.min())}(t,e)}function aa(t,e){let i=null;for(const n of t.fieldTransforms){const t=e.data.field(n.field),r=Us(n.transform,t||null);null!=r&&(null==i&&(i=Jr.empty()),i.set(n.field,r))}return i||null}function oa(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&ur(t,e,((t,e)=>Qs(t,e)))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function la(t){return t.isFoundDocument()?t.version:fr.min()}class ca extends na{constructor(t,e,i,n=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=n,this.type=0}}class ha extends na{constructor(t,e,i,n,r=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=n,this.fieldTransforms=r,this.type=1}}function ua(t){const e=new Map;return t.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const n=t.data.field(i);e.set(i,n)}})),e}function da(t,e,i){const n=new Map;$n(t.length===i.length);for(let r=0;r<i.length;r++){const s=t[r],a=s.transform,o=e.data.field(s.field);n.set(s.field,Ys(a,o,i[r]))}return n}function fa(t,e,i){const n=new Map;for(const r of t){const t=r.transform,s=i.data.field(r.field);n.set(r.field,Bs(t,s,e))}return n}class pa extends na{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}}class ga extends na{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(t){this.count=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var va,ya;function xa(t){switch(t){default:return qn();case Jn.CANCELLED:case Jn.UNKNOWN:case Jn.DEADLINE_EXCEEDED:case Jn.RESOURCE_EXHAUSTED:case Jn.INTERNAL:case Jn.UNAVAILABLE:case Jn.UNAUTHENTICATED:return!1;case Jn.INVALID_ARGUMENT:case Jn.NOT_FOUND:case Jn.ALREADY_EXISTS:case Jn.PERMISSION_DENIED:case Jn.FAILED_PRECONDITION:case Jn.ABORTED:case Jn.OUT_OF_RANGE:case Jn.UNIMPLEMENTED:case Jn.DATA_LOSS:return!0}}function ba(t){if(void 0===t)return Wn("GRPC error has no .code"),Jn.UNKNOWN;switch(t){case va.OK:return Jn.OK;case va.CANCELLED:return Jn.CANCELLED;case va.UNKNOWN:return Jn.UNKNOWN;case va.DEADLINE_EXCEEDED:return Jn.DEADLINE_EXCEEDED;case va.RESOURCE_EXHAUSTED:return Jn.RESOURCE_EXHAUSTED;case va.INTERNAL:return Jn.INTERNAL;case va.UNAVAILABLE:return Jn.UNAVAILABLE;case va.UNAUTHENTICATED:return Jn.UNAUTHENTICATED;case va.INVALID_ARGUMENT:return Jn.INVALID_ARGUMENT;case va.NOT_FOUND:return Jn.NOT_FOUND;case va.ALREADY_EXISTS:return Jn.ALREADY_EXISTS;case va.PERMISSION_DENIED:return Jn.PERMISSION_DENIED;case va.FAILED_PRECONDITION:return Jn.FAILED_PRECONDITION;case va.ABORTED:return Jn.ABORTED;case va.OUT_OF_RANGE:return Jn.OUT_OF_RANGE;case va.UNIMPLEMENTED:return Jn.UNIMPLEMENTED;case va.DATA_LOSS:return Jn.DATA_LOSS;default:return qn()}}(ya=va||(va={}))[ya.OK=0]="OK",ya[ya.CANCELLED=1]="CANCELLED",ya[ya.UNKNOWN=2]="UNKNOWN",ya[ya.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ya[ya.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ya[ya.NOT_FOUND=5]="NOT_FOUND",ya[ya.ALREADY_EXISTS=6]="ALREADY_EXISTS",ya[ya.PERMISSION_DENIED=7]="PERMISSION_DENIED",ya[ya.UNAUTHENTICATED=16]="UNAUTHENTICATED",ya[ya.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ya[ya.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ya[ya.ABORTED=10]="ABORTED",ya[ya.OUT_OF_RANGE=11]="OUT_OF_RANGE",ya[ya.UNIMPLEMENTED=12]="UNIMPLEMENTED",ya[ya.INTERNAL=13]="INTERNAL",ya[ya.UNAVAILABLE=14]="UNAVAILABLE",ya[ya.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class wa{constructor(t,e){this.comparator=t,this.root=e||Aa.EMPTY}insert(t,e){return new wa(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Aa.BLACK,null,null))}remove(t){return new wa(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Aa.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const n=this.comparator(t,i.key);if(0===n)return e+i.left.size;n<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,i)=>(t(e,i),!1)))}toString(){const t=[];return this.inorderTraversal(((e,i)=>(t.push(`${e}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ka(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ka(this.root,t,this.comparator,!1)}getReverseIterator(){return new ka(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ka(this.root,t,this.comparator,!0)}}class ka{constructor(t,e,i,n){this.isReverse=n,this.nodeStack=[];let r=1;for(;!t.isEmpty();)if(r=e?i(t.key,e):1,n&&(r*=-1),r<0)t=this.isReverse?t.left:t.right;else{if(0===r){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Aa{constructor(t,e,i,n,r){this.key=t,this.value=e,this.color=null!=i?i:Aa.RED,this.left=null!=n?n:Aa.EMPTY,this.right=null!=r?r:Aa.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,n,r){return new Aa(null!=t?t:this.key,null!=e?e:this.value,null!=i?i:this.color,null!=n?n:this.left,null!=r?r:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let n=this;const r=i(t,n.key);return n=r<0?n.copy(null,null,null,n.left.insert(t,e,i),null):0===r?n.copy(null,e,null,null,null):n.copy(null,null,null,null,n.right.insert(t,e,i)),n.fixUp()}removeMin(){if(this.left.isEmpty())return Aa.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,n=this;if(e(t,n.key)<0)n.left.isEmpty()||n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed()&&(n=n.rotateRight()),n.right.isEmpty()||n.right.isRed()||n.right.left.isRed()||(n=n.moveRedRight()),0===e(t,n.key)){if(n.right.isEmpty())return Aa.EMPTY;i=n.right.min(),n=n.copy(i.key,i.value,null,null,n.right.removeMin())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Aa.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Aa.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw qn();if(this.right.isRed())throw qn();const t=this.left.check();if(t!==this.right.check())throw qn();return t+(this.isRed()?0:1)}}Aa.EMPTY=null,Aa.RED=!0,Aa.BLACK=!1,Aa.EMPTY=new class{constructor(){this.size=0}get key(){throw qn()}get value(){throw qn()}get color(){throw qn()}get left(){throw qn()}get right(){throw qn()}copy(t,e,i,n,r){return this}insert(t,e,i){return new Aa(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Sa{constructor(t){this.comparator=t,this.data=new wa(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,i)=>(t(e),!1)))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const n=i.getNext();if(this.comparator(n.key,t[1])>=0)return;e(n.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Ca(this.data.getIterator())}getIteratorFrom(t){return new Ca(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((t=>{e=e.add(t)})),e}isEqual(t){if(!(t instanceof Sa))return!1;if(this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const t=e.getNext().key,n=i.getNext().key;if(0!==this.comparator(t,n))return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Sa(this.comparator);return e.data=t,e}}class Ca{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Ea=new wa(Mr.comparator);function Ia(){return Ea}const Ta=new wa(Mr.comparator);function _a(){return Ta}const Pa=new wa(Mr.comparator),La=new Sa(Mr.comparator);function Ra(...t){let e=La;for(const i of t)e=e.add(i);return e}const Oa=new Sa(hr);function Na(){return Oa}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(t,e,i,n,r){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=n,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(t,e){const i=new Map;return i.set(t,Da.createSynthesizedTargetChangeForCurrentChange(t,e)),new Ma(fr.min(),i,Na(),Ia(),Ra())}}class Da{constructor(t,e,i,n,r){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=n,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(t,e){return new Da(kr.EMPTY_BYTE_STRING,e,Ra(),Ra(),Ra())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(t,e,i,n){this.M=t,this.removedTargetIds=e,this.key=i,this.$=n}}class za{constructor(t,e){this.targetId=t,this.F=e}}class Va{constructor(t,e,i=kr.EMPTY_BYTE_STRING,n=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=n}}class Ha{constructor(){this.B=0,this.L=Ya(),this.U=kr.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(t){t.approximateByteSize()>0&&(this.K=!0,this.U=t)}H(){let t=Ra(),e=Ra(),i=Ra();return this.L.forEach(((n,r)=>{switch(r){case 0:t=t.add(n);break;case 2:e=e.add(n);break;case 1:i=i.add(n);break;default:qn()}})),new Da(this.U,this.q,t,e,i)}J(){this.K=!1,this.L=Ya()}Y(t,e){this.K=!0,this.L=this.L.insert(t,e)}X(t){this.K=!0,this.L=this.L.remove(t)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class Xa{constructor(t){this.nt=t,this.st=new Map,this.it=Ia(),this.rt=Ba(),this.ot=new Sa(hr)}ct(t){for(const e of t.M)t.$&&t.$.isFoundDocument()?this.ut(e,t.$):this.at(e,t.key,t.$);for(const e of t.removedTargetIds)this.at(e,t.key,t.$)}ht(t){this.forEachTarget(t,(e=>{const i=this.lt(e);switch(t.state){case 0:this.ft(e)&&i.W(t.resumeToken);break;case 1:i.tt(),i.G||i.J(),i.W(t.resumeToken);break;case 2:i.tt(),i.G||this.removeTarget(e);break;case 3:this.ft(e)&&(i.et(),i.W(t.resumeToken));break;case 4:this.ft(e)&&(this.dt(e),i.W(t.resumeToken));break;default:qn()}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.st.forEach(((t,i)=>{this.ft(i)&&e(i)}))}_t(t){const e=t.targetId,i=t.F.count,n=this.wt(e);if(n){const t=n.target;if(as(t))if(0===i){const i=new Mr(t.path);this.at(e,i,Qr.newNoDocument(i,fr.min()))}else $n(1===i);else this.gt(e)!==i&&(this.dt(e),this.ot=this.ot.add(e))}}yt(t){const e=new Map;this.st.forEach(((i,n)=>{const r=this.wt(n);if(r){if(i.current&&as(r.target)){const e=new Mr(r.target.path);null!==this.it.get(e)||this.It(n,e)||this.at(n,e,Qr.newNoDocument(e,t))}i.j&&(e.set(n,i.H()),i.J())}}));let i=Ra();this.rt.forEach(((t,e)=>{let n=!0;e.forEachWhile((t=>{const e=this.wt(t);return!e||2===e.purpose||(n=!1,!1)})),n&&(i=i.add(t))})),this.it.forEach(((e,i)=>i.setReadTime(t)));const n=new Ma(t,e,this.ot,this.it,i);return this.it=Ia(),this.rt=Ba(),this.ot=new Sa(hr),n}ut(t,e){if(!this.ft(t))return;const i=this.It(t,e.key)?2:0;this.lt(t).Y(e.key,i),this.it=this.it.insert(e.key,e),this.rt=this.rt.insert(e.key,this.Et(e.key).add(t))}at(t,e,i){if(!this.ft(t))return;const n=this.lt(t);this.It(t,e)?n.Y(e,1):n.X(e),this.rt=this.rt.insert(e,this.Et(e).delete(t)),i&&(this.it=this.it.insert(e,i))}removeTarget(t){this.st.delete(t)}gt(t){const e=this.lt(t).H();return this.nt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Z(t){this.lt(t).Z()}lt(t){let e=this.st.get(t);return e||(e=new Ha,this.st.set(t,e)),e}Et(t){let e=this.rt.get(t);return e||(e=new Sa(hr),this.rt=this.rt.insert(t,e)),e}ft(t){const e=null!==this.wt(t);return e||Un("WatchChangeAggregator","Detected inactive target",t),e}wt(t){const e=this.st.get(t);return e&&e.G?null:this.nt.Tt(t)}dt(t){this.st.set(t,new Ha),this.nt.getRemoteKeysForTarget(t).forEach((e=>{this.at(t,e,null)}))}It(t,e){return this.nt.getRemoteKeysForTarget(t).has(e)}}function Ba(){return new wa(Mr.comparator)}function Ya(){return new wa(Mr.comparator)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua=(()=>{const t={asc:"ASCENDING",desc:"DESCENDING"};return t})(),Wa=(()=>{const t={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};return t})();class ja{constructor(t,e){this.databaseId=t,this.N=e}}function Ga(t,e){return t.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qa(t,e){return t.N?e.toBase64():e.toUint8Array()}function $a(t,e){return Ga(t,e.toTimestamp())}function Ka(t){return $n(!!t),fr.fromTimestamp(function(t){const e=Sr(t);return new dr(e.seconds,e.nanos)}(t))}function Ja(t,e){return function(t){return new yr(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Za(t){const e=yr.fromString(t);return $n(ko(e)),e}function Qa(t,e){return Ja(t.databaseId,e.path)}function to(t,e){const i=Za(e);if(i.get(1)!==t.databaseId.projectId)throw new Zn(Jn.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+t.databaseId.projectId);if(i.get(3)!==t.databaseId.database)throw new Zn(Jn.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+t.databaseId.database);return new Mr(ro(i))}function eo(t,e){return Ja(t.databaseId,e)}function io(t){const e=Za(t);return 4===e.length?yr.emptyPath():ro(e)}function no(t){return new yr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ro(t){return $n(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function so(t,e,i){return{name:Qa(t,e),fields:i.value.mapValue.fields}}function ao(t,e){let i;if("targetChange"in e){e.targetChange;const n=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:qn()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(t,e){return t.N?($n(void 0===e||"string"==typeof e),kr.fromBase64String(e||"")):($n(void 0===e||e instanceof Uint8Array),kr.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(t){const e=void 0===t.code?Jn.UNKNOWN:ba(t.code);return new Zn(e,t.message||"")}(a);i=new Va(n,r,s,o||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const r=to(t,n.document.name),s=Ka(n.document.updateTime),a=new Jr({mapValue:{fields:n.document.fields}}),o=Qr.newFoundDocument(r,s,a),l=n.targetIds||[],c=n.removedTargetIds||[];i=new Fa(l,c,o.key,o)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const r=to(t,n.document),s=n.readTime?Ka(n.readTime):fr.min(),a=Qr.newNoDocument(r,s),o=n.removedTargetIds||[];i=new Fa([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const r=to(t,n.document),s=n.removedTargetIds||[];i=new Fa([],s,r,null)}else{if(!("filter"in e))return qn();{e.filter;const t=e.filter;t.targetId;const n=t.count||0,r=new ma(n),s=t.targetId;i=new za(s,r)}}return i}function oo(t,e){let i;if(e instanceof ca)i={update:so(t,e.key,e.value)};else if(e instanceof pa)i={delete:Qa(t,e.key)};else if(e instanceof ha)i={update:so(t,e.key,e.data),updateMask:wo(e.fieldMask)};else{if(!(e instanceof ga))return qn();i={verify:Qa(t,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((t=>function(t,e){const i=e.transform;if(i instanceof Ws)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(i instanceof js)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:i.elements}};if(i instanceof qs)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:i.elements}};if(i instanceof Ks)return{fieldPath:e.field.canonicalString(),increment:i.k};throw qn()}(0,t)))),e.precondition.isNone||(i.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:$a(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:qn()}(t,e.precondition)),i}function lo(t,e){return t&&t.length>0?($n(void 0!==e),t.map((t=>function(t,e){let i=t.updateTime?Ka(t.updateTime):Ka(e);return i.isEqual(fr.min())&&(i=Ka(e)),new ta(i,t.transformResults||[])}(t,e)))):[]}function co(t,e){return{documents:[eo(t,e.path)]}}function ho(t,e){const i={structuredQuery:{}},n=e.path;null!==e.collectionGroup?(i.parent=eo(t,n),i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i.parent=eo(t,n.popLast()),i.structuredQuery.from=[{collectionId:n.lastSegment()}]);const r=function(t){if(0===t.length)return;const e=t.map((t=>function(t){if("=="===t.op){if(qr(t.value))return{unaryFilter:{field:vo(t.field),op:"IS_NAN"}};if(Gr(t.value))return{unaryFilter:{field:vo(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(qr(t.value))return{unaryFilter:{field:vo(t.field),op:"IS_NOT_NAN"}};if(Gr(t.value))return{unaryFilter:{field:vo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vo(t.field),op:mo(t.op),value:t.value}}}(t)));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}(e.filters);r&&(i.structuredQuery.where=r);const s=function(t){if(0!==t.length)return t.map((t=>function(t){return{field:vo(t.field),direction:go(t.dir)}}(t)))}(e.orderBy);s&&(i.structuredQuery.orderBy=s);const a=function(t,e){return t.N||Rr(e)?e:{value:e}}(t,e.limit);var o;return null!==a&&(i.structuredQuery.limit=a),e.startAt&&(i.structuredQuery.startAt={before:(o=e.startAt).inclusive,values:o.position}),e.endAt&&(i.structuredQuery.endAt=function(t){return{before:!t.inclusive,values:t.position}}(e.endAt)),i}function uo(t){let e=io(t.parent);const i=t.structuredQuery,n=i.from?i.from.length:0;let r=null;if(n>0){$n(1===n);const t=i.from[0];t.allDescendants?r=t.collectionId:e=e.child(t.collectionId)}let s=[];i.where&&(s=po(i.where));let a=[];i.orderBy&&(a=i.orderBy.map((t=>function(t){return new vs(yo(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t))));let o=null;i.limit&&(o=function(t){let e;return e="object"==typeof t?t.value:t,Rr(e)?null:e}(i.limit));let l=null;i.startAt&&(l=function(t){const e=!!t.before,i=t.values||[];return new ms(i,e)}(i.startAt));let c=null;return i.endAt&&(c=function(t){const e=!t.before,i=t.values||[];return new ms(i,e)}(i.endAt)),ks(e,r,a,s,o,"F",l,c)}function fo(t,e){const i=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return qn()}}(0,e.purpose);return null==i?null:{"goog-listen-tags":i}}function po(t){return t?void 0!==t.unaryFilter?[bo(t)]:void 0!==t.fieldFilter?[xo(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((t=>po(t))).reduce(((t,e)=>t.concat(e))):qn():[]}function go(t){return Ua[t]}function mo(t){return Wa[t]}function vo(t){return{fieldPath:t.canonicalString()}}function yo(t){return br.fromServerFormat(t.fieldPath)}function xo(t){return os.create(yo(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return qn()}}(t.fieldFilter.op),t.fieldFilter.value)}function bo(t){switch(t.unaryFilter.op){case"IS_NAN":const e=yo(t.unaryFilter.field);return os.create(e,"==",{doubleValue:NaN});case"IS_NULL":const i=yo(t.unaryFilter.field);return os.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const n=yo(t.unaryFilter.field);return os.create(n,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=yo(t.unaryFilter.field);return os.create(r,"!=",{nullValue:"NULL_VALUE"});default:return qn()}}function wo(t){const e=[];return t.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function ko(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ao(t){let e="";for(let i=0;i<t.length;i++)e.length>0&&(e=Co(e)),e=So(t.get(i),e);return Co(e)}function So(t,e){let i=e;const n=t.length;for(let r=0;r<n;r++){const e=t.charAt(r);switch(e){case"\0":i+="";break;case"":i+="";break;default:i+=e}}return i}function Co(t){return t+""}class Eo{constructor(t,e,i){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=i}}Eo.store="owner",Eo.key="owner";class Io{constructor(t,e,i){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=i}}Io.store="mutationQueues",Io.keyPath="userId";class To{constructor(t,e,i,n,r){this.userId=t,this.batchId=e,this.localWriteTimeMs=i,this.baseMutations=n,this.mutations=r}}To.store="mutations",To.keyPath="batchId",To.userMutationsIndex="userMutationsIndex",To.userMutationsKeyPath=["userId","batchId"];class _o{constructor(){}static prefixForUser(t){return[t]}static prefixForPath(t,e){return[t,Ao(e)]}static key(t,e,i){return[t,Ao(e),i]}}_o.store="documentMutations",_o.PLACEHOLDER=new _o;class Po{constructor(t,e,i,n,r,s){this.unknownDocument=t,this.noDocument=e,this.document=i,this.hasCommittedMutations=n,this.readTime=r,this.parentPath=s}}Po.store="remoteDocuments",Po.readTimeIndex="readTimeIndex",Po.readTimeIndexPath="readTime",Po.collectionReadTimeIndex="collectionReadTimeIndex",Po.collectionReadTimeIndexPath=["parentPath","readTime"];class Lo{constructor(t){this.byteSize=t}}Lo.store="remoteDocumentGlobal",Lo.key="remoteDocumentGlobalKey";class Ro{constructor(t,e,i,n,r,s,a){this.targetId=t,this.canonicalId=e,this.readTime=i,this.resumeToken=n,this.lastListenSequenceNumber=r,this.lastLimboFreeSnapshotVersion=s,this.query=a}}Ro.store="targets",Ro.keyPath="targetId",Ro.queryTargetsIndexName="queryTargetsIndex",Ro.queryTargetsKeyPath=["canonicalId","targetId"];class Oo{constructor(t,e,i){this.targetId=t,this.path=e,this.sequenceNumber=i}}Oo.store="targetDocuments",Oo.keyPath=["targetId","path"],Oo.documentTargetsIndex="documentTargetsIndex",Oo.documentTargetsKeyPath=["path","targetId"];class No{constructor(t,e,i,n){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=i,this.targetCount=n}}No.key="targetGlobalKey",No.store="targetGlobal";class Mo{constructor(t,e){this.collectionId=t,this.parent=e}}Mo.store="collectionParents",Mo.keyPath=["collectionId","parent"];class Do{constructor(t,e,i,n){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=i,this.inForeground=n}}Do.store="clientMetadata",Do.keyPath="clientId";class Fo{constructor(t,e,i){this.bundleId=t,this.createTime=e,this.version=i}}Fo.store="bundles",Fo.keyPath="bundleId";class zo{constructor(t,e,i){this.name=t,this.readTime=e,this.bundledQuery=i}}zo.store="namedQueries",zo.keyPath="name";class Vo{constructor(t,e,i){this.indexId=t,this.collectionGroup=e,this.fields=i}}Vo.store="indexConfiguration",Vo.keyPath="indexId",Vo.collectionGroupIndex="collectionGroupIndex",Vo.collectionGroupIndexPath="collectionGroup";class Ho{constructor(t,e,i,n,r,s){this.indexId=t,this.uid=e,this.sequenceNumber=i,this.readTime=n,this.documentKey=r,this.largestBatchId=s}}Ho.store="indexState",Ho.keyPath=["indexId","uid"],Ho.sequenceNumberIndex="sequenceNumberIndex",Ho.sequenceNumberIndexPath=["uid","sequenceNumber"];class Xo{constructor(t,e,i,n,r){this.indexId=t,this.uid=e,this.arrayValue=i,this.directionalValue=n,this.documentKey=r}}Xo.store="indexEntries",Xo.keyPath=["indexId","uid","arrayValue","directionalValue","documentKey"],Xo.documentKeyIndex="documentKeyIndex",Xo.documentKeyIndexPath=["indexId","uid","documentKey"];class Bo{constructor(t,e,i,n,r,s){this.userId=t,this.collectionPath=e,this.documentId=i,this.collectionGroup=n,this.largestBatchId=r,this.overlayMutation=s}}Bo.store="documentOverlays",Bo.keyPath=["userId","collectionPath","documentId"],Bo.collectionPathOverlayIndex="collectionPathOverlayIndex",Bo.collectionPathOverlayIndexPath=["userId","collectionPath","largestBatchId"],Bo.collectionGroupOverlayIndex="collectionGroupOverlayIndex",Bo.collectionGroupOverlayIndexPath=["userId","collectionGroup","largestBatchId"];const Yo=[Io.store,To.store,_o.store,Po.store,Ro.store,Eo.store,No.store,Oo.store,Do.store,Lo.store,Mo.store,Fo.store,zo.store],Uo=[...Yo,Bo.store],Wo=(Vo.store,Ho.store,Xo.store,"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.");
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&qn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Go(((i,n)=>{this.nextCallback=e=>{this.wrapSuccess(t,e).next(i,n)},this.catchCallback=t=>{this.wrapFailure(e,t).next(i,n)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof Go?e:Go.resolve(e)}catch(t){return Go.reject(t)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):Go.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):Go.reject(e)}static resolve(t){return new Go(((e,i)=>{e(t)}))}static reject(t){return new Go(((e,i)=>{i(t)}))}static waitFor(t){return new Go(((e,i)=>{let n=0,r=0,s=!1;t.forEach((t=>{++n,t.next((()=>{++r,s&&r===n&&e()}),(t=>i(t)))})),s=!0,r===n&&e()}))}static or(t){let e=Go.resolve(!1);for(const i of t)e=e.next((t=>t?Go.resolve(t):i()));return e}static forEach(t,e){const i=[];return t.forEach(((t,n)=>{i.push(e.call(this,t,n))})),this.waitFor(i)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qo(t){return"IndexedDbTransactionError"===t.name}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class $o{constructor(t,e,i,n){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=n}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let n=0;n<this.mutations.length;n++){const e=this.mutations[n];e.key.isEqual(t.key)&&ra(e,t,i[n])}}applyToLocalView(t){for(const e of this.baseMutations)e.key.isEqual(t.key)&&sa(e,t,this.localWriteTime);for(const e of this.mutations)e.key.isEqual(t.key)&&sa(e,t,this.localWriteTime)}applyToLocalDocumentSet(t){this.mutations.forEach((e=>{const i=t.get(e.key),n=i;this.applyToLocalView(n),i.isValidDocument()||n.convertToNoDocument(fr.min())}))}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Ra())}isEqual(t){return this.batchId===t.batchId&&ur(this.mutations,t.mutations,((t,e)=>oa(t,e)))&&ur(this.baseMutations,t.baseMutations,((t,e)=>oa(t,e)))}}class Ko{constructor(t,e,i,n){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=n}static from(t,e,i){$n(t.mutations.length===i.length);let n=Pa;const r=t.mutations;for(let s=0;s<r.length;s++)n=n.insert(r[s].key,i[s].version);return new Ko(t,e,i,n)}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(t,e,i,n,r=fr.min(),s=fr.min(),a=kr.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=n,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a}withSequenceNumber(t){return new Zo(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new Zo(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Zo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(t){this.Ht=t}}function tl(t){const e=uo({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Ls(e,e.limit,"L"):e}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(){}Xt(t,e){this.Zt(t,e),e.te()}Zt(t,e){if("nullValue"in t)this.ee(e,5);else if("booleanValue"in t)this.ee(e,10),e.ne(t.booleanValue?1:0);else if("integerValue"in t)this.ee(e,15),e.ne(Cr(t.integerValue));else if("doubleValue"in t){const i=Cr(t.doubleValue);isNaN(i)?this.ee(e,13):(this.ee(e,15),Or(i)?e.ne(0):e.ne(i))}else if("timestampValue"in t){const i=t.timestampValue;this.ee(e,20),"string"==typeof i?e.se(i):(e.se(`${i.seconds||""}`),e.ne(i.nanos||0))}else if("stringValue"in t)this.ie(t.stringValue,e),this.re(e);else if("bytesValue"in t)this.ee(e,30),e.oe(Er(t.bytesValue)),this.re(e);else if("referenceValue"in t)this.ce(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ee(e,45),e.ne(i.latitude||0),e.ne(i.longitude||0)}else"mapValue"in t?zr(t,Dr)?this.ee(e,Number.MAX_SAFE_INTEGER):(this.ue(t.mapValue,e),this.re(e)):"arrayValue"in t?(this.ae(t.arrayValue,e),this.re(e)):qn()}ie(t,e){this.ee(e,25),this.he(t,e)}he(t,e){e.se(t)}ue(t,e){const i=t.fields||{};this.ee(e,55);for(const n of Object.keys(i))this.ie(n,e),this.Zt(i[n],e)}ae(t,e){const i=t.values||[];this.ee(e,50);for(const n of i)this.Zt(n,e)}ce(t,e){this.ee(e,37),Mr.fromName(t).path.forEach((t=>{this.ee(e,60),this.he(t,e)}))}ee(t,e){t.ne(e)}re(t){t.ne(2)}}el.le=new el;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class il{constructor(){this.xe=new nl}addToCollectionParentIndex(t,e){return this.xe.add(e),Go.resolve()}getCollectionParents(t,e){return Go.resolve(this.xe.getEntries(e))}addFieldIndex(t,e){return Go.resolve()}deleteFieldIndex(t,e){return Go.resolve()}getDocumentsMatchingTarget(t,e,i){return Go.resolve(Ra())}getFieldIndex(t,e){return Go.resolve(null)}getFieldIndexes(t,e){return Go.resolve([])}getNextCollectionGroupToUpdate(t){return Go.resolve(null)}updateCollectionGroup(t,e,i){return Go.resolve()}updateIndexEntries(t,e){return Go.resolve()}}class nl{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),n=this.index[e]||new Sa(yr.comparator),r=!n.has(i);return this.index[e]=n.add(i),r}has(t){const e=t.lastSegment(),i=t.popLast(),n=this.index[e];return n&&n.has(i)}getEntries(t){return(this.index[t]||new Sa(yr.comparator)).toArray()}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new rl(t,rl.DEFAULT_COLLECTION_PERCENTILE,rl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rl.DEFAULT_COLLECTION_PERCENTILE=10,rl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rl.DEFAULT=new rl(41943040,rl.DEFAULT_COLLECTION_PERCENTILE,rl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rl.DISABLED=new rl(-1,0,0);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class sl{constructor(t){this.ze=t}next(){return this.ze+=2,this.ze}static He(){return new sl(0)}static Je(){return new sl(-1)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function al(t){if(t.code!==Jn.FAILED_PRECONDITION||t.message!==Wo)throw t;Un("LocalStore","Unexpectedly lost primary lease")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ol{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[n,r]of i)if(this.equalsFn(n,t))return r}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),n=this.inner[i];if(void 0!==n){for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],t))return void(n[i]=[t,e]);n.push([t,e])}else this.inner[i]=[[t,e]]}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let n=0;n<i.length;n++)if(this.equalsFn(i[n][0],t))return 1===i.length?delete this.inner[e]:i.splice(n,1),!0;return!1}forEach(t){gr(this.inner,((e,i)=>{for(const[n,r]of i)t(n,r)}))}isEmpty(){return mr(this.inner)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(){this.changes=new ol((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Qr.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?Go.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class cl{constructor(t,e,i){this.qn=t,this.gs=e,this.indexManager=i}ys(t,e){return this.gs.getAllMutationBatchesAffectingDocumentKey(t,e).next((i=>this.ps(t,e,i)))}ps(t,e,i){return this.qn.getEntry(t,e).next((t=>{for(const e of i)e.applyToLocalView(t);return t}))}Is(t,e){t.forEach(((t,i)=>{for(const n of e)n.applyToLocalView(i)}))}Es(t,e){return this.qn.getEntries(t,e).next((e=>this.Ts(t,e).next((()=>e))))}Ts(t,e){return this.gs.getAllMutationBatchesAffectingDocumentKeys(t,e).next((t=>this.Is(e,t)))}As(t,e,i){return function(t){return Mr.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Rs(t,e.path):Ts(e)?this.Ps(t,e,i):this.bs(t,e,i)}Rs(t,e){return this.ys(t,new Mr(e)).next((t=>{let e=_a();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))}Ps(t,e,i){const n=e.collectionGroup;let r=_a();return this.indexManager.getCollectionParents(t,n).next((s=>Go.forEach(s,(s=>{const a=function(t,e){return new ws(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(n));return this.bs(t,a,i).next((t=>{t.forEach(((t,e)=>{r=r.insert(t,e)}))}))})).next((()=>r))))}bs(t,e,i){let n;return this.qn.getAll(t,e.path,i).next((i=>(n=i,this.gs.getAllMutationBatchesAffectingQuery(t,e)))).next((t=>{for(const e of t)for(const t of e.mutations){const i=t.key;let r=n.get(i);null==r&&(r=Qr.newInvalidDocument(i),n=n.insert(i,r)),sa(t,r,e.localWriteTime),r.isFoundDocument()||(n=n.remove(i))}})).next((()=>(n.forEach(((t,i)=>{Ms(e,i)||(n=n.remove(t))})),n)))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(t,e,i,n){this.targetId=t,this.fromCache=e,this.vs=i,this.Vs=n}static Ss(t,e){let i=Ra(),n=Ra();for(const r of e.docChanges)switch(r.type){case 0:i=i.add(r.doc.key);break;case 1:n=n.add(r.doc.key)}return new hl(t,e.fromCache,i,n)}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{Ds(t){this.Cs=t}As(t,e,i,n){return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||i.isEqual(fr.min())?this.Ns(t,e):this.Cs.Es(t,n).next((r=>{const s=this.xs(e,r);return(Ss(e)||Cs(e))&&this.ks(e.limitType,s,n,i)?this.Ns(t,e):(Yn()<=a["in"].DEBUG&&Un("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ns(e)),this.Cs.As(t,e,i).next((t=>(s.forEach((e=>{t=t.insert(e.key,e)})),t))))}))}xs(t,e){let i=new Sa(Ds(t));return e.forEach(((e,n)=>{Ms(t,n)&&(i=i.add(n))})),i}ks(t,e,i,n){if(i.size!==e.size)return!0;const r="F"===t?e.last():e.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(n)>0)}Ns(t,e){return Yn()<=a["in"].DEBUG&&Un("QueryEngine","Using full collection scan to execute query:",Ns(e)),this.Cs.As(t,e,fr.min())}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(t,e,i,n){this.persistence=t,this.Os=e,this.O=n,this.Ms=new wa(hr),this.$s=new ol((t=>ns(t)),ss),this.Fs=fr.min(),this.Bs=t.getRemoteDocumentCache(),this.Un=t.getTargetCache(),this.Kn=t.getBundleCache(),this.Ls(i)}Ls(t){this.indexManager=this.persistence.getIndexManager(t),this.gs=this.persistence.getMutationQueue(t,this.indexManager),this.Us=new cl(this.Bs,this.gs,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Os.Ds(this.Us)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function fl(t,e,i,n){return new dl(t,e,i,n)}async function pl(t,e){const i=Kn(t);return await i.persistence.runTransaction("Handle user change","readonly",(t=>{let n;return i.gs.getAllMutationBatches(t).next((r=>(n=r,i.Ls(e),i.gs.getAllMutationBatches(t)))).next((e=>{const r=[],s=[];let a=Ra();for(const t of n){r.push(t.batchId);for(const e of t.mutations)a=a.add(e.key)}for(const t of e){s.push(t.batchId);for(const e of t.mutations)a=a.add(e.key)}return i.Us.Es(t,a).next((t=>({qs:t,removedBatchIds:r,addedBatchIds:s})))}))}))}function gl(t,e){const i=Kn(t);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(t=>{const n=e.batch.keys(),r=i.Bs.newChangeBuffer({trackRemovals:!0});return function(t,e,i,n){const r=i.batch,s=r.keys();let a=Go.resolve();return s.forEach((t=>{a=a.next((()=>n.getEntry(e,t))).next((e=>{const s=i.docVersions.get(t);$n(null!==s),e.version.compareTo(s)<0&&(r.applyToRemoteDocument(e,i),e.isValidDocument()&&(e.setReadTime(i.commitVersion),n.addEntry(e)))}))})),a.next((()=>t.gs.removeMutationBatch(e,r)))}(i,t,e,r).next((()=>r.apply(t))).next((()=>i.gs.performConsistencyCheck(t))).next((()=>i.Us.Es(t,n)))}))}function ml(t){const e=Kn(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Un.getLastRemoteSnapshotVersion(t)))}function vl(t,e){const i=Kn(t),n=e.snapshotVersion;let r=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(t=>{const s=i.Bs.newChangeBuffer({trackRemovals:!0});r=i.Ms;const a=[];e.targetChanges.forEach(((s,o)=>{const l=r.get(o);if(!l)return;a.push(i.Un.removeMatchingKeys(t,s.removedDocuments,o).next((()=>i.Un.addMatchingKeys(t,s.addedDocuments,o))));let c=l.withSequenceNumber(t.currentSequenceNumber);e.targetMismatches.has(o)?c=c.withResumeToken(kr.EMPTY_BYTE_STRING,fr.min()).withLastLimboFreeSnapshotVersion(fr.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,n)),r=r.insert(o,c),function(t,e,i){return 0===t.resumeToken.approximateByteSize()||(e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size>0)}(l,c,s)&&a.push(i.Un.updateTargetData(t,c))}));let o=Ia();if(e.documentUpdates.forEach((n=>{e.resolvedLimboDocuments.has(n)&&a.push(i.persistence.referenceDelegate.updateLimboDocument(t,n))})),a.push(yl(t,s,e.documentUpdates).next((t=>{o=t}))),!n.isEqual(fr.min())){const e=i.Un.getLastRemoteSnapshotVersion(t).next((e=>i.Un.setTargetsMetadata(t,t.currentSequenceNumber,n)));a.push(e)}return Go.waitFor(a).next((()=>s.apply(t))).next((()=>i.Us.Ts(t,o))).next((()=>o))})).then((t=>(i.Ms=r,t)))}function yl(t,e,i){let n=Ra();return i.forEach((t=>n=n.add(t))),e.getEntries(t,n).next((t=>{let n=Ia();return i.forEach(((i,r)=>{const s=t.get(i);r.isNoDocument()&&r.version.isEqual(fr.min())?(e.removeEntry(i,r.readTime),n=n.insert(i,r)):!s.isValidDocument()||r.version.compareTo(s.version)>0||0===r.version.compareTo(s.version)&&s.hasPendingWrites?(e.addEntry(r),n=n.insert(i,r)):Un("LocalStore","Ignoring outdated watch update for ",i,". Current version:",s.version," Watch version:",r.version)})),n}))}function xl(t,e){const i=Kn(t);return i.persistence.runTransaction("Get next mutation batch","readonly",(t=>(void 0===e&&(e=-1),i.gs.getNextMutationBatchAfterBatchId(t,e))))}function bl(t,e){const i=Kn(t);return i.persistence.runTransaction("Allocate target","readwrite",(t=>{let n;return i.Un.getTargetData(t,e).next((r=>r?(n=r,Go.resolve(n)):i.Un.allocateTargetId(t).next((r=>(n=new Zo(e,r,0,t.currentSequenceNumber),i.Un.addTargetData(t,n).next((()=>n)))))))})).then((t=>{const n=i.Ms.get(t.targetId);return(null===n||t.snapshotVersion.compareTo(n.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(t.targetId,t),i.$s.set(e,t.targetId)),t}))}async function wl(t,e,i){const n=Kn(t),r=n.Ms.get(e),s=i?"readwrite":"readwrite-primary";try{i||await n.persistence.runTransaction("Release target",s,(t=>n.persistence.referenceDelegate.removeTarget(t,r)))}catch(t){if(!qo(t))throw t;Un("LocalStore",`Failed to update sequence numbers for target ${e}: ${t}`)}n.Ms=n.Ms.remove(e),n.$s.delete(r.target)}function kl(t,e,i){const n=Kn(t);let r=fr.min(),s=Ra();return n.persistence.runTransaction("Execute query","readonly",(t=>function(t,e,i){const n=Kn(t),r=n.$s.get(i);return void 0!==r?Go.resolve(n.Ms.get(r)):n.Un.getTargetData(e,i)}(n,t,Ps(e)).next((e=>{if(e)return r=e.lastLimboFreeSnapshotVersion,n.Un.getMatchingKeysForTargetId(t,e.targetId).next((t=>{s=t}))})).next((()=>n.Os.As(t,e,i?r:fr.min(),i?s:Ra()))).next((t=>({documents:t,Ks:s})))))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Al{constructor(t){this.O=t,this.Ws=new Map,this.zs=new Map}getBundleMetadata(t,e){return Go.resolve(this.Ws.get(e))}saveBundleMetadata(t,e){var i;return this.Ws.set(e.id,{id:(i=e).id,version:i.version,createTime:Ka(i.createTime)}),Go.resolve()}getNamedQuery(t,e){return Go.resolve(this.zs.get(e))}saveNamedQuery(t,e){return this.zs.set(e.name,function(t){return{name:t.name,query:tl(t.bundledQuery),readTime:Ka(t.readTime)}}(e)),Go.resolve()}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(){this.overlays=new wa(Mr.comparator),this.Hs=new Map}getOverlay(t,e){return Go.resolve(this.overlays.get(e))}saveOverlays(t,e,i){return i.forEach((i=>{this.Yt(t,e,i)})),Go.resolve()}removeOverlaysForBatchId(t,e,i){const n=this.Hs.get(i);return void 0!==n&&(n.forEach((t=>this.overlays=this.overlays.remove(t))),this.Hs.delete(i)),Go.resolve()}getOverlaysForCollection(t,e,i){const n=new Map,r=e.length+1,s=new Mr(e.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const t=a.getNext().value,s=t.getKey();if(!e.isPrefixOf(s.path))break;s.path.length===r&&t.largestBatchId>i&&n.set(t.getKey(),t)}return Go.resolve(n)}getOverlaysForCollectionGroup(t,e,i,n){let r=new wa(((t,e)=>t-e));const s=this.overlays.getIterator();for(;s.hasNext();){const t=s.getNext().value;if(t.getKey().getCollectionGroup()===e&&t.largestBatchId>i){let e=r.get(t.largestBatchId);null===e&&(e=new Map,r=r.insert(t.largestBatchId,e)),e.set(t.getKey(),t)}}const a=new Map,o=r.getIterator();for(;o.hasNext();)if(o.getNext().value.forEach(((t,e)=>a.set(e,t))),a.size>=n)break;return Go.resolve(a)}Yt(t,e,i){if(null===i)return;const n=this.overlays.get(i.key);null!==n&&this.Hs.get(n.largestBatchId).delete(i.key),this.overlays=this.overlays.insert(i.key,new Jo(e,i));let r=this.Hs.get(e);void 0===r&&(r=new Set,this.Hs.set(e,r)),r.add(i.key)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(){this.Js=new Sa(El.Ys),this.Xs=new Sa(El.Zs)}isEmpty(){return this.Js.isEmpty()}addReference(t,e){const i=new El(t,e);this.Js=this.Js.add(i),this.Xs=this.Xs.add(i)}ti(t,e){t.forEach((t=>this.addReference(t,e)))}removeReference(t,e){this.ei(new El(t,e))}ni(t,e){t.forEach((t=>this.removeReference(t,e)))}si(t){const e=new Mr(new yr([])),i=new El(e,t),n=new El(e,t+1),r=[];return this.Xs.forEachInRange([i,n],(t=>{this.ei(t),r.push(t.key)})),r}ii(){this.Js.forEach((t=>this.ei(t)))}ei(t){this.Js=this.Js.delete(t),this.Xs=this.Xs.delete(t)}ri(t){const e=new Mr(new yr([])),i=new El(e,t),n=new El(e,t+1);let r=Ra();return this.Xs.forEachInRange([i,n],(t=>{r=r.add(t.key)})),r}containsKey(t){const e=new El(t,0),i=this.Js.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class El{constructor(t,e){this.key=t,this.oi=e}static Ys(t,e){return Mr.comparator(t.key,e.key)||hr(t.oi,e.oi)}static Zs(t,e){return hr(t.oi,e.oi)||Mr.comparator(t.key,e.key)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.gs=[],this.ci=1,this.ui=new Sa(El.Ys)}checkEmpty(t){return Go.resolve(0===this.gs.length)}addMutationBatch(t,e,i,n){const r=this.ci;this.ci++,this.gs.length>0&&this.gs[this.gs.length-1];const s=new $o(r,e,i,n);this.gs.push(s);for(const a of n)this.ui=this.ui.add(new El(a.key,r)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return Go.resolve(s)}lookupMutationBatch(t,e){return Go.resolve(this.ai(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,n=this.hi(i),r=n<0?0:n;return Go.resolve(this.gs.length>r?this.gs[r]:null)}getHighestUnacknowledgedBatchId(){return Go.resolve(0===this.gs.length?-1:this.ci-1)}getAllMutationBatches(t){return Go.resolve(this.gs.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new El(e,0),n=new El(e,Number.POSITIVE_INFINITY),r=[];return this.ui.forEachInRange([i,n],(t=>{const e=this.ai(t.oi);r.push(e)})),Go.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Sa(hr);return e.forEach((t=>{const e=new El(t,0),n=new El(t,Number.POSITIVE_INFINITY);this.ui.forEachInRange([e,n],(t=>{i=i.add(t.oi)}))})),Go.resolve(this.li(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,n=i.length+1;let r=i;Mr.isDocumentKey(r)||(r=r.child(""));const s=new El(new Mr(r),0);let a=new Sa(hr);return this.ui.forEachWhile((t=>{const e=t.key.path;return!!i.isPrefixOf(e)&&(e.length===n&&(a=a.add(t.oi)),!0)}),s),Go.resolve(this.li(a))}li(t){const e=[];return t.forEach((t=>{const i=this.ai(t);null!==i&&e.push(i)})),e}removeMutationBatch(t,e){$n(0===this.fi(e.batchId,"removed")),this.gs.shift();let i=this.ui;return Go.forEach(e.mutations,(n=>{const r=new El(n.key,e.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(t,n.key)})).next((()=>{this.ui=i}))}Qe(t){}containsKey(t,e){const i=new El(e,0),n=this.ui.firstAfterOrEqual(i);return Go.resolve(e.isEqual(n&&n.key))}performConsistencyCheck(t){return this.gs.length,Go.resolve()}fi(t,e){return this.hi(t)}hi(t){return 0===this.gs.length?0:t-this.gs[0].batchId}ai(t){const e=this.hi(t);return e<0||e>=this.gs.length?null:this.gs[e]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(t){this.di=t,this.docs=new wa(Mr.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,n=this.docs.get(i),r=n?n.size:0,s=this.di(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:s}),this.size+=s-r,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return Go.resolve(i?i.document.mutableCopy():Qr.newInvalidDocument(e))}getEntries(t,e){let i=Ia();return e.forEach((t=>{const e=this.docs.get(t);i=i.insert(t,e?e.document.mutableCopy():Qr.newInvalidDocument(t))})),Go.resolve(i)}getAll(t,e,i){let n=Ia();const r=new Mr(e.child("")),s=this.docs.getIteratorFrom(r);for(;s.hasNext();){const{key:t,value:{document:r}}=s.getNext();if(!e.isPrefixOf(t.path))break;t.path.length>e.length+1||r.readTime.compareTo(i)<=0||(n=n.insert(r.key,r.mutableCopy()))}return Go.resolve(n)}_i(t,e){return Go.forEach(this.docs,(t=>e(t)))}newChangeBuffer(t){return new _l(this)}getSize(t){return Go.resolve(this.size)}}class _l extends ll{constructor(t){super(),this.Tn=t}applyChanges(t){const e=[];return this.changes.forEach(((i,n)=>{n.isValidDocument()?e.push(this.Tn.addEntry(t,n)):this.Tn.removeEntry(i)})),Go.waitFor(e)}getFromCache(t,e){return this.Tn.getEntry(t,e)}getAllFromCache(t,e){return this.Tn.getEntries(t,e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(t){this.persistence=t,this.wi=new ol((t=>ns(t)),ss),this.lastRemoteSnapshotVersion=fr.min(),this.highestTargetId=0,this.mi=0,this.gi=new Cl,this.targetCount=0,this.yi=sl.He()}forEachTarget(t,e){return this.wi.forEach(((t,i)=>e(i))),Go.resolve()}getLastRemoteSnapshotVersion(t){return Go.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Go.resolve(this.mi)}allocateTargetId(t){return this.highestTargetId=this.yi.next(),Go.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.mi&&(this.mi=e),Go.resolve()}Ze(t){this.wi.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.yi=new sl(e),this.highestTargetId=e),t.sequenceNumber>this.mi&&(this.mi=t.sequenceNumber)}addTargetData(t,e){return this.Ze(e),this.targetCount+=1,Go.resolve()}updateTargetData(t,e){return this.Ze(e),Go.resolve()}removeTargetData(t,e){return this.wi.delete(e.target),this.gi.si(e.targetId),this.targetCount-=1,Go.resolve()}removeTargets(t,e,i){let n=0;const r=[];return this.wi.forEach(((s,a)=>{a.sequenceNumber<=e&&null===i.get(a.targetId)&&(this.wi.delete(s),r.push(this.removeMatchingKeysForTargetId(t,a.targetId)),n++)})),Go.waitFor(r).next((()=>n))}getTargetCount(t){return Go.resolve(this.targetCount)}getTargetData(t,e){const i=this.wi.get(e)||null;return Go.resolve(i)}addMatchingKeys(t,e,i){return this.gi.ti(e,i),Go.resolve()}removeMatchingKeys(t,e,i){this.gi.ni(e,i);const n=this.persistence.referenceDelegate,r=[];return n&&e.forEach((e=>{r.push(n.markPotentiallyOrphaned(t,e))})),Go.waitFor(r)}removeMatchingKeysForTargetId(t,e){return this.gi.si(e),Go.resolve()}getMatchingKeysForTargetId(t,e){const i=this.gi.ri(e);return Go.resolve(i)}containsKey(t,e){return Go.resolve(this.gi.containsKey(e))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(t,e){this.pi={},this.overlays={},this.Nn=new or(0),this.xn=!1,this.xn=!0,this.referenceDelegate=t(this),this.Un=new Pl(this),this.indexManager=new il,this.qn=function(t){return new Tl(t)}((t=>this.referenceDelegate.Ii(t))),this.O=new Qo(e),this.Kn=new Al(this.O)}start(){return Promise.resolve()}shutdown(){return this.xn=!1,Promise.resolve()}get started(){return this.xn}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new Sl,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.pi[t.toKey()];return i||(i=new Il(e,this.referenceDelegate),this.pi[t.toKey()]=i),i}getTargetCache(){return this.Un}getRemoteDocumentCache(){return this.qn}getBundleCache(){return this.Kn}runTransaction(t,e,i){Un("MemoryPersistence","Starting transaction:",t);const n=new Rl(this.Nn.next());return this.referenceDelegate.Ei(),i(n).next((t=>this.referenceDelegate.Ti(n).next((()=>t)))).toPromise().then((t=>(n.raiseOnCommittedEvent(),t)))}Ai(t,e){return Go.or(Object.values(this.pi).map((i=>()=>i.containsKey(t,e))))}}class Rl extends jo{constructor(t){super(),this.currentSequenceNumber=t}}class Ol{constructor(t){this.persistence=t,this.Ri=new Cl,this.Pi=null}static bi(t){return new Ol(t)}get vi(){if(this.Pi)return this.Pi;throw qn()}addReference(t,e,i){return this.Ri.addReference(i,e),this.vi.delete(i.toString()),Go.resolve()}removeReference(t,e,i){return this.Ri.removeReference(i,e),this.vi.add(i.toString()),Go.resolve()}markPotentiallyOrphaned(t,e){return this.vi.add(e.toString()),Go.resolve()}removeTarget(t,e){this.Ri.si(e.targetId).forEach((t=>this.vi.add(t.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((t=>{t.forEach((t=>this.vi.add(t.toString())))})).next((()=>i.removeTargetData(t,e)))}Ei(){this.Pi=new Set}Ti(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Go.forEach(this.vi,(i=>{const n=Mr.fromPath(i);return this.Vi(t,n).next((t=>{t||e.removeEntry(n,fr.min())}))})).next((()=>(this.Pi=null,e.apply(t))))}updateLimboDocument(t,e){return this.Vi(t,e).next((t=>{t?this.vi.delete(e.toString()):this.vi.add(e.toString())}))}Ii(t){return 0}Vi(t,e){return Go.or([()=>Go.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(){this.activeTargetIds=Na()}Ci(t){this.activeTargetIds=this.activeTargetIds.add(t)}Ni(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Di(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Ml{constructor(){this._r=new Nl,this.wr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this._r.Ci(t),this.wr[t]||"not-current"}updateQueryState(t,e,i){this.wr[t]=e}removeLocalQueryTarget(t){this._r.Ni(t)}isLocalQueryTarget(t){return this._r.activeTargetIds.has(t)}clearQueryState(t){delete this.wr[t]}getAllActiveQueryTargets(){return this._r.activeTargetIds}isActiveQueryTarget(t){return this._r.activeTargetIds.has(t)}start(){return this._r=new Nl,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{mr(t){}shutdown(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(){this.gr=()=>this.yr(),this.pr=()=>this.Ir(),this.Er=[],this.Tr()}mr(t){this.Er.push(t)}shutdown(){window.removeEventListener("online",this.gr),window.removeEventListener("offline",this.pr)}Tr(){window.addEventListener("online",this.gr),window.addEventListener("offline",this.pr)}yr(){Un("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Er)t(0)}Ir(){Un("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Er)t(1)}static Vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zl={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(t){this.Ar=t.Ar,this.Rr=t.Rr}Pr(t){this.br=t}vr(t){this.Vr=t}onMessage(t){this.Sr=t}close(){this.Rr()}send(t){this.Ar(t)}Dr(){this.br()}Cr(t){this.Vr(t)}Nr(t){this.Sr(t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http";this.kr=e+"://"+t.host,this.Or="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Mr(t,e,i,n,r){const s=this.$r(t,e);Un("RestConnection","Sending: ",s,i);const a={};return this.Fr(a,n,r),this.Br(t,s,a,i).then((t=>(Un("RestConnection","Received: ",t),t)),(e=>{throw jn("RestConnection",`${t} failed with error: `,e,"url: ",s,"request:",i),e}))}Lr(t,e,i,n,r){return this.Mr(t,e,i,n,r)}Fr(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Xn,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((e,i)=>t[i]=e)),i&&i.headers.forEach(((e,i)=>t[i]=e))}$r(t,e){const i=zl[t];return`${this.kr}/v1/${e}:${i}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}Br(t,e,i,n){return new Promise(((r,s)=>{const a=new zn;a.listenOnce(On.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Rn.NO_ERROR:const e=a.getResponseJson();Un("Connection","XHR received:",JSON.stringify(e)),r(e);break;case Rn.TIMEOUT:Un("Connection",'RPC "'+t+'" timed out'),s(new Zn(Jn.DEADLINE_EXCEEDED,"Request time out"));break;case Rn.HTTP_ERROR:const i=a.getStatus();if(Un("Connection",'RPC "'+t+'" failed with status:',i,"response text:",a.getResponseText()),i>0){const t=a.getResponseJson().error;if(t&&t.status&&t.message){const e=function(t){const e=t.toLowerCase().replace(/_/g,"-");return Object.values(Jn).indexOf(e)>=0?e:Jn.UNKNOWN}(t.status);s(new Zn(e,t.message))}else s(new Zn(Jn.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new Zn(Jn.UNAVAILABLE,"Connection failed."));break;default:qn()}}finally{Un("Connection",'RPC "'+t+'" completed.')}}));const o=JSON.stringify(n);a.send(e,"POST",o,i,15)}))}Ur(t,e,i){const n=[this.kr,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=Pn(),s=Ln(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new Dn({})),this.Fr(a.initMessageHeaders,e,i),(0,o.uI)()||(0,o.b$)()||(0,o.d)()||(0,o.w1)()||(0,o.Mn)()||(0,o.ru)()||(a.httpHeadersOverwriteParam="$httpHeaders");const l=n.join("");Un("Connection","Creating WebChannel: "+l,a);const c=r.createWebChannel(l,a);let h=!1,u=!1;const d=new Vl({Ar:t=>{u?Un("Connection","Not sending because WebChannel is closed:",t):(h||(Un("Connection","Opening WebChannel transport."),c.open(),h=!0),Un("Connection","WebChannel sending:",t),c.send(t))},Rr:()=>c.close()}),f=(t,e,i)=>{t.listen(e,(t=>{try{i(t)}catch(t){setTimeout((()=>{throw t}),0)}}))};return f(c,Fn.EventType.OPEN,(()=>{u||Un("Connection","WebChannel transport opened.")})),f(c,Fn.EventType.CLOSE,(()=>{u||(u=!0,Un("Connection","WebChannel transport closed"),d.Cr())})),f(c,Fn.EventType.ERROR,(t=>{u||(u=!0,jn("Connection","WebChannel transport errored:",t),d.Cr(new Zn(Jn.UNAVAILABLE,"The operation could not be completed")))})),f(c,Fn.EventType.MESSAGE,(t=>{var e;if(!u){const i=t.data[0];$n(!!i);const n=i,r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Un("Connection","WebChannel received error:",r);const t=r.status;let e=function(t){const e=va[t];if(void 0!==e)return ba(e)}(t),i=r.message;void 0===e&&(e=Jn.INTERNAL,i="Unknown error status: "+t+" with message "+r.message),u=!0,d.Cr(new Zn(e,i)),c.close()}else Un("Connection","WebChannel received:",i),d.Nr(i)}})),f(s,Nn.STAT_EVENT,(t=>{t.stat===Mn.PROXY?Un("Connection","Detected buffering proxy"):t.stat===Mn.NOPROXY&&Un("Connection","Detected no buffering proxy")})),setTimeout((()=>{d.Dr()}),0),d}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xl(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(t){return new ja(t,!0)}class Yl{constructor(t,e,i=1e3,n=1.5,r=6e4){this.Sn=t,this.timerId=e,this.qr=i,this.Kr=n,this.Gr=r,this.jr=0,this.Qr=null,this.Wr=Date.now(),this.reset()}reset(){this.jr=0}zr(){this.jr=this.Gr}Hr(t){this.cancel();const e=Math.floor(this.jr+this.Jr()),i=Math.max(0,Date.now()-this.Wr),n=Math.max(0,e-i);n>0&&Un("ExponentialBackoff",`Backing off for ${n} ms (base delay: ${this.jr} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Qr=this.Sn.enqueueAfterDelay(this.timerId,n,(()=>(this.Wr=Date.now(),t()))),this.jr*=this.Kr,this.jr<this.qr&&(this.jr=this.qr),this.jr>this.Gr&&(this.jr=this.Gr)}Yr(){null!==this.Qr&&(this.Qr.skipDelay(),this.Qr=null)}cancel(){null!==this.Qr&&(this.Qr.cancel(),this.Qr=null)}Jr(){return(Math.random()-.5)*this.jr}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(t,e,i,n,r,s,a,o){this.Sn=t,this.Xr=i,this.Zr=n,this.eo=r,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.no=0,this.so=null,this.io=null,this.stream=null,this.ro=new Yl(t,e)}oo(){return 1===this.state||5===this.state||this.co()}co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.uo()}async stop(){this.oo()&&await this.close(0)}ao(){this.state=0,this.ro.reset()}ho(){this.co()&&null===this.so&&(this.so=this.Sn.enqueueAfterDelay(this.Xr,6e4,(()=>this.lo())))}fo(t){this._o(),this.stream.send(t)}async lo(){if(this.co())return this.close(0)}_o(){this.so&&(this.so.cancel(),this.so=null)}wo(){this.io&&(this.io.cancel(),this.io=null)}async close(t,e){this._o(),this.wo(),this.ro.cancel(),this.no++,4!==t?this.ro.reset():e&&e.code===Jn.RESOURCE_EXHAUSTED?(Wn(e.toString()),Wn("Using maximum backoff delay to prevent overloading the backend."),this.ro.zr()):e&&e.code===Jn.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.mo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.vr(e)}mo(){}auth(){this.state=1;const t=this.yo(this.no),e=this.no;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([t,i])=>{this.no===e&&this.po(t,i)}),(e=>{t((()=>{const t=new Zn(Jn.UNKNOWN,"Fetching auth token failed: "+e.message);return this.Io(t)}))}))}po(t,e){const i=this.yo(this.no);this.stream=this.Eo(t,e),this.stream.Pr((()=>{i((()=>(this.state=2,this.io=this.Sn.enqueueAfterDelay(this.Zr,1e4,(()=>(this.co()&&(this.state=3),Promise.resolve()))),this.listener.Pr())))})),this.stream.vr((t=>{i((()=>this.Io(t)))})),this.stream.onMessage((t=>{i((()=>this.onMessage(t)))}))}uo(){this.state=5,this.ro.Hr((async()=>{this.state=0,this.start()}))}Io(t){return Un("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}yo(t){return e=>{this.Sn.enqueueAndForget((()=>this.no===t?e():(Un("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Wl extends Ul{constructor(t,e,i,n,r,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,n,s),this.O=r}Eo(t,e){return this.eo.Ur("Listen",t,e)}onMessage(t){this.ro.reset();const e=ao(this.O,t),i=function(t){if(!("targetChange"in t))return fr.min();const e=t.targetChange;return e.targetIds&&e.targetIds.length?fr.min():e.readTime?Ka(e.readTime):fr.min()}(t);return this.listener.To(e,i)}Ao(t){const e={};e.database=no(this.O),e.addTarget=function(t,e){let i;const n=e.target;return i=as(n)?{documents:co(t,n)}:{query:ho(t,n)},i.targetId=e.targetId,e.resumeToken.approximateByteSize()>0?i.resumeToken=qa(t,e.resumeToken):e.snapshotVersion.compareTo(fr.min())>0&&(i.readTime=Ga(t,e.snapshotVersion.toTimestamp())),i}(this.O,t);const i=fo(this.O,t);i&&(e.labels=i),this.fo(e)}Ro(t){const e={};e.database=no(this.O),e.removeTarget=t,this.fo(e)}}class jl extends Ul{constructor(t,e,i,n,r,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,n,s),this.O=r,this.Po=!1}get bo(){return this.Po}start(){this.Po=!1,this.lastStreamToken=void 0,super.start()}mo(){this.Po&&this.vo([])}Eo(t,e){return this.eo.Ur("Write",t,e)}onMessage(t){if($n(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Po){this.ro.reset();const e=lo(t.writeResults,t.commitTime),i=Ka(t.commitTime);return this.listener.Vo(i,e)}return $n(!t.writeResults||0===t.writeResults.length),this.Po=!0,this.listener.So()}Do(){const t={};t.database=no(this.O),this.fo(t)}vo(t){const e={streamToken:this.lastStreamToken,writes:t.map((t=>oo(this.O,t)))};this.fo(e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl extends class{}{constructor(t,e,i,n){super(),this.authCredentials=t,this.appCheckCredentials=e,this.eo=i,this.O=n,this.Co=!1}No(){if(this.Co)throw new Zn(Jn.FAILED_PRECONDITION,"The client has already been terminated.")}Mr(t,e,i){return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([n,r])=>this.eo.Mr(t,e,i,n,r))).catch((t=>{throw"FirebaseError"===t.name?(t.code===Jn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new Zn(Jn.UNKNOWN,t.toString())}))}Lr(t,e,i){return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([n,r])=>this.eo.Lr(t,e,i,n,r))).catch((t=>{throw"FirebaseError"===t.name?(t.code===Jn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new Zn(Jn.UNKNOWN,t.toString())}))}terminate(){this.Co=!0}}class ql{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.xo=0,this.ko=null,this.Oo=!0}Mo(){0===this.xo&&(this.$o("Unknown"),this.ko=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.ko=null,this.Fo("Backend didn't respond within 10 seconds."),this.$o("Offline"),Promise.resolve()))))}Bo(t){"Online"===this.state?this.$o("Unknown"):(this.xo++,this.xo>=1&&(this.Lo(),this.Fo(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.$o("Offline")))}set(t){this.Lo(),this.xo=0,"Online"===t&&(this.Oo=!1),this.$o(t)}$o(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}Fo(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Oo?(Wn(e),this.Oo=!1):Un("OnlineStateTracker",e)}Lo(){null!==this.ko&&(this.ko.cancel(),this.ko=null)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(t,e,i,n,r){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Uo=[],this.qo=new Map,this.Ko=new Set,this.Go=[],this.jo=r,this.jo.mr((t=>{i.enqueueAndForget((async()=>{rc(this)&&(Un("RemoteStore","Restarting streams for network reachability change."),await async function(t){const e=Kn(t);e.Ko.add(4),await Jl(e),e.Qo.set("Unknown"),e.Ko.delete(4),await Kl(e)}(this))}))})),this.Qo=new ql(i,n)}}async function Kl(t){if(rc(t))for(const e of t.Go)await e(!0)}async function Jl(t){for(const e of t.Go)await e(!1)}function Zl(t,e){const i=Kn(t);i.qo.has(e.targetId)||(i.qo.set(e.targetId,e),nc(i)?ic(i):kc(i).co()&&tc(i,e))}function Ql(t,e){const i=Kn(t),n=kc(i);i.qo.delete(e),n.co()&&ec(i,e),0===i.qo.size&&(n.co()?n.ho():rc(i)&&i.Qo.set("Unknown"))}function tc(t,e){t.Wo.Z(e.targetId),kc(t).Ao(e)}function ec(t,e){t.Wo.Z(e),kc(t).Ro(e)}function ic(t){t.Wo=new Xa({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Tt:e=>t.qo.get(e)||null}),kc(t).start(),t.Qo.Mo()}function nc(t){return rc(t)&&!kc(t).oo()&&t.qo.size>0}function rc(t){return 0===Kn(t).Ko.size}function sc(t){t.Wo=void 0}async function ac(t){t.qo.forEach(((e,i)=>{tc(t,e)}))}async function oc(t,e){sc(t),nc(t)?(t.Qo.Bo(e),ic(t)):t.Qo.set("Unknown")}async function lc(t,e,i){if(t.Qo.set("Online"),e instanceof Va&&2===e.state&&e.cause)try{await async function(t,e){const i=e.cause;for(const n of e.targetIds)t.qo.has(n)&&(await t.remoteSyncer.rejectListen(n,i),t.qo.delete(n),t.Wo.removeTarget(n))}(t,e)}catch(i){Un("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await cc(t,i)}else if(e instanceof Fa?t.Wo.ct(e):e instanceof za?t.Wo._t(e):t.Wo.ht(e),!i.isEqual(fr.min()))try{const e=await ml(t.localStore);i.compareTo(e)>=0&&await function(t,e){const i=t.Wo.yt(e);return i.targetChanges.forEach(((i,n)=>{if(i.resumeToken.approximateByteSize()>0){const r=t.qo.get(n);r&&t.qo.set(n,r.withResumeToken(i.resumeToken,e))}})),i.targetMismatches.forEach((e=>{const i=t.qo.get(e);if(!i)return;t.qo.set(e,i.withResumeToken(kr.EMPTY_BYTE_STRING,i.snapshotVersion)),ec(t,e);const n=new Zo(i.target,e,1,i.sequenceNumber);tc(t,n)})),t.remoteSyncer.applyRemoteEvent(i)}(t,i)}catch(e){Un("RemoteStore","Failed to raise snapshot:",e),await cc(t,e)}}async function cc(t,e,i){if(!qo(e))throw e;t.Ko.add(1),await Jl(t),t.Qo.set("Offline"),i||(i=()=>ml(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Un("RemoteStore","Retrying IndexedDB access"),await i(),t.Ko.delete(1),await Kl(t)}))}function hc(t,e){return e().catch((i=>cc(t,i,e)))}async function uc(t){const e=Kn(t),i=Ac(e);let n=e.Uo.length>0?e.Uo[e.Uo.length-1].batchId:-1;for(;dc(e);)try{const t=await xl(e.localStore,n);if(null===t){0===e.Uo.length&&i.ho();break}n=t.batchId,fc(e,t)}catch(t){await cc(e,t)}pc(e)&&gc(e)}function dc(t){return rc(t)&&t.Uo.length<10}function fc(t,e){t.Uo.push(e);const i=Ac(t);i.co()&&i.bo&&i.vo(e.mutations)}function pc(t){return rc(t)&&!Ac(t).oo()&&t.Uo.length>0}function gc(t){Ac(t).start()}async function mc(t){Ac(t).Do()}async function vc(t){const e=Ac(t);for(const i of t.Uo)e.vo(i.mutations)}async function yc(t,e,i){const n=t.Uo.shift(),r=Ko.from(n,e,i);await hc(t,(()=>t.remoteSyncer.applySuccessfulWrite(r))),await uc(t)}async function xc(t,e){e&&Ac(t).bo&&await async function(t,e){if(i=e.code,xa(i)&&i!==Jn.ABORTED){const i=t.Uo.shift();Ac(t).ao(),await hc(t,(()=>t.remoteSyncer.rejectFailedWrite(i.batchId,e))),await uc(t)}var i}(t,e),pc(t)&&gc(t)}async function bc(t,e){const i=Kn(t);i.asyncQueue.verifyOperationInProgress(),Un("RemoteStore","RemoteStore received new credentials");const n=rc(i);i.Ko.add(3),await Jl(i),n&&i.Qo.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ko.delete(3),await Kl(i)}async function wc(t,e){const i=Kn(t);e?(i.Ko.delete(2),await Kl(i)):e||(i.Ko.add(2),await Jl(i),i.Qo.set("Unknown"))}function kc(t){return t.zo||(t.zo=function(t,e,i){const n=Kn(t);return n.No(),new Wl(e,n.eo,n.authCredentials,n.appCheckCredentials,n.O,i)
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}(t.datastore,t.asyncQueue,{Pr:ac.bind(null,t),vr:oc.bind(null,t),To:lc.bind(null,t)}),t.Go.push((async e=>{e?(t.zo.ao(),nc(t)?ic(t):t.Qo.set("Unknown")):(await t.zo.stop(),sc(t))}))),t.zo}function Ac(t){return t.Ho||(t.Ho=function(t,e,i){const n=Kn(t);return n.No(),new jl(e,n.eo,n.authCredentials,n.appCheckCredentials,n.O,i)}(t.datastore,t.asyncQueue,{Pr:mc.bind(null,t),vr:xc.bind(null,t),So:vc.bind(null,t),Vo:yc.bind(null,t)}),t.Go.push((async e=>{e?(t.Ho.ao(),await uc(t)):(await t.Ho.stop(),t.Uo.length>0&&(Un("RemoteStore",`Stopping write stream with ${t.Uo.length} pending writes`),t.Uo=[]))}))),t.Ho
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class Sc{constructor(t,e,i,n,r){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=n,this.removalCallback=r,this.deferred=new Qn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((t=>{}))}static createAndSchedule(t,e,i,n,r){const s=Date.now()+i,a=new Sc(t,e,s,n,r);return a.start(i),a}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Zn(Jn.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cc(t,e){if(Wn("AsyncQueue",`${e}: ${t}`),qo(t))return new Zn(Jn.UNAVAILABLE,`${e}: ${t}`);throw t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(t){this.comparator=t?(e,i)=>t(e,i)||Mr.comparator(e.key,i.key):(t,e)=>Mr.comparator(t.key,e.key),this.keyedMap=_a(),this.sortedSet=new wa(this.comparator)}static emptySet(t){return new Ec(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,i)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Ec))return!1;if(this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const t=e.getNext().key,n=i.getNext().key;if(!t.isEqual(n))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new Ec;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(){this.Jo=new wa(Mr.comparator)}track(t){const e=t.doc.key,i=this.Jo.get(e);i?0!==t.type&&3===i.type?this.Jo=this.Jo.insert(e,t):3===t.type&&1!==i.type?this.Jo=this.Jo.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Jo=this.Jo.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Jo=this.Jo.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Jo=this.Jo.remove(e):1===t.type&&2===i.type?this.Jo=this.Jo.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Jo=this.Jo.insert(e,{type:2,doc:t.doc}):qn():this.Jo=this.Jo.insert(e,t)}Yo(){const t=[];return this.Jo.inorderTraversal(((e,i)=>{t.push(i)})),t}}class Tc{constructor(t,e,i,n,r,s,a,o){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=n,this.mutatedKeys=r,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o}static fromInitialDocuments(t,e,i,n){const r=[];return e.forEach((t=>{r.push({type:0,doc:t})})),new Tc(t,e,Ec.emptySet(e),r,i,n,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Rs(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let n=0;n<e.length;n++)if(e[n].type!==i[n].type||!e[n].doc.isEqual(i[n].doc))return!1;return!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(){this.Xo=void 0,this.listeners=[]}}class Pc{constructor(){this.queries=new ol((t=>Os(t)),Rs),this.onlineState="Unknown",this.Zo=new Set}}async function Lc(t,e){const i=Kn(t),n=e.query;let r=!1,s=i.queries.get(n);if(s||(r=!0,s=new _c),r)try{s.Xo=await i.onListen(n)}catch(t){const i=Cc(t,`Initialization of query '${Ns(e.query)}' failed`);return void e.onError(i)}i.queries.set(n,s),s.listeners.push(e),e.tc(i.onlineState),s.Xo&&e.ec(s.Xo)&&Mc(i)}async function Rc(t,e){const i=Kn(t),n=e.query;let r=!1;const s=i.queries.get(n);if(s){const t=s.listeners.indexOf(e);t>=0&&(s.listeners.splice(t,1),r=0===s.listeners.length)}if(r)return i.queries.delete(n),i.onUnlisten(n)}function Oc(t,e){const i=Kn(t);let n=!1;for(const r of e){const t=r.query,e=i.queries.get(t);if(e){for(const t of e.listeners)t.ec(r)&&(n=!0);e.Xo=r}}n&&Mc(i)}function Nc(t,e,i){const n=Kn(t),r=n.queries.get(e);if(r)for(const s of r.listeners)s.onError(i);n.queries.delete(e)}function Mc(t){t.Zo.forEach((t=>{t.next()}))}class Dc{constructor(t,e,i){this.query=t,this.nc=e,this.sc=!1,this.ic=null,this.onlineState="Unknown",this.options=i||{}}ec(t){if(!this.options.includeMetadataChanges){const e=[];for(const i of t.docChanges)3!==i.type&&e.push(i);t=new Tc(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.sc?this.rc(t)&&(this.nc.next(t),e=!0):this.oc(t,this.onlineState)&&(this.cc(t),e=!0),this.ic=t,e}onError(t){this.nc.error(t)}tc(t){this.onlineState=t;let e=!1;return this.ic&&!this.sc&&this.oc(this.ic,t)&&(this.cc(this.ic),e=!0),e}oc(t,e){if(!t.fromCache)return!0;const i="Offline"!==e;return(!this.options.uc||!i)&&(!t.docs.isEmpty()||"Offline"===e)}rc(t){if(t.docChanges.length>0)return!0;const e=this.ic&&this.ic.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges}cc(t){t=Tc.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.sc=!0,this.nc.next(t)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Fc{constructor(t){this.key=t}}class zc{constructor(t){this.key=t}}class Vc{constructor(t,e){this.query=t,this.dc=e,this._c=null,this.current=!1,this.wc=Ra(),this.mutatedKeys=Ra(),this.mc=Ds(t),this.gc=new Ec(this.mc)}get yc(){return this.dc}Ic(t,e){const i=e?e.Ec:new Ic,n=e?e.gc:this.gc;let r=e?e.mutatedKeys:this.mutatedKeys,s=n,a=!1;const o=Ss(this.query)&&n.size===this.query.limit?n.last():null,l=Cs(this.query)&&n.size===this.query.limit?n.first():null;if(t.inorderTraversal(((t,e)=>{const c=n.get(t),h=Ms(this.query,e)?e:null,u=!!c&&this.mutatedKeys.has(c.key),d=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let f=!1;c&&h?c.data.isEqual(h.data)?u!==d&&(i.track({type:3,doc:h}),f=!0):this.Tc(c,h)||(i.track({type:2,doc:h}),f=!0,(o&&this.mc(h,o)>0||l&&this.mc(h,l)<0)&&(a=!0)):!c&&h?(i.track({type:0,doc:h}),f=!0):c&&!h&&(i.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(h?(s=s.add(h),r=d?r.add(t):r.delete(t)):(s=s.delete(t),r=r.delete(t)))})),Ss(this.query)||Cs(this.query))for(;s.size>this.query.limit;){const t=Ss(this.query)?s.last():s.first();s=s.delete(t.key),r=r.delete(t.key),i.track({type:1,doc:t})}return{gc:s,Ec:i,ks:a,mutatedKeys:r}}Tc(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const n=this.gc;this.gc=t.gc,this.mutatedKeys=t.mutatedKeys;const r=t.Ec.Yo();r.sort(((t,e)=>function(t,e){const i=t=>{switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qn()}};return i(t)-i(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t.type,e.type)||this.mc(t.doc,e.doc))),this.Ac(i);const s=e?this.Rc():[],a=0===this.wc.size&&this.current?1:0,o=a!==this._c;return this._c=a,0!==r.length||o?{snapshot:new Tc(this.query,t.gc,n,r,t.mutatedKeys,0===a,o,!1),Pc:s}:{Pc:s}}tc(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({gc:this.gc,Ec:new Ic,mutatedKeys:this.mutatedKeys,ks:!1},!1)):{Pc:[]}}bc(t){return!this.dc.has(t)&&!!this.gc.has(t)&&!this.gc.get(t).hasLocalMutations}Ac(t){t&&(t.addedDocuments.forEach((t=>this.dc=this.dc.add(t))),t.modifiedDocuments.forEach((t=>{})),t.removedDocuments.forEach((t=>this.dc=this.dc.delete(t))),this.current=t.current)}Rc(){if(!this.current)return[];const t=this.wc;this.wc=Ra(),this.gc.forEach((t=>{this.bc(t.key)&&(this.wc=this.wc.add(t.key))}));const e=[];return t.forEach((t=>{this.wc.has(t)||e.push(new zc(t))})),this.wc.forEach((i=>{t.has(i)||e.push(new Fc(i))})),e}vc(t){this.dc=t.Ks,this.wc=Ra();const e=this.Ic(t.documents);return this.applyChanges(e,!0)}Vc(){return Tc.fromInitialDocuments(this.query,this.gc,this.mutatedKeys,0===this._c)}}class Hc{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class Xc{constructor(t){this.key=t,this.Sc=!1}}class Bc{constructor(t,e,i,n,r,s){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=n,this.currentUser=r,this.maxConcurrentLimboResolutions=s,this.Dc={},this.Cc=new ol((t=>Os(t)),Rs),this.Nc=new Map,this.xc=new Set,this.kc=new wa(Mr.comparator),this.Oc=new Map,this.Mc=new Cl,this.$c={},this.Fc=new Map,this.Bc=sl.Je(),this.onlineState="Unknown",this.Lc=void 0}get isPrimaryClient(){return!0===this.Lc}}async function Yc(t,e){const i=lh(t);let n,r;const s=i.Cc.get(e);if(s)n=s.targetId,i.sharedClientState.addLocalQueryTarget(n),r=s.view.Vc();else{const t=await bl(i.localStore,Ps(e));i.isPrimaryClient&&Zl(i.remoteStore,t);const s=i.sharedClientState.addLocalQueryTarget(t.targetId);n=t.targetId,r=await Uc(i,e,n,"current"===s)}return r}async function Uc(t,e,i,n){t.Uc=(e,i,n)=>async function(t,e,i,n){let r=e.view.Ic(i);r.ks&&(r=await kl(t.localStore,e.query,!1).then((({documents:t})=>e.view.Ic(t,r))));const s=n&&n.targetChanges.get(e.targetId),a=e.view.applyChanges(r,t.isPrimaryClient,s);return ih(t,e.targetId,a.Pc),a.snapshot}(t,e,i,n);const r=await kl(t.localStore,e,!0),s=new Vc(e,r.Ks),a=s.Ic(r.documents),o=Da.createSynthesizedTargetChangeForCurrentChange(i,n&&"Offline"!==t.onlineState),l=s.applyChanges(a,t.isPrimaryClient,o);ih(t,i,l.Pc);const c=new Hc(e,i,s);return t.Cc.set(e,c),t.Nc.has(i)?t.Nc.get(i).push(e):t.Nc.set(i,[e]),l.snapshot}async function Wc(t,e){const i=Kn(t),n=i.Cc.get(e),r=i.Nc.get(n.targetId);if(r.length>1)return i.Nc.set(n.targetId,r.filter((t=>!Rs(t,e)))),void i.Cc.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(n.targetId),i.sharedClientState.isActiveQueryTarget(n.targetId)||await wl(i.localStore,n.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(n.targetId),Ql(i.remoteStore,n.targetId),th(i,n.targetId)})).catch(al)):(th(i,n.targetId),await wl(i.localStore,n.targetId,!0))}async function jc(t,e,i){const n=ch(t);try{const t=await function(t,e){const i=Kn(t),n=dr.now(),r=e.reduce(((t,e)=>t.add(e.key)),Ra());let s;return i.persistence.runTransaction("Locally write mutations","readwrite",(t=>i.Us.Es(t,r).next((r=>{s=r;const a=[];for(const t of e){const e=aa(t,s.get(t.key));null!=e&&a.push(new ha(t.key,e,Zr(e.value.mapValue),ea.exists(!0)))}return i.gs.addMutationBatch(t,n,a,e)})))).then((t=>(t.applyToLocalDocumentSet(s),{batchId:t.batchId,changes:s})))}(n.localStore,e);n.sharedClientState.addPendingMutation(t.batchId),function(t,e,i){let n=t.$c[t.currentUser.toKey()];n||(n=new wa(hr)),n=n.insert(e,i),t.$c[t.currentUser.toKey()]=n}(n,t.batchId,i),await sh(n,t.changes),await uc(n.remoteStore)}catch(t){const e=Cc(t,"Failed to persist write");i.reject(e)}}async function Gc(t,e){const i=Kn(t);try{const t=await vl(i.localStore,e);e.targetChanges.forEach(((t,e)=>{const n=i.Oc.get(e);n&&($n(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?n.Sc=!0:t.modifiedDocuments.size>0?$n(n.Sc):t.removedDocuments.size>0&&($n(n.Sc),n.Sc=!1))})),await sh(i,t,e)}catch(t){await al(t)}}function qc(t,e,i){const n=Kn(t);if(n.isPrimaryClient&&0===i||!n.isPrimaryClient&&1===i){const t=[];n.Cc.forEach(((i,n)=>{const r=n.view.tc(e);r.snapshot&&t.push(r.snapshot)})),function(t,e){const i=Kn(t);i.onlineState=e;let n=!1;i.queries.forEach(((t,i)=>{for(const r of i.listeners)r.tc(e)&&(n=!0)})),n&&Mc(i)}(n.eventManager,e),t.length&&n.Dc.To(t),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function $c(t,e,i){const n=Kn(t);n.sharedClientState.updateQueryState(e,"rejected",i);const r=n.Oc.get(e),s=r&&r.key;if(s){let t=new wa(Mr.comparator);t=t.insert(s,Qr.newNoDocument(s,fr.min()));const i=Ra().add(s),r=new Ma(fr.min(),new Map,new Sa(hr),t,i);await Gc(n,r),n.kc=n.kc.remove(s),n.Oc.delete(e),rh(n)}else await wl(n.localStore,e,!1).then((()=>th(n,e,i))).catch(al)}async function Kc(t,e){const i=Kn(t),n=e.batch.batchId;try{const t=await gl(i.localStore,e);Qc(i,n,null),Zc(i,n),i.sharedClientState.updateMutationState(n,"acknowledged"),await sh(i,t)}catch(t){await al(t)}}async function Jc(t,e,i){const n=Kn(t);try{const t=await function(t,e){const i=Kn(t);return i.persistence.runTransaction("Reject batch","readwrite-primary",(t=>{let n;return i.gs.lookupMutationBatch(t,e).next((e=>($n(null!==e),n=e.keys(),i.gs.removeMutationBatch(t,e)))).next((()=>i.gs.performConsistencyCheck(t))).next((()=>i.Us.Es(t,n)))}))}(n.localStore,e);Qc(n,e,i),Zc(n,e),n.sharedClientState.updateMutationState(e,"rejected",i),await sh(n,t)}catch(i){await al(i)}}function Zc(t,e){(t.Fc.get(e)||[]).forEach((t=>{t.resolve()})),t.Fc.delete(e)}function Qc(t,e,i){const n=Kn(t);let r=n.$c[n.currentUser.toKey()];if(r){const t=r.get(e);t&&(i?t.reject(i):t.resolve(),r=r.remove(e)),n.$c[n.currentUser.toKey()]=r}}function th(t,e,i=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Nc.get(e))t.Cc.delete(n),i&&t.Dc.qc(n,i);t.Nc.delete(e),t.isPrimaryClient&&t.Mc.si(e).forEach((e=>{t.Mc.containsKey(e)||eh(t,e)}))}function eh(t,e){t.xc.delete(e.path.canonicalString());const i=t.kc.get(e);null!==i&&(Ql(t.remoteStore,i),t.kc=t.kc.remove(e),t.Oc.delete(i),rh(t))}function ih(t,e,i){for(const n of i)n instanceof Fc?(t.Mc.addReference(n.key,e),nh(t,n)):n instanceof zc?(Un("SyncEngine","Document no longer in limbo: "+n.key),t.Mc.removeReference(n.key,e),t.Mc.containsKey(n.key)||eh(t,n.key)):qn()}function nh(t,e){const i=e.key,n=i.path.canonicalString();t.kc.get(i)||t.xc.has(n)||(Un("SyncEngine","New document in limbo: "+i),t.xc.add(n),rh(t))}function rh(t){for(;t.xc.size>0&&t.kc.size<t.maxConcurrentLimboResolutions;){const e=t.xc.values().next().value;t.xc.delete(e);const i=new Mr(yr.fromString(e)),n=t.Bc.next();t.Oc.set(n,new Xc(i)),t.kc=t.kc.insert(i,n),Zl(t.remoteStore,new Zo(Ps(As(i.path)),n,2,or.A))}}async function sh(t,e,i){const n=Kn(t),r=[],s=[],a=[];n.Cc.isEmpty()||(n.Cc.forEach(((t,o)=>{a.push(n.Uc(o,e,i).then((t=>{if(t){n.isPrimaryClient&&n.sharedClientState.updateQueryState(o.targetId,t.fromCache?"not-current":"current"),r.push(t);const e=hl.Ss(o.targetId,t);s.push(e)}})))})),await Promise.all(a),n.Dc.To(r),await async function(t,e){const i=Kn(t);try{await i.persistence.runTransaction("notifyLocalViewChanges","readwrite",(t=>Go.forEach(e,(e=>Go.forEach(e.vs,(n=>i.persistence.referenceDelegate.addReference(t,e.targetId,n))).next((()=>Go.forEach(e.Vs,(n=>i.persistence.referenceDelegate.removeReference(t,e.targetId,n)))))))))}catch(t){if(!qo(t))throw t;Un("LocalStore","Failed to update sequence numbers: "+t)}for(const n of e){const t=n.targetId;if(!n.fromCache){const e=i.Ms.get(t),n=e.snapshotVersion,r=e.withLastLimboFreeSnapshotVersion(n);i.Ms=i.Ms.insert(t,r)}}}(n.localStore,s))}async function ah(t,e){const i=Kn(t);if(!i.currentUser.isEqual(e)){Un("SyncEngine","User change. New user:",e.toKey());const t=await pl(i.localStore,e);i.currentUser=e,function(t,e){t.Fc.forEach((t=>{t.forEach((t=>{t.reject(new Zn(Jn.CANCELLED,e))}))})),t.Fc.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,t.removedBatchIds,t.addedBatchIds),await sh(i,t.qs)}}function oh(t,e){const i=Kn(t),n=i.Oc.get(e);if(n&&n.Sc)return Ra().add(n.key);{let t=Ra();const n=i.Nc.get(e);if(!n)return t;for(const e of n){const n=i.Cc.get(e);t=t.unionWith(n.view.yc)}return t}}function lh(t){const e=Kn(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Gc.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oh.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$c.bind(null,e),e.Dc.To=Oc.bind(null,e.eventManager),e.Dc.qc=Nc.bind(null,e.eventManager),e}function ch(t){const e=Kn(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Kc.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Jc.bind(null,e),e}class hh{constructor(){this.synchronizeTabs=!1}async initialize(t){this.O=Bl(t.databaseInfo.databaseId),this.sharedClientState=this.Gc(t),this.persistence=this.jc(t),await this.persistence.start(),this.gcScheduler=this.Qc(t),this.localStore=this.Wc(t)}Qc(t){return null}Wc(t){return fl(this.persistence,new ul,t.initialUser,this.O)}jc(t){return new Ll(Ol.bi,this.O)}Gc(t){return new Ml}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class uh{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=t=>qc(this.syncEngine,t,1),this.remoteStore.remoteSyncer.handleCredentialChange=ah.bind(null,this.syncEngine),await wc(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new Pc}createDatastore(t){const e=Bl(t.databaseInfo.databaseId),i=(n=t.databaseInfo,new Hl(n));var n;return function(t,e,i,n){return new Gl(t,e,i,n)}(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,n=t.asyncQueue,r=t=>qc(this.syncEngine,t,0),s=Fl.Vt()?new Fl:new Dl,new $l(e,i,n,r,s);var e,i,n,r,s}createSyncEngine(t,e){return function(t,e,i,n,r,s,a){const o=new Bc(t,e,i,n,r,s);return a&&(o.Lc=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return async function(t){const e=Kn(t);Un("RemoteStore","RemoteStore shutting down."),e.Ko.add(5),await Jl(e),e.jo.shutdown(),e.Qo.set("Unknown")}(this.remoteStore)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class dh{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Hc(this.observer.next,t)}error(t){this.observer.error?this.Hc(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}Jc(){this.muted=!0}Hc(t,e){this.muted||setTimeout((()=>{this.muted||t(e)}),0)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class fh{constructor(t,e,i,n){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=n,this.user=Hn.UNAUTHENTICATED,this.clientId=cr.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,(async t=>{Un("FirestoreClient","Received user=",t.uid),await this.authCredentialListener(t),this.user=t})),this.appCheckCredentials.start(i,(t=>(Un("FirestoreClient","Received new app check token=",t),this.appCheckCredentialListener(t,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Zn(Jn.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Qn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=Cc(e,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function ph(t,e){t.asyncQueue.verifyOperationInProgress(),Un("FirestoreClient","Initializing OfflineComponentProvider");const i=await t.getConfiguration();await e.initialize(i);let n=i.initialUser;t.setCredentialChangeListener((async t=>{n.isEqual(t)||(await pl(e.localStore,t),n=t)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t.offlineComponents=e}async function gh(t,e){t.asyncQueue.verifyOperationInProgress();const i=await mh(t);Un("FirestoreClient","Initializing OnlineComponentProvider");const n=await t.getConfiguration();await e.initialize(i,n),t.setCredentialChangeListener((t=>bc(e.remoteStore,t))),t.setAppCheckTokenChangeListener(((t,i)=>bc(e.remoteStore,i))),t.onlineComponents=e}async function mh(t){return t.offlineComponents||(Un("FirestoreClient","Using default OfflineComponentProvider"),await ph(t,new hh)),t.offlineComponents}async function vh(t){return t.onlineComponents||(Un("FirestoreClient","Using default OnlineComponentProvider"),await gh(t,new uh)),t.onlineComponents}function yh(t){return vh(t).then((t=>t.syncEngine))}async function xh(t){const e=await vh(t),i=e.eventManager;return i.onListen=Yc.bind(null,e.syncEngine),i.onUnlisten=Wc.bind(null,e.syncEngine),i}function bh(t,e,i={}){const n=new Qn;return t.asyncQueue.enqueueAndForget((async()=>function(t,e,i,n,r){const s=new dh({next:s=>{e.enqueueAndForget((()=>Rc(t,a)));const o=s.docs.has(i);!o&&s.fromCache?r.reject(new Zn(Jn.UNAVAILABLE,"Failed to get document because the client is offline.")):o&&s.fromCache&&n&&"server"===n.source?r.reject(new Zn(Jn.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):r.resolve(s)},error:t=>r.reject(t)}),a=new Dc(As(i.path),s,{includeMetadataChanges:!0,uc:!0});return Lc(t,a)}(await xh(t),t.asyncQueue,e,i,n))),n.promise}function wh(t,e,i={}){const n=new Qn;return t.asyncQueue.enqueueAndForget((async()=>function(t,e,i,n,r){const s=new dh({next:i=>{e.enqueueAndForget((()=>Rc(t,a))),i.fromCache&&"server"===n.source?r.reject(new Zn(Jn.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):r.resolve(i)},error:t=>r.reject(t)}),a=new Dc(i,s,{includeMetadataChanges:!0,uc:!0});return Lc(t,a)}(await xh(t),t.asyncQueue,e,i,n))),n.promise}const kh=new Map;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(t,e,i){if(!i)throw new Zn(Jn.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Sh(t,e,i,n){if(!0===e&&!0===n)throw new Zn(Jn.INVALID_ARGUMENT,`${t} and ${i} cannot be used together.`)}function Ch(t){if(!Mr.isDocumentKey(t))throw new Zn(Jn.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Eh(t){if(Mr.isDocumentKey(t))throw new Zn(Jn.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ih(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=function(t){return t.constructor?t.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return"function"==typeof t?"a function":qn()}function Th(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Zn(Jn.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Ih(t);throw new Zn(Jn.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return t}function _h(t,e){if(e<=0)throw new Zn(Jn.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Zn(Jn.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Zn(Jn.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Sh("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(t,e,i){this._authCredentials=e,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ph({}),this._settingsFrozen=!1,t instanceof Lr?this._databaseId=t:(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Zn(Jn.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lr(t.options.projectId)}(t))}get app(){if(!this._app)throw new Zn(Jn.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Zn(Jn.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ph(t),void 0!==t.credentials&&(this._authCredentials=function(t){if(!t)return new er;switch(t.type){case"gapi":const e=t.client;return $n(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new rr(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Zn(Jn.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=kh.get(t);e&&(Un("ComponentProvider","Removing Datastore"),kh.delete(t),e.terminate())}(this),Promise.resolve()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Rh{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nh(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Rh(this.firestore,t,this._key)}}class Oh{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Oh(this.firestore,t,this._query)}}class Nh extends Oh{constructor(t,e,i){super(t,e,As(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Rh(this.firestore,null,new Mr(t))}withConverter(t){return new Nh(this.firestore,t,this._path)}}function Mh(t,e,...i){if(t=(0,o.m9)(t),Ah("collection","path",e),t instanceof Lh){const n=yr.fromString(e,...i);return Eh(n),new Nh(t,null,n)}{if(!(t instanceof Rh||t instanceof Nh))throw new Zn(Jn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(yr.fromString(e,...i));return Eh(n),new Nh(t.firestore,null,n)}}function Dh(t,e,...i){if(t=(0,o.m9)(t),1===arguments.length&&(e=cr.R()),Ah("doc","path",e),t instanceof Lh){const n=yr.fromString(e,...i);return Ch(n),new Rh(t,null,new Mr(n))}{if(!(t instanceof Rh||t instanceof Nh))throw new Zn(Jn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(yr.fromString(e,...i));return Ch(n),new Rh(t.firestore,t instanceof Nh?t.converter:null,new Mr(n))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Fh{constructor(){this.hu=Promise.resolve(),this.lu=[],this.fu=!1,this.du=[],this._u=null,this.wu=!1,this.mu=!1,this.gu=[],this.ro=new Yl(this,"async_queue_retry"),this.yu=()=>{const t=Xl();t&&Un("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ro.Yr()};const t=Xl();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.yu)}get isShuttingDown(){return this.fu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.pu(),this.Iu(t)}enterRestrictedMode(t){if(!this.fu){this.fu=!0,this.mu=t||!1;const e=Xl();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.yu)}}enqueue(t){if(this.pu(),this.fu)return new Promise((()=>{}));const e=new Qn;return this.Iu((()=>this.fu&&this.mu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.lu.push(t),this.Eu())))}async Eu(){if(0!==this.lu.length){try{await this.lu[0](),this.lu.shift(),this.ro.reset()}catch(k){if(!qo(k))throw k;Un("AsyncQueue","Operation failed with retryable error: "+k)}this.lu.length>0&&this.ro.Hr((()=>this.Eu()))}}Iu(t){const e=this.hu.then((()=>(this.wu=!0,t().catch((t=>{this._u=t,this.wu=!1;const e=function(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t);throw Wn("INTERNAL UNHANDLED ERROR: ",e),t})).then((t=>(this.wu=!1,t))))));return this.hu=e,e}enqueueAfterDelay(t,e,i){this.pu(),this.gu.indexOf(t)>-1&&(e=0);const n=Sc.createAndSchedule(this,t,e,i,(t=>this.Tu(t)));return this.du.push(n),n}pu(){this._u&&qn()}verifyOperationInProgress(){}async Au(){let t;do{t=this.hu,await t}while(t!==this.hu)}Ru(t){for(const e of this.du)if(e.timerId===t)return!0;return!1}Pu(t){return this.Au().then((()=>{this.du.sort(((t,e)=>t.targetTimeMs-e.targetTimeMs));for(const e of this.du)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Au()}))}bu(t){this.gu.push(t)}Tu(t){const e=this.du.indexOf(t);this.du.splice(e,1)}}class zh extends Lh{constructor(t,e,i){super(t,e,i),this.type="firestore",this._queue=new Fh,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Xh(this),this._firestoreClient.terminate()}}function Vh(t=(0,r.Mq)()){return(0,r.qX)(t,"firestore").getImmediate()}function Hh(t){return t._firestoreClient||Xh(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Xh(t){var e;const i=t._freezeSettings(),n=function(t,e,i,n){return new Pr(t,e,i,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling,n.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new fh(t._authCredentials,t._appCheckCredentials,t._queue,n)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Bh{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Zn(Jn.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new br(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Yh{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Yh(kr.fromBase64String(t))}catch(t){throw new Zn(Jn.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(t){return new Yh(kr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(t){this._methodName=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Zn(Jn.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Zn(Jn.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return hr(this._lat,t._lat)||hr(this._long,t._long)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh=/^__.*__$/;class Gh{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new ha(t,this.data,this.fieldMask,e,this.fieldTransforms):new ca(t,this.data,e,this.fieldTransforms)}}function qh(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qn()}}class $h{constructor(t,e,i,n,r,s){this.settings=t,this.databaseId=e,this.O=i,this.ignoreUndefinedProperties=n,void 0===r&&this.vu(),this.fieldTransforms=r||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}Su(t){return new $h(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.O,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Du(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),n=this.Su({path:i,Cu:!1});return n.Nu(t),n}xu(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),n=this.Su({path:i,Cu:!1});return n.vu(),n}ku(t){return this.Su({path:void 0,Cu:!0})}Ou(t){return ou(t,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.$u)}contains(t){return void 0!==this.fieldMask.find((e=>t.isPrefixOf(e)))||void 0!==this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Nu(this.path.get(t))}Nu(t){if(0===t.length)throw this.Ou("Document fields must not be empty");if(qh(this.Vu)&&jh.test(t))throw this.Ou('Document fields cannot begin and end with "__"')}}class Kh{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.O=i||Bl(t)}Fu(t,e,i,n=!1){return new $h({Vu:t,methodName:e,$u:i,path:br.emptyPath(),Cu:!1,Mu:n},this.databaseId,this.O,this.ignoreUndefinedProperties)}}function Jh(t){const e=t._freezeSettings(),i=Bl(t._databaseId);return new Kh(t._databaseId,!!e.ignoreUndefinedProperties,i)}function Zh(t,e,i,n,r,s={}){const a=t.Fu(s.merge||s.mergeFields?2:0,e,i,r);nu("Data must be an object, but it was:",a,n);const o=eu(n,a);let l,c;if(s.merge)l=new wr(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const t=[];for(const n of s.mergeFields){const r=ru(e,n,i);if(!a.contains(r))throw new Zn(Jn.INVALID_ARGUMENT,`Field '${r}' is specified in your field mask but missing from your input data.`);lu(t,r)||t.push(r)}l=new wr(t),c=a.fieldTransforms.filter((t=>l.covers(t.field)))}else l=null,c=a.fieldTransforms;return new Gh(new Jr(o),l,c)}function Qh(t,e,i,n=!1){return tu(i,t.Fu(n?4:3,e))}function tu(t,e){if(iu(t=(0,o.m9)(t)))return nu("Unsupported field value:",e,t),eu(t,e);if(t instanceof Uh)return function(t,e){if(!qh(e.Vu))throw e.Ou(`${t._methodName}() can only be used with update() and set()`);if(!e.path)throw e.Ou(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(e);i&&e.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Cu&&4!==e.Vu)throw e.Ou("Nested arrays are not supported");return function(t,e){const i=[];let n=0;for(const r of t){let t=tu(r,e.ku(n));null==t&&(t={nullValue:"NULL_VALUE"}),i.push(t),n++}return{arrayValue:{values:i}}}(t,e)}return function(t,e){if(null===(t=(0,o.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Hs(e.O,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=dr.fromDate(t);return{timestampValue:Ga(e.O,i)}}if(t instanceof dr){const i=new dr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Ga(e.O,i)}}if(t instanceof Wh)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Yh)return{bytesValue:qa(e.O,t._byteString)};if(t instanceof Rh){const i=e.databaseId,n=t.firestore._databaseId;if(!n.isEqual(i))throw e.Ou(`Document reference is for database ${n.projectId}/${n.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Ja(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Ou(`Unsupported field value: ${Ih(t)}`)}(t,e)}function eu(t,e){const i={};return mr(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gr(t,((t,n)=>{const r=tu(n,e.Du(t));null!=r&&(i[t]=r)})),{mapValue:{fields:i}}}function iu(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof dr||t instanceof Wh||t instanceof Yh||t instanceof Rh||t instanceof Uh)}function nu(t,e,i){if(!iu(i)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(i)){const n=Ih(i);throw"an object"===n?e.Ou(t+" a custom object"):e.Ou(t+" "+n)}}function ru(t,e,i){if((e=(0,o.m9)(e))instanceof Bh)return e._internalPath;if("string"==typeof e)return au(t,e);throw ou("Field path arguments must be of type string or ",t,!1,void 0,i)}const su=new RegExp("[~\\*/\\[\\]]");function au(t,e,i){if(e.search(su)>=0)throw ou(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,i);try{return new Bh(...e.split("."))._internalPath}catch(n){throw ou(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,i)}}function ou(t,e,i,n,r){const s=n&&!n.isEmpty(),a=void 0!==r;let o=`Function ${e}() called with invalid data`;i&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${n}`),a&&(l+=` in document ${r}`),l+=")"),new Zn(Jn.INVALID_ARGUMENT,o+t+l)}function lu(t,e){return t.some((t=>t.isEqual(e)))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(t,e,i,n,r){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=n,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Rh(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new hu(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(uu("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class hu extends cu{data(){return super.data()}}function uu(t,e){return"string"==typeof e?au(t,e):e instanceof Bh?e._internalPath:e._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class fu extends cu{constructor(t,e,i,n,r,s){super(t,e,i,n,s),this._firestore=t,this._firestoreImpl=t,this.metadata=r}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new pu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(uu("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class pu extends fu{data(t={}){return super.data(t)}}class gu{constructor(t,e,i,n){this._firestore=t,this._userDataWriter=e,this._snapshot=n,this.metadata=new du(n.hasPendingWrites,n.fromCache),this.query=i}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach((i=>{t.call(e,new pu(this._firestore,this._userDataWriter,i.key,i,new du(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Zn(Jn.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){let e=0;return t._snapshot.docChanges.map((i=>({type:"added",doc:new pu(t._firestore,t._userDataWriter,i.doc.key,i.doc,new du(t._snapshot.mutatedKeys.has(i.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:e++})))}{let i=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((t=>e||3!==t.type)).map((e=>{const n=new pu(t._firestore,t._userDataWriter,e.doc.key,e.doc,new du(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);let r=-1,s=-1;return 0!==e.type&&(r=i.indexOf(e.doc.key),i=i.delete(e.doc.key)),1!==e.type&&(i=i.add(e.doc),s=i.indexOf(e.doc.key)),{type:mu(e.type),doc:n,oldIndex:r,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function mu(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qn()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function vu(t){if(Cs(t)&&0===t.explicitOrderBy.length)throw new Zn(Jn.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yu{}function xu(t,...e){for(const i of e)t=i._apply(t);return t}class bu extends yu{constructor(t,e,i){super(),this.Uu=t,this.qu=e,this.Ku=i,this.type="where"}_apply(t){const e=Jh(t.firestore),i=function(t,e,i,n,r,s,a){let o;if(r.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Zn(Jn.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){Iu(a,s);const e=[];for(const i of a)e.push(Eu(n,t,i));o={arrayValue:{values:e}}}else o=Eu(n,t,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Iu(a,s),o=Qh(i,e,a,"in"===s||"not-in"===s);const l=os.create(r,s,o);return function(t,e){if(e.S()){const i=Is(t);if(null!==i&&!i.isEqual(e.field))throw new Zn(Jn.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${e.field.toString()}'`);const n=Es(t);null!==n&&Tu(t,e.field,n)}const i=function(t,e){for(const i of t.filters)if(e.indexOf(i.op)>=0)return i.op;return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new Zn(Jn.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Zn(Jn.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}(t,l),l}(t._query,"where",e,t.firestore._databaseId,this.Uu,this.qu,this.Ku);return new Oh(t.firestore,t.converter,function(t,e){const i=t.filters.concat([e]);return new ws(t.path,t.collectionGroup,t.explicitOrderBy.slice(),i,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,i))}}function wu(t,e,i){const n=e,r=uu("where",t);return new bu(r,n,i)}class ku extends yu{constructor(t,e){super(),this.Uu=t,this.Gu=e,this.type="orderBy"}_apply(t){const e=function(t,e,i){if(null!==t.startAt)throw new Zn(Jn.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Zn(Jn.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const n=new vs(e,i);return function(t,e){if(null===Es(t)){const i=Is(t);null!==i&&Tu(t,i,e.field)}}(t,n),n}(t._query,this.Uu,this.Gu);return new Oh(t.firestore,t.converter,function(t,e){const i=t.explicitOrderBy.concat([e]);return new ws(t.path,t.collectionGroup,i,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))}}function Au(t,e="asc"){const i=e,n=uu("orderBy",t);return new ku(n,i)}class Su extends yu{constructor(t,e,i){super(),this.type=t,this.ju=e,this.Qu=i}_apply(t){return new Oh(t.firestore,t.converter,Ls(t._query,this.ju,this.Qu))}}function Cu(t){return _h("limit",t),new Su("limit",t,"F")}function Eu(t,e,i){if("string"==typeof(i=(0,o.m9)(i))){if(""===i)throw new Zn(Jn.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ts(e)&&-1!==i.indexOf("/"))throw new Zn(Jn.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const n=e.path.child(yr.fromString(i));if(!Mr.isDocumentKey(n))throw new Zn(Jn.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Ur(t,new Mr(n))}if(i instanceof Rh)return Ur(t,i._key);throw new Zn(Jn.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ih(i)}.`)}function Iu(t,e){if(!Array.isArray(t)||0===t.length)throw new Zn(Jn.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new Zn(Jn.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Tu(t,e,i){if(!i.isEqual(e))throw new Zn(Jn.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${i.toString()}' instead.`)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{convertValue(t,e="none"){switch(Fr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Cr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Er(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw qn()}}convertObject(t,e){const i={};return gr(t.fields,((t,n)=>{i[t]=this.convertValue(n,e)})),i}convertGeoPoint(t){return new Wh(Cr(t.latitude),Cr(t.longitude))}convertArray(t,e){return(t.values||[]).map((t=>this.convertValue(t,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Tr(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(_r(t));default:return null}}convertTimestamp(t){const e=Sr(t);return new dr(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=yr.fromString(t);$n(ko(i));const n=new Lr(i.get(1),i.get(3)),r=new Mr(i.popFirst(5));return n.isEqual(e)||Wn(`Document ${r} contains a document reference within a different database (${n.projectId}/${n.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),r}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pu(t,e,i){let n;return n=t?i&&(i.merge||i.mergeFields)?t.toFirestore(e,i):t.toFirestore(e):e,n}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Lu(t){t=Th(t,Rh);const e=Th(t.firestore,zh);return bh(Hh(e),t._key).then((i=>Du(e,t,i)))}class Ru extends _u{constructor(t){super(),this.firestore=t}convertBytes(t){return new Yh(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Rh(this.firestore,null,e)}}function Ou(t){t=Th(t,Oh);const e=Th(t.firestore,zh),i=Hh(e),n=new Ru(e);return vu(t._query),wh(i,t._query).then((i=>new gu(e,n,t,i)))}function Nu(t,e){const i=Th(t.firestore,zh),n=Dh(t),r=Pu(t.converter,e);return Mu(i,[Zh(Jh(t.firestore),"addDoc",n._key,r,null!==t.converter,{}).toMutation(n._key,ea.exists(!1))]).then((()=>n))}function Mu(t,e){return function(t,e){const i=new Qn;return t.asyncQueue.enqueueAndForget((async()=>jc(await yh(t),e,i))),i.promise}(Hh(t),e)}function Du(t,e,i){const n=i.docs.get(e._key),r=new Ru(t);return new fu(t,r,e._key,n,new du(i.hasPendingWrites,i.fromCache),e.converter)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(t,e=!0){!function(t){Xn=t}(r.Jn),(0,r.Xd)(new s.wA("firestore",((t,{options:i})=>{const n=t.getProvider("app").getImmediate(),r=new zh(n,new ir(t.getProvider("auth-internal")),new ar(t.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:e},i),r._setSettings(i),r}),"PUBLIC")),(0,r.KN)(Vn,"3.4.5",t),(0,r.KN)(Vn,"3.4.5","esm2017")}()},89:function(t,e){"use strict";e.Z=(t,e)=>{const i=t.__vccOpts||t;for(const[n,r]of e)i[n]=r;return i}},678:function(t,e,i){"use strict";i.d(e,{p7:function(){return ee},r5:function(){return j},yj:function(){return se},tv:function(){return re}});i(1703);var n=i(3396),r=i(4870);
/*!
  * vue-router v4.0.12
  * (c) 2021 Eduardo San Martin Morote
  * @license MIT
  */
const s="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag,a=t=>s?Symbol(t):"_vr_"+t,o=a("rvlm"),l=a("rvd"),c=a("r"),h=a("rl"),u=a("rvl"),d="undefined"!==typeof window;function f(t){return t.__esModule||s&&"Module"===t[Symbol.toStringTag]}const p=Object.assign;function g(t,e){const i={};for(const n in e){const r=e[n];i[n]=Array.isArray(r)?r.map(t):t(r)}return i}const m=()=>{};const v=/\/$/,y=t=>t.replace(v,"");function x(t,e,i="/"){let n,r={},s="",a="";const o=e.indexOf("?"),l=e.indexOf("#",o>-1?o:0);return o>-1&&(n=e.slice(0,o),s=e.slice(o+1,l>-1?l:e.length),r=t(s)),l>-1&&(n=n||e.slice(0,l),a=e.slice(l,e.length)),n=I(null!=n?n:e,i),{fullPath:n+(s&&"?")+s+a,path:n,query:r,hash:a}}function b(t,e){const i=e.query?t(e.query):"";return e.path+(i&&"?")+i+(e.hash||"")}function w(t,e){return e&&t.toLowerCase().startsWith(e.toLowerCase())?t.slice(e.length)||"/":t}function k(t,e,i){const n=e.matched.length-1,r=i.matched.length-1;return n>-1&&n===r&&A(e.matched[n],i.matched[r])&&S(e.params,i.params)&&t(e.query)===t(i.query)&&e.hash===i.hash}function A(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function S(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const i in t)if(!C(t[i],e[i]))return!1;return!0}function C(t,e){return Array.isArray(t)?E(t,e):Array.isArray(e)?E(e,t):t===e}function E(t,e){return Array.isArray(e)?t.length===e.length&&t.every(((t,i)=>t===e[i])):1===t.length&&t[0]===e}function I(t,e){if(t.startsWith("/"))return t;if(!t)return e;const i=e.split("/"),n=t.split("/");let r,s,a=i.length-1;for(r=0;r<n.length;r++)if(s=n[r],1!==a&&"."!==s){if(".."!==s)break;a--}return i.slice(0,a).join("/")+"/"+n.slice(r-(r===n.length?1:0)).join("/")}var T,_;(function(t){t["pop"]="pop",t["push"]="push"})(T||(T={})),function(t){t["back"]="back",t["forward"]="forward",t["unknown"]=""}(_||(_={}));function P(t){if(!t)if(d){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return"/"!==t[0]&&"#"!==t[0]&&(t="/"+t),y(t)}const L=/^[^#]+#/;function R(t,e){return t.replace(L,"#")+e}function O(t,e){const i=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-i.left-(e.left||0),top:n.top-i.top-(e.top||0)}}const N=()=>({left:window.pageXOffset,top:window.pageYOffset});function M(t){let e;if("el"in t){const i=t.el,n="string"===typeof i&&i.startsWith("#");0;const r="string"===typeof i?n?document.getElementById(i.slice(1)):document.querySelector(i):i;if(!r)return;e=O(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(null!=e.left?e.left:window.pageXOffset,null!=e.top?e.top:window.pageYOffset)}function D(t,e){const i=history.state?history.state.position-e:-1;return i+t}const F=new Map;function z(t,e){F.set(t,e)}function V(t){const e=F.get(t);return F.delete(t),e}let H=()=>location.protocol+"//"+location.host;function X(t,e){const{pathname:i,search:n,hash:r}=e,s=t.indexOf("#");if(s>-1){let e=r.includes(t.slice(s))?t.slice(s).length:1,i=r.slice(e);return"/"!==i[0]&&(i="/"+i),w(i,"")}const a=w(i,t);return a+n+r}function B(t,e,i,n){let r=[],s=[],a=null;const o=({state:s})=>{const o=X(t,location),l=i.value,c=e.value;let h=0;if(s){if(i.value=o,e.value=s,a&&a===l)return void(a=null);h=c?s.position-c.position:0}else n(o);r.forEach((t=>{t(i.value,l,{delta:h,type:T.pop,direction:h?h>0?_.forward:_.back:_.unknown})}))};function l(){a=i.value}function c(t){r.push(t);const e=()=>{const e=r.indexOf(t);e>-1&&r.splice(e,1)};return s.push(e),e}function h(){const{history:t}=window;t.state&&t.replaceState(p({},t.state,{scroll:N()}),"")}function u(){for(const t of s)t();s=[],window.removeEventListener("popstate",o),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",o),window.addEventListener("beforeunload",h),{pauseListeners:l,listen:c,destroy:u}}function Y(t,e,i,n=!1,r=!1){return{back:t,current:e,forward:i,replaced:n,position:window.history.length,scroll:r?N():null}}function U(t){const{history:e,location:i}=window,n={value:X(t,i)},r={value:e.state};function s(n,s,a){const o=t.indexOf("#"),l=o>-1?(i.host&&document.querySelector("base")?t:t.slice(o))+n:H()+t+n;try{e[a?"replaceState":"pushState"](s,"",l),r.value=s}catch(c){console.error(c),i[a?"replace":"assign"](l)}}function a(t,i){const a=p({},e.state,Y(r.value.back,t,r.value.forward,!0),i,{position:r.value.position});s(t,a,!0),n.value=t}function o(t,i){const a=p({},r.value,e.state,{forward:t,scroll:N()});s(a.current,a,!0);const o=p({},Y(n.value,t,null),{position:a.position+1},i);s(t,o,!1),n.value=t}return r.value||s(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0),{location:n,state:r,push:o,replace:a}}function W(t){t=P(t);const e=U(t),i=B(t,e.state,e.location,e.replace);function n(t,e=!0){e||i.pauseListeners(),history.go(t)}const r=p({location:"",base:t,go:n,createHref:R.bind(null,t)},e,i);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function j(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),W(t)}function G(t){return"string"===typeof t||t&&"object"===typeof t}function q(t){return"string"===typeof t||"symbol"===typeof t}const $={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},K=a("nf");var J;(function(t){t[t["aborted"]=4]="aborted",t[t["cancelled"]=8]="cancelled",t[t["duplicated"]=16]="duplicated"})(J||(J={}));function Z(t,e){return p(new Error,{type:t,[K]:!0},e)}function Q(t,e){return t instanceof Error&&K in t&&(null==e||!!(t.type&e))}const tt="[^/]+?",et={sensitive:!1,strict:!1,start:!0,end:!0},it=/[.+*?^${}()[\]/\\]/g;function nt(t,e){const i=p({},et,e),n=[];let r=i.start?"^":"";const s=[];for(const h of t){const t=h.length?[]:[90];i.strict&&!h.length&&(r+="/");for(let e=0;e<h.length;e++){const n=h[e];let a=40+(i.sensitive?.25:0);if(0===n.type)e||(r+="/"),r+=n.value.replace(it,"\\$&"),a+=40;else if(1===n.type){const{value:t,repeatable:i,optional:o,regexp:l}=n;s.push({name:t,repeatable:i,optional:o});const u=l||tt;if(u!==tt){a+=10;try{new RegExp(`(${u})`)}catch(c){throw new Error(`Invalid custom RegExp for param "${t}" (${u}): `+c.message)}}let d=i?`((?:${u})(?:/(?:${u}))*)`:`(${u})`;e||(d=o&&h.length<2?`(?:/${d})`:"/"+d),o&&(d+="?"),r+=d,a+=20,o&&(a+=-8),i&&(a+=-20),".*"===u&&(a+=-50)}t.push(a)}n.push(t)}if(i.strict&&i.end){const t=n.length-1;n[t][n[t].length-1]+=.7000000000000001}i.strict||(r+="/?"),i.end?r+="$":i.strict&&(r+="(?:/|$)");const a=new RegExp(r,i.sensitive?"":"i");function o(t){const e=t.match(a),i={};if(!e)return null;for(let n=1;n<e.length;n++){const t=e[n]||"",r=s[n-1];i[r.name]=t&&r.repeatable?t.split("/"):t}return i}function l(e){let i="",n=!1;for(const r of t){n&&i.endsWith("/")||(i+="/"),n=!1;for(const t of r)if(0===t.type)i+=t.value;else if(1===t.type){const{value:s,repeatable:a,optional:o}=t,l=s in e?e[s]:"";if(Array.isArray(l)&&!a)throw new Error(`Provided param "${s}" is an array but it is not repeatable (* or + modifiers)`);const c=Array.isArray(l)?l.join("/"):l;if(!c){if(!o)throw new Error(`Missing required param "${s}"`);r.length<2&&(i.endsWith("/")?i=i.slice(0,-1):n=!0)}i+=c}}return i}return{re:a,score:n,keys:s,parse:o,stringify:l}}function rt(t,e){let i=0;while(i<t.length&&i<e.length){const n=e[i]-t[i];if(n)return n;i++}return t.length<e.length?1===t.length&&80===t[0]?-1:1:t.length>e.length?1===e.length&&80===e[0]?1:-1:0}function st(t,e){let i=0;const n=t.score,r=e.score;while(i<n.length&&i<r.length){const t=rt(n[i],r[i]);if(t)return t;i++}return r.length-n.length}const at={type:0,value:""},ot=/[a-zA-Z0-9_]/;function lt(t){if(!t)return[[]];if("/"===t)return[[at]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(t){throw new Error(`ERR (${i})/"${c}": ${t}`)}let i=0,n=i;const r=[];let s;function a(){s&&r.push(s),s=[]}let o,l=0,c="",h="";function u(){c&&(0===i?s.push({type:0,value:c}):1===i||2===i||3===i?(s.length>1&&("*"===o||"+"===o)&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:c,regexp:h,repeatable:"*"===o||"+"===o,optional:"*"===o||"?"===o})):e("Invalid state to consume buffer"),c="")}function d(){c+=o}while(l<t.length)if(o=t[l++],"\\"!==o||2===i)switch(i){case 0:"/"===o?(c&&u(),a()):":"===o?(u(),i=1):d();break;case 4:d(),i=n;break;case 1:"("===o?i=2:ot.test(o)?d():(u(),i=0,"*"!==o&&"?"!==o&&"+"!==o&&l--);break;case 2:")"===o?"\\"==h[h.length-1]?h=h.slice(0,-1)+o:i=3:h+=o;break;case 3:u(),i=0,"*"!==o&&"?"!==o&&"+"!==o&&l--,h="";break;default:e("Unknown state");break}else n=i,i=4;return 2===i&&e(`Unfinished custom RegExp for param "${c}"`),u(),a(),r}function ct(t,e,i){const n=nt(lt(t.path),i);const r=p(n,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf===!e.record.aliasOf&&e.children.push(r),r}function ht(t,e){const i=[],n=new Map;function r(t){return n.get(t)}function s(t,i,n){const r=!n,o=dt(t);o.aliasOf=n&&n.record;const c=mt(e,t),h=[o];if("alias"in t){const e="string"===typeof t.alias?[t.alias]:t.alias;for(const t of e)h.push(p({},o,{components:n?n.record.components:o.components,path:t,aliasOf:n?n.record:o}))}let u,d;for(const e of h){const{path:h}=e;if(i&&"/"!==h[0]){const t=i.record.path,n="/"===t[t.length-1]?"":"/";e.path=i.record.path+(h&&n+h)}if(u=ct(e,i,c),n?n.alias.push(u):(d=d||u,d!==u&&d.alias.push(u),r&&t.name&&!pt(u)&&a(t.name)),"children"in o){const t=o.children;for(let e=0;e<t.length;e++)s(t[e],u,n&&n.children[e])}n=n||u,l(u)}return d?()=>{a(d)}:m}function a(t){if(q(t)){const e=n.get(t);e&&(n.delete(t),i.splice(i.indexOf(e),1),e.children.forEach(a),e.alias.forEach(a))}else{const e=i.indexOf(t);e>-1&&(i.splice(e,1),t.record.name&&n.delete(t.record.name),t.children.forEach(a),t.alias.forEach(a))}}function o(){return i}function l(t){let e=0;while(e<i.length&&st(t,i[e])>=0)e++;i.splice(e,0,t),t.record.name&&!pt(t)&&n.set(t.record.name,t)}function c(t,e){let r,s,a,o={};if("name"in t&&t.name){if(r=n.get(t.name),!r)throw Z(1,{location:t});a=r.record.name,o=p(ut(e.params,r.keys.filter((t=>!t.optional)).map((t=>t.name))),t.params),s=r.stringify(o)}else if("path"in t)s=t.path,r=i.find((t=>t.re.test(s))),r&&(o=r.parse(s),a=r.record.name);else{if(r=e.name?n.get(e.name):i.find((t=>t.re.test(e.path))),!r)throw Z(1,{location:t,currentLocation:e});a=r.record.name,o=p({},e.params,t.params),s=r.stringify(o)}const l=[];let c=r;while(c)l.unshift(c.record),c=c.parent;return{name:a,path:s,params:o,matched:l,meta:gt(l)}}return e=mt({strict:!1,end:!0,sensitive:!1},e),t.forEach((t=>s(t))),{addRoute:s,resolve:c,removeRoute:a,getRoutes:o,getRecordMatcher:r}}function ut(t,e){const i={};for(const n of e)n in t&&(i[n]=t[n]);return i}function dt(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:ft(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||{}:{default:t.component}}}function ft(t){const e={},i=t.props||!1;if("component"in t)e.default=i;else for(const n in t.components)e[n]="boolean"===typeof i?i:i[n];return e}function pt(t){while(t){if(t.record.aliasOf)return!0;t=t.parent}return!1}function gt(t){return t.reduce(((t,e)=>p(t,e.meta)),{})}function mt(t,e){const i={};for(const n in t)i[n]=n in e?e[n]:t[n];return i}const vt=/#/g,yt=/&/g,xt=/\//g,bt=/=/g,wt=/\?/g,kt=/\+/g,At=/%5B/g,St=/%5D/g,Ct=/%5E/g,Et=/%60/g,It=/%7B/g,Tt=/%7C/g,_t=/%7D/g,Pt=/%20/g;function Lt(t){return encodeURI(""+t).replace(Tt,"|").replace(At,"[").replace(St,"]")}function Rt(t){return Lt(t).replace(It,"{").replace(_t,"}").replace(Ct,"^")}function Ot(t){return Lt(t).replace(kt,"%2B").replace(Pt,"+").replace(vt,"%23").replace(yt,"%26").replace(Et,"`").replace(It,"{").replace(_t,"}").replace(Ct,"^")}function Nt(t){return Ot(t).replace(bt,"%3D")}function Mt(t){return Lt(t).replace(vt,"%23").replace(wt,"%3F")}function Dt(t){return null==t?"":Mt(t).replace(xt,"%2F")}function Ft(t){try{return decodeURIComponent(""+t)}catch(e){}return""+t}function zt(t){const e={};if(""===t||"?"===t)return e;const i="?"===t[0],n=(i?t.slice(1):t).split("&");for(let r=0;r<n.length;++r){const t=n[r].replace(kt," "),i=t.indexOf("="),s=Ft(i<0?t:t.slice(0,i)),a=i<0?null:Ft(t.slice(i+1));if(s in e){let t=e[s];Array.isArray(t)||(t=e[s]=[t]),t.push(a)}else e[s]=a}return e}function Vt(t){let e="";for(let i in t){const n=t[i];if(i=Nt(i),null==n){void 0!==n&&(e+=(e.length?"&":"")+i);continue}const r=Array.isArray(n)?n.map((t=>t&&Ot(t))):[n&&Ot(n)];r.forEach((t=>{void 0!==t&&(e+=(e.length?"&":"")+i,null!=t&&(e+="="+t))}))}return e}function Ht(t){const e={};for(const i in t){const n=t[i];void 0!==n&&(e[i]=Array.isArray(n)?n.map((t=>null==t?null:""+t)):null==n?n:""+n)}return e}function Xt(){let t=[];function e(e){return t.push(e),()=>{const i=t.indexOf(e);i>-1&&t.splice(i,1)}}function i(){t=[]}return{add:e,list:()=>t,reset:i}}function Bt(t,e,i,n,r){const s=n&&(n.enterCallbacks[r]=n.enterCallbacks[r]||[]);return()=>new Promise(((a,o)=>{const l=t=>{!1===t?o(Z(4,{from:i,to:e})):t instanceof Error?o(t):G(t)?o(Z(2,{from:e,to:t})):(s&&n.enterCallbacks[r]===s&&"function"===typeof t&&s.push(t),a())},c=t.call(n&&n.instances[r],e,i,l);let h=Promise.resolve(c);t.length<3&&(h=h.then(l)),h.catch((t=>o(t)))}))}function Yt(t,e,i,n){const r=[];for(const s of t)for(const t in s.components){let a=s.components[t];if("beforeRouteEnter"===e||s.instances[t])if(Ut(a)){const o=a.__vccOpts||a,l=o[e];l&&r.push(Bt(l,i,n,s,t))}else{let o=a();0,r.push((()=>o.then((r=>{if(!r)return Promise.reject(new Error(`Couldn't resolve component "${t}" at "${s.path}"`));const a=f(r)?r.default:r;s.components[t]=a;const o=a.__vccOpts||a,l=o[e];return l&&Bt(l,i,n,s,t)()}))))}}return r}function Ut(t){return"object"===typeof t||"displayName"in t||"props"in t||"__vccOpts"in t}function Wt(t){const e=(0,n.f3)(c),i=(0,n.f3)(h),s=(0,n.Fl)((()=>e.resolve((0,r.SU)(t.to)))),a=(0,n.Fl)((()=>{const{matched:t}=s.value,{length:e}=t,n=t[e-1],r=i.matched;if(!n||!r.length)return-1;const a=r.findIndex(A.bind(null,n));if(a>-1)return a;const o=Kt(t[e-2]);return e>1&&Kt(n)===o&&r[r.length-1].path!==o?r.findIndex(A.bind(null,t[e-2])):a})),o=(0,n.Fl)((()=>a.value>-1&&$t(i.params,s.value.params))),l=(0,n.Fl)((()=>a.value>-1&&a.value===i.matched.length-1&&S(i.params,s.value.params)));function u(i={}){return qt(i)?e[(0,r.SU)(t.replace)?"replace":"push"]((0,r.SU)(t.to)).catch(m):Promise.resolve()}return{route:s,href:(0,n.Fl)((()=>s.value.href)),isActive:o,isExactActive:l,navigate:u}}const jt=(0,n.aZ)({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Wt,setup(t,{slots:e}){const i=(0,r.qj)(Wt(t)),{options:s}=(0,n.f3)(c),a=(0,n.Fl)((()=>({[Jt(t.activeClass,s.linkActiveClass,"router-link-active")]:i.isActive,[Jt(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:i.isExactActive})));return()=>{const r=e.default&&e.default(i);return t.custom?r:(0,n.h)("a",{"aria-current":i.isExactActive?t.ariaCurrentValue:null,href:i.href,onClick:i.navigate,class:a.value},r)}}}),Gt=jt;function qt(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&(void 0===t.button||0===t.button)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function $t(t,e){for(const i in e){const n=e[i],r=t[i];if("string"===typeof n){if(n!==r)return!1}else if(!Array.isArray(r)||r.length!==n.length||n.some(((t,e)=>t!==r[e])))return!1}return!0}function Kt(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Jt=(t,e,i)=>null!=t?t:null!=e?e:i,Zt=(0,n.aZ)({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(t,{attrs:e,slots:i}){const s=(0,n.f3)(u),a=(0,n.Fl)((()=>t.route||s.value)),c=(0,n.f3)(l,0),h=(0,n.Fl)((()=>a.value.matched[c]));(0,n.JJ)(l,c+1),(0,n.JJ)(o,h),(0,n.JJ)(u,a);const d=(0,r.iH)();return(0,n.YP)((()=>[d.value,h.value,t.name]),(([t,e,i],[n,r,s])=>{e&&(e.instances[i]=t,r&&r!==e&&t&&t===n&&(e.leaveGuards.size||(e.leaveGuards=r.leaveGuards),e.updateGuards.size||(e.updateGuards=r.updateGuards))),!t||!e||r&&A(e,r)&&n||(e.enterCallbacks[i]||[]).forEach((e=>e(t)))}),{flush:"post"}),()=>{const r=a.value,s=h.value,o=s&&s.components[t.name],l=t.name;if(!o)return Qt(i.default,{Component:o,route:r});const c=s.props[t.name],u=c?!0===c?r.params:"function"===typeof c?c(r):c:null,f=t=>{t.component.isUnmounted&&(s.instances[l]=null)},g=(0,n.h)(o,p({},u,e,{onVnodeUnmounted:f,ref:d}));return Qt(i.default,{Component:g,route:r})||g}}});function Qt(t,e){if(!t)return null;const i=t(e);return 1===i.length?i[0]:i}const te=Zt;function ee(t){const e=ht(t.routes,t),i=t.parseQuery||zt,s=t.stringifyQuery||Vt,a=t.history;const o=Xt(),l=Xt(),f=Xt(),v=(0,r.XI)($);let y=$;d&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const w=g.bind(null,(t=>""+t)),A=g.bind(null,Dt),S=g.bind(null,Ft);function C(t,i){let n,r;return q(t)?(n=e.getRecordMatcher(t),r=i):r=t,e.addRoute(r,n)}function E(t){const i=e.getRecordMatcher(t);i&&e.removeRoute(i)}function I(){return e.getRoutes().map((t=>t.record))}function _(t){return!!e.getRecordMatcher(t)}function P(t,n){if(n=p({},n||v.value),"string"===typeof t){const r=x(i,t,n.path),s=e.resolve({path:r.path},n),o=a.createHref(r.fullPath);return p(r,s,{params:S(s.params),hash:Ft(r.hash),redirectedFrom:void 0,href:o})}let r;if("path"in t)r=p({},t,{path:x(i,t.path,n.path).path});else{const e=p({},t.params);for(const t in e)null==e[t]&&delete e[t];r=p({},t,{params:A(t.params)}),n.params=A(n.params)}const o=e.resolve(r,n),l=t.hash||"";o.params=w(S(o.params));const c=b(s,p({},t,{hash:Rt(l),path:o.path})),h=a.createHref(c);return p({fullPath:c,hash:l,query:s===Vt?Ht(t.query):t.query||{}},o,{redirectedFrom:void 0,href:h})}function L(t){return"string"===typeof t?x(i,t,v.value.path):p({},t)}function R(t,e){if(y!==t)return Z(8,{from:e,to:t})}function O(t){return X(t)}function F(t){return O(p(L(t),{replace:!0}))}function H(t){const e=t.matched[t.matched.length-1];if(e&&e.redirect){const{redirect:i}=e;let n="function"===typeof i?i(t):i;return"string"===typeof n&&(n=n.includes("?")||n.includes("#")?n=L(n):{path:n},n.params={}),p({query:t.query,hash:t.hash,params:t.params},n)}}function X(t,e){const i=y=P(t),n=v.value,r=t.state,a=t.force,o=!0===t.replace,l=H(i);if(l)return X(p(L(l),{state:r,force:a,replace:o}),e||i);const c=i;let h;return c.redirectedFrom=e,!a&&k(s,n,i)&&(h=Z(16,{to:c,from:n}),rt(n,n,!0,!1)),(h?Promise.resolve(h):Y(c,n)).catch((t=>Q(t)?t:et(t,c,n))).then((t=>{if(t){if(Q(t,2))return X(p(L(t.to),{state:r,force:a,replace:o}),e||c)}else t=W(c,n,!0,o,r);return U(c,n,t),t}))}function B(t,e){const i=R(t,e);return i?Promise.reject(i):Promise.resolve()}function Y(t,e){let i;const[n,r,s]=ne(t,e);i=Yt(n.reverse(),"beforeRouteLeave",t,e);for(const o of n)o.leaveGuards.forEach((n=>{i.push(Bt(n,t,e))}));const a=B.bind(null,t,e);return i.push(a),ie(i).then((()=>{i=[];for(const n of o.list())i.push(Bt(n,t,e));return i.push(a),ie(i)})).then((()=>{i=Yt(r,"beforeRouteUpdate",t,e);for(const n of r)n.updateGuards.forEach((n=>{i.push(Bt(n,t,e))}));return i.push(a),ie(i)})).then((()=>{i=[];for(const n of t.matched)if(n.beforeEnter&&!e.matched.includes(n))if(Array.isArray(n.beforeEnter))for(const r of n.beforeEnter)i.push(Bt(r,t,e));else i.push(Bt(n.beforeEnter,t,e));return i.push(a),ie(i)})).then((()=>(t.matched.forEach((t=>t.enterCallbacks={})),i=Yt(s,"beforeRouteEnter",t,e),i.push(a),ie(i)))).then((()=>{i=[];for(const n of l.list())i.push(Bt(n,t,e));return i.push(a),ie(i)})).catch((t=>Q(t,8)?t:Promise.reject(t)))}function U(t,e,i){for(const n of f.list())n(t,e,i)}function W(t,e,i,n,r){const s=R(t,e);if(s)return s;const o=e===$,l=d?history.state:{};i&&(n||o?a.replace(t.fullPath,p({scroll:o&&l&&l.scroll},r)):a.push(t.fullPath,r)),v.value=t,rt(t,e,i,o),nt()}let j;function G(){j=a.listen(((t,e,i)=>{const n=P(t),r=H(n);if(r)return void X(p(r,{replace:!0}),n).catch(m);y=n;const s=v.value;d&&z(D(s.fullPath,i.delta),N()),Y(n,s).catch((t=>Q(t,12)?t:Q(t,2)?(X(t.to,n).then((t=>{Q(t,20)&&!i.delta&&i.type===T.pop&&a.go(-1,!1)})).catch(m),Promise.reject()):(i.delta&&a.go(-i.delta,!1),et(t,n,s)))).then((t=>{t=t||W(n,s,!1),t&&(i.delta?a.go(-i.delta,!1):i.type===T.pop&&Q(t,20)&&a.go(-1,!1)),U(n,s,t)})).catch(m)}))}let K,J=Xt(),tt=Xt();function et(t,e,i){nt(t);const n=tt.list();return n.length?n.forEach((n=>n(t,e,i))):console.error(t),Promise.reject(t)}function it(){return K&&v.value!==$?Promise.resolve():new Promise(((t,e)=>{J.add([t,e])}))}function nt(t){K||(K=!0,G(),J.list().forEach((([e,i])=>t?i(t):e())),J.reset())}function rt(e,i,r,s){const{scrollBehavior:a}=t;if(!d||!a)return Promise.resolve();const o=!r&&V(D(e.fullPath,0))||(s||!r)&&history.state&&history.state.scroll||null;return(0,n.Y3)().then((()=>a(e,i,o))).then((t=>t&&M(t))).catch((t=>et(t,e,i)))}const st=t=>a.go(t);let at;const ot=new Set,lt={currentRoute:v,addRoute:C,removeRoute:E,hasRoute:_,getRoutes:I,resolve:P,options:t,push:O,replace:F,go:st,back:()=>st(-1),forward:()=>st(1),beforeEach:o.add,beforeResolve:l.add,afterEach:f.add,onError:tt.add,isReady:it,install(t){const e=this;t.component("RouterLink",Gt),t.component("RouterView",te),t.config.globalProperties.$router=e,Object.defineProperty(t.config.globalProperties,"$route",{enumerable:!0,get:()=>(0,r.SU)(v)}),d&&!at&&v.value===$&&(at=!0,O(a.location).catch((t=>{0})));const i={};for(const r in $)i[r]=(0,n.Fl)((()=>v.value[r]));t.provide(c,e),t.provide(h,(0,r.qj)(i)),t.provide(u,v);const s=t.unmount;ot.add(t),t.unmount=function(){ot.delete(t),ot.size<1&&(y=$,j&&j(),v.value=$,at=!1,K=!1),s()}}};return lt}function ie(t){return t.reduce(((t,e)=>t.then((()=>e()))),Promise.resolve())}function ne(t,e){const i=[],n=[],r=[],s=Math.max(e.matched.length,t.matched.length);for(let a=0;a<s;a++){const s=e.matched[a];s&&(t.matched.find((t=>A(t,s)))?n.push(s):i.push(s));const o=t.matched[a];o&&(e.matched.find((t=>A(t,o)))||r.push(o))}return[i,n,r]}function re(){return(0,n.f3)(c)}function se(){return(0,n.f3)(h)}},407:function(t,e,i){i(1703),t.exports=function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s="fb15")}({8875:function(t,e,i){var n,r,s;(function(i,a){r=[],n=a,s="function"===typeof n?n.apply(e,r):n,void 0===s||(t.exports=s)})("undefined"!==typeof self&&self,(function(){function t(){var e=Object.getOwnPropertyDescriptor(document,"currentScript");if(!e&&"currentScript"in document&&document.currentScript)return document.currentScript;if(e&&e.get!==t&&document.currentScript)return document.currentScript;try{throw new Error}catch(f){var i,n,r,s=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,a=/@([^@]*):(\d+):(\d+)\s*$/gi,o=s.exec(f.stack)||a.exec(f.stack),l=o&&o[1]||!1,c=o&&o[2]||!1,h=document.location.href.replace(document.location.hash,""),u=document.getElementsByTagName("script");l===h&&(i=document.documentElement.outerHTML,n=new RegExp("(?:[^\\n]+?\\n){0,"+(c-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),r=i.replace(n,"$1").trim());for(var d=0;d<u.length;d++){if("interactive"===u[d].readyState)return u[d];if(u[d].src===l)return u[d];if(l===h&&u[d].innerHTML&&u[d].innerHTML.trim()===r)return u[d]}return null}}return t}))},"8bbf":function(t,e){t.exports=i(6866)},"95e6":function(t,e){t.exports=i(7069)},fb15:function(t,e,i){"use strict";if(i.r(e),"undefined"!==typeof window){var n=window.document.currentScript,r=i("8875");n=r(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:r});var s=n&&n.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);s&&(i.p=s[1])}var a=i("8bbf"),o=i("95e6"),l=i.n(o);const c=["animationEnd","beforeMount","mounted","updated","click","mouseMove","legendClick","markerClick","selection","dataPointSelection","dataPointMouseEnter","dataPointMouseLeave","beforeZoom","beforeResetZoom","zoomed","scrolled","scrolled"],h=Object(a["defineComponent"])({name:"apexchart",props:{options:{type:Object},type:{type:String},series:{type:Array,required:!0},width:{default:"100%"},height:{default:"auto"}},emits:c,setup(t,{emit:e}){const i=Object(a["ref"])(null),n=Object(a["ref"])(null),r=t=>t&&"object"===typeof t&&!Array.isArray(t)&&null!=t,s=(t,e)=>{"function"!==typeof Object.assign&&function(){Object.assign=function(t){if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");let e=Object(t);for(let i=1;i<arguments.length;i++){let t=arguments[i];if(void 0!==t&&null!==t)for(let i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}return e}}();let i=Object.assign({},t);return r(t)&&r(e)&&Object.keys(e).forEach((n=>{r(e[n])?n in t?i[n]=s(t[n],e[n]):Object.assign(i,{[n]:e[n]}):Object.assign(i,{[n]:e[n]})})),i},o=async()=>{await Object(a["nextTick"])();const r={chart:{type:t.type||t.options.chart.type||"line",height:t.height,width:t.width,events:{}},series:t.series};c.forEach((t=>{let i=(...i)=>e(t,...i);r.chart.events[t]=i}));const o=s(t.options,r);return n.value=new l.a(i.value,o),n.value.render()},h=()=>(u(),o()),u=()=>{n.value.destroy()},d=(t,e)=>n.value.updateSeries(t,e),f=(t,e,i,r)=>n.value.updateOptions(t,e,i,r),p=t=>n.value.toggleSeries(t),g=t=>{n.value.showSeries(t)},m=t=>{n.value.hideSeries(t)},v=(t,e)=>n.value.appendSeries(t,e),y=()=>{n.value.resetSeries()},x=(t,e)=>{n.value.toggleDataPointSelection(t,e)},b=t=>n.value.appendData(t),w=(t,e)=>n.value.zoomX(t,e),k=()=>n.value.dataURI(),A=(t,e)=>{n.value.addXaxisAnnotation(t,e)},S=(t,e)=>{n.value.addYaxisAnnotation(t,e)},C=(t,e)=>{n.value.addPointAnnotation(t,e)},E=(t,e)=>{n.value.removeAnnotation(t,e)},I=()=>{n.value.clearAnnotations()};Object(a["onBeforeMount"])((()=>{window.ApexCharts=l.a})),Object(a["onMounted"])((()=>{i.value=Object(a["getCurrentInstance"])().proxy.$el,o()})),Object(a["onBeforeUnmount"])((()=>{n.value&&u()}));const T=Object(a["toRefs"])(t);return Object(a["watch"])(T.options,(()=>{!n.value&&t.options?o():n.value.updateOptions(t.options)})),Object(a["watch"])(T.series,(()=>{!n.value&&t.series?o():n.value.updateSeries(t.series)}),{deep:!0}),Object(a["watch"])(T.type,(()=>{h()})),Object(a["watch"])(T.width,(()=>{h()})),Object(a["watch"])(T.height,(()=>{h()})),{chart:n,init:o,refresh:h,destroy:u,updateOptions:f,updateSeries:d,toggleSeries:p,showSeries:g,hideSeries:m,resetSeries:y,zoomX:w,toggleDataPointSelection:x,appendData:b,appendSeries:v,addXaxisAnnotation:A,addYaxisAnnotation:S,addPointAnnotation:C,removeAnnotation:E,clearAnnotations:I,dataURI:k}},render(){return Object(a["h"])("div",{class:"vue-apexcharts"})}});var u=h;const d=t=>{t.component(u.name,u)};u.install=d;var f=u;e["default"]=f}})},6866:function(t,e,i){"use strict";i.r(e),i.d(e,{BaseTransition:function(){return n.P$},Comment:function(){return n.sv},EffectScope:function(){return n.Bj},Fragment:function(){return n.HY},KeepAlive:function(){return n.Ob},ReactiveEffect:function(){return n.qq},Static:function(){return n.qG},Suspense:function(){return n.n4},Teleport:function(){return n.lR},Text:function(){return n.xv},Transition:function(){return n.uT},TransitionGroup:function(){return n.W3},VueElement:function(){return n.a2},callWithAsyncErrorHandling:function(){return n.$d},callWithErrorHandling:function(){return n.KU},camelize:function(){return n._A},capitalize:function(){return n.kC},cloneVNode:function(){return n.Ho},compatUtils:function(){return n.ry},computed:function(){return n.Fl},createApp:function(){return n.ri},createBlock:function(){return n.j4},createCommentVNode:function(){return n.kq},createElementBlock:function(){return n.iD},createElementVNode:function(){return n._},createHydrationRenderer:function(){return n.Eo},createPropsRestProxy:function(){return n.p1},createRenderer:function(){return n.Us},createSSRApp:function(){return n.vr},createSlots:function(){return n.Nv},createStaticVNode:function(){return n.uE},createTextVNode:function(){return n.Uk},createVNode:function(){return n.Wm},customRef:function(){return n.ZM},defineAsyncComponent:function(){return n.RC},defineComponent:function(){return n.aZ},defineCustomElement:function(){return n.MW},defineEmits:function(){return n.Bz},defineExpose:function(){return n.WY},defineProps:function(){return n.yb},defineSSRCustomElement:function(){return n.Ah},devtools:function(){return n.mW},effect:function(){return n.cE},effectScope:function(){return n.B},getCurrentInstance:function(){return n.FN},getCurrentScope:function(){return n.nZ},getTransitionRawChildren:function(){return n.Q6},guardReactiveProps:function(){return n.F4},h:function(){return n.h},handleError:function(){return n.S3},hydrate:function(){return n.ZB},initCustomFormatter:function(){return n.Mr},initDirectivesForSSR:function(){return n.Nd},inject:function(){return n.f3},isMemoSame:function(){return n.nQ},isProxy:function(){return n.X3},isReactive:function(){return n.PG},isReadonly:function(){return n.$y},isRef:function(){return n.dq},isRuntimeOnly:function(){return n.of},isShallow:function(){return n.yT},isVNode:function(){return n.lA},markRaw:function(){return n.Xl},mergeDefaults:function(){return n.u_},mergeProps:function(){return n.dG},nextTick:function(){return n.Y3},normalizeClass:function(){return n.C_},normalizeProps:function(){return n.vs},normalizeStyle:function(){return n.j5},onActivated:function(){return n.dl},onBeforeMount:function(){return n.wF},onBeforeUnmount:function(){return n.Jd},onBeforeUpdate:function(){return n.Xn},onDeactivated:function(){return n.se},onErrorCaptured:function(){return n.d1},onMounted:function(){return n.bv},onRenderTracked:function(){return n.bT},onRenderTriggered:function(){return n.Yq},onScopeDispose:function(){return n.EB},onServerPrefetch:function(){return n.vl},onUnmounted:function(){return n.SK},onUpdated:function(){return n.ic},openBlock:function(){return n.wg},popScopeId:function(){return n.Cn},provide:function(){return n.JJ},proxyRefs:function(){return n.WL},pushScopeId:function(){return n.dD},queuePostFlushCb:function(){return n.qb},reactive:function(){return n.qj},readonly:function(){return n.OT},ref:function(){return n.iH},registerRuntimeCompiler:function(){return n.Y1},render:function(){return n.sY},renderList:function(){return n.Ko},renderSlot:function(){return n.WI},resolveComponent:function(){return n.up},resolveDirective:function(){return n.Q2},resolveDynamicComponent:function(){return n.LL},resolveFilter:function(){return n.eq},resolveTransitionHooks:function(){return n.U2},setBlockTracking:function(){return n.qZ},setDevtoolsHook:function(){return n.ec},setTransitionHooks:function(){return n.nK},shallowReactive:function(){return n.Um},shallowReadonly:function(){return n.YS},shallowRef:function(){return n.XI},ssrContextKey:function(){return n.Uc},ssrUtils:function(){return n.G},stop:function(){return n.sT},toDisplayString:function(){return n.zw},toHandlerKey:function(){return n.hR},toHandlers:function(){return n.mx},toRaw:function(){return n.IU},toRef:function(){return n.Vh},toRefs:function(){return n.BK},transformVNodeArgs:function(){return n.C3},triggerRef:function(){return n.oR},unref:function(){return n.SU},useAttrs:function(){return n.l1},useCssModule:function(){return n.fb},useCssVars:function(){return n.sj},useSSRContext:function(){return n.Zq},useSlots:function(){return n.Rr},useTransitionState:function(){return n.Y8},vModelCheckbox:function(){return n.e8},vModelDynamic:function(){return n.YZ},vModelRadio:function(){return n.G2},vModelSelect:function(){return n.bM},vModelText:function(){return n.nr},vShow:function(){return n.F8},version:function(){return n.i8},warn:function(){return n.ZK},watch:function(){return n.YP},watchEffect:function(){return n.m0},watchPostEffect:function(){return n.Rh},watchSyncEffect:function(){return n.yX},withAsyncContext:function(){return n.mv},withCtx:function(){return n.w5},withDefaults:function(){return n.b9},withDirectives:function(){return n.wy},withKeys:function(){return n.D2},withMemo:function(){return n.MX},withModifiers:function(){return n.iM},withScopeId:function(){return n.HX},compile:function(){return r}});var n=i(9242);const r=()=>{0}},9749:function(t,e,i){"use strict";i.d(e,{hu:function(){return at},MT:function(){return Q},oR:function(){return f}});i(1703);var n=i(3396),r=i(4870);function s(){return a().__VUE_DEVTOOLS_GLOBAL_HOOK__}function a(){return"undefined"!==typeof navigator&&"undefined"!==typeof window?window:"undefined"!==typeof i.g?i.g:{}}const o="function"===typeof Proxy,l="devtools-plugin:setup",c="plugin:settings:set";class h{constructor(t,e){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=e;const i={};if(t.settings)for(const a in t.settings){const e=t.settings[a];i[a]=e.defaultValue}const n=`__vue-devtools-plugin-settings__${t.id}`;let r=Object.assign({},i);try{const t=localStorage.getItem(n),e=JSON.parse(t);Object.assign(r,e)}catch(s){}this.fallbacks={getSettings(){return r},setSettings(t){try{localStorage.setItem(n,JSON.stringify(t))}catch(s){}r=t}},e&&e.on(c,((t,e)=>{t===this.plugin.id&&this.fallbacks.setSettings(e)})),this.proxiedOn=new Proxy({},{get:(t,e)=>this.target?this.target.on[e]:(...t)=>{this.onQueue.push({method:e,args:t})}}),this.proxiedTarget=new Proxy({},{get:(t,e)=>this.target?this.target[e]:"on"===e?this.proxiedOn:Object.keys(this.fallbacks).includes(e)?(...t)=>(this.targetQueue.push({method:e,args:t,resolve:()=>{}}),this.fallbacks[e](...t)):(...t)=>new Promise((i=>{this.targetQueue.push({method:e,args:t,resolve:i})}))})}async setRealTarget(t){this.target=t;for(const e of this.onQueue)this.target.on[e.method](...e.args);for(const e of this.targetQueue)e.resolve(await this.target[e.method](...e.args))}}function u(t,e){const i=t,n=a(),r=s(),c=o&&i.enableEarlyProxy;if(!r||!n.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__&&c){const t=c?new h(i,r):null,s=n.__VUE_DEVTOOLS_PLUGINS__=n.__VUE_DEVTOOLS_PLUGINS__||[];s.push({pluginDescriptor:i,setupFn:e,proxy:t}),t&&e(t.proxiedTarget)}else r.emit(l,t,e)}
/*!
 * vuex v4.0.2
 * (c) 2021 Evan You
 * @license MIT
 */
var d="store";function f(t){return void 0===t&&(t=null),(0,n.f3)(null!==t?t:d)}function p(t,e){return t.filter(e)[0]}function g(t,e){if(void 0===e&&(e=[]),null===t||"object"!==typeof t)return t;var i=p(e,(function(e){return e.original===t}));if(i)return i.copy;var n=Array.isArray(t)?[]:{};return e.push({original:t,copy:n}),Object.keys(t).forEach((function(i){n[i]=g(t[i],e)})),n}function m(t,e){Object.keys(t).forEach((function(i){return e(t[i],i)}))}function v(t){return null!==t&&"object"===typeof t}function y(t){return t&&"function"===typeof t.then}function x(t,e){return function(){return t(e)}}function b(t,e,i){return e.indexOf(t)<0&&(i&&i.prepend?e.unshift(t):e.push(t)),function(){var i=e.indexOf(t);i>-1&&e.splice(i,1)}}function w(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var i=t.state;A(t,i,[],t._modules.root,!0),k(t,i,e)}function k(t,e,i){var n=t._state;t.getters={},t._makeLocalGettersCache=Object.create(null);var s=t._wrappedGetters,a={};m(s,(function(e,i){a[i]=x(e,t),Object.defineProperty(t.getters,i,{get:function(){return a[i]()},enumerable:!0})})),t._state=(0,r.qj)({data:e}),t.strict&&_(t),n&&i&&t._withCommit((function(){n.data=null}))}function A(t,e,i,n,r){var s=!i.length,a=t._modules.getNamespace(i);if(n.namespaced&&(t._modulesNamespaceMap[a],t._modulesNamespaceMap[a]=n),!s&&!r){var o=P(e,i.slice(0,-1)),l=i[i.length-1];t._withCommit((function(){o[l]=n.state}))}var c=n.context=S(t,a,i);n.forEachMutation((function(e,i){var n=a+i;E(t,n,e,c)})),n.forEachAction((function(e,i){var n=e.root?i:a+i,r=e.handler||e;I(t,n,r,c)})),n.forEachGetter((function(e,i){var n=a+i;T(t,n,e,c)})),n.forEachChild((function(n,s){A(t,e,i.concat(s),n,r)}))}function S(t,e,i){var n=""===e,r={dispatch:n?t.dispatch:function(i,n,r){var s=L(i,n,r),a=s.payload,o=s.options,l=s.type;return o&&o.root||(l=e+l),t.dispatch(l,a)},commit:n?t.commit:function(i,n,r){var s=L(i,n,r),a=s.payload,o=s.options,l=s.type;o&&o.root||(l=e+l),t.commit(l,a,o)}};return Object.defineProperties(r,{getters:{get:n?function(){return t.getters}:function(){return C(t,e)}},state:{get:function(){return P(t.state,i)}}}),r}function C(t,e){if(!t._makeLocalGettersCache[e]){var i={},n=e.length;Object.keys(t.getters).forEach((function(r){if(r.slice(0,n)===e){var s=r.slice(n);Object.defineProperty(i,s,{get:function(){return t.getters[r]},enumerable:!0})}})),t._makeLocalGettersCache[e]=i}return t._makeLocalGettersCache[e]}function E(t,e,i,n){var r=t._mutations[e]||(t._mutations[e]=[]);r.push((function(e){i.call(t,n.state,e)}))}function I(t,e,i,n){var r=t._actions[e]||(t._actions[e]=[]);r.push((function(e){var r=i.call(t,{dispatch:n.dispatch,commit:n.commit,getters:n.getters,state:n.state,rootGetters:t.getters,rootState:t.state},e);return y(r)||(r=Promise.resolve(r)),t._devtoolHook?r.catch((function(e){throw t._devtoolHook.emit("vuex:error",e),e})):r}))}function T(t,e,i,n){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(t){return i(n.state,n.getters,t.state,t.getters)})}function _(t){(0,n.YP)((function(){return t._state.data}),(function(){0}),{deep:!0,flush:"sync"})}function P(t,e){return e.reduce((function(t,e){return t[e]}),t)}function L(t,e,i){return v(t)&&t.type&&(i=e,e=t,t=t.type),{type:t,payload:e,options:i}}var R="vuex bindings",O="vuex:mutations",N="vuex:actions",M="vuex",D=0;function F(t,e){u({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[R]},(function(i){i.addTimelineLayer({id:O,label:"Vuex Mutations",color:z}),i.addTimelineLayer({id:N,label:"Vuex Actions",color:z}),i.addInspector({id:M,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),i.on.getInspectorTree((function(i){if(i.app===t&&i.inspectorId===M)if(i.filter){var n=[];U(n,e._modules.root,i.filter,""),i.rootNodes=n}else i.rootNodes=[Y(e._modules.root,"")]})),i.on.getInspectorState((function(i){if(i.app===t&&i.inspectorId===M){var n=i.nodeId;C(e,n),i.state=W(G(e._modules,n),"root"===n?e.getters:e._makeLocalGettersCache,n)}})),i.on.editInspectorState((function(i){if(i.app===t&&i.inspectorId===M){var n=i.nodeId,r=i.path;"root"!==n&&(r=n.split("/").filter(Boolean).concat(r)),e._withCommit((function(){i.set(e._state.data,r,i.state.value)}))}})),e.subscribe((function(t,e){var n={};t.payload&&(n.payload=t.payload),n.state=e,i.notifyComponentUpdate(),i.sendInspectorTree(M),i.sendInspectorState(M),i.addTimelineEvent({layerId:O,event:{time:Date.now(),title:t.type,data:n}})})),e.subscribeAction({before:function(t,e){var n={};t.payload&&(n.payload=t.payload),t._id=D++,t._time=Date.now(),n.state=e,i.addTimelineEvent({layerId:N,event:{time:t._time,title:t.type,groupId:t._id,subtitle:"start",data:n}})},after:function(t,e){var n={},r=Date.now()-t._time;n.duration={_custom:{type:"duration",display:r+"ms",tooltip:"Action duration",value:r}},t.payload&&(n.payload=t.payload),n.state=e,i.addTimelineEvent({layerId:N,event:{time:Date.now(),title:t.type,groupId:t._id,subtitle:"end",data:n}})}})}))}var z=8702998,V=6710886,H=16777215,X={label:"namespaced",textColor:H,backgroundColor:V};function B(t){return t&&"root"!==t?t.split("/").slice(-2,-1)[0]:"Root"}function Y(t,e){return{id:e||"root",label:B(e),tags:t.namespaced?[X]:[],children:Object.keys(t._children).map((function(i){return Y(t._children[i],e+i+"/")}))}}function U(t,e,i,n){n.includes(i)&&t.push({id:n||"root",label:n.endsWith("/")?n.slice(0,n.length-1):n||"Root",tags:e.namespaced?[X]:[]}),Object.keys(e._children).forEach((function(r){U(t,e._children[r],i,n+r+"/")}))}function W(t,e,i){e="root"===i?e:e[i];var n=Object.keys(e),r={state:Object.keys(t.state).map((function(e){return{key:e,editable:!0,value:t.state[e]}}))};if(n.length){var s=j(e);r.getters=Object.keys(s).map((function(t){return{key:t.endsWith("/")?B(t):t,editable:!1,value:q((function(){return s[t]}))}}))}return r}function j(t){var e={};return Object.keys(t).forEach((function(i){var n=i.split("/");if(n.length>1){var r=e,s=n.pop();n.forEach((function(t){r[t]||(r[t]={_custom:{value:{},display:t,tooltip:"Module",abstract:!0}}),r=r[t]._custom.value})),r[s]=q((function(){return t[i]}))}else e[i]=q((function(){return t[i]}))})),e}function G(t,e){var i=e.split("/").filter((function(t){return t}));return i.reduce((function(t,n,r){var s=t[n];if(!s)throw new Error('Missing module "'+n+'" for path "'+e+'".');return r===i.length-1?s:s._children}),"root"===e?t:t.root._children)}function q(t){try{return t()}catch(e){return e}}var $=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var i=t.state;this.state=("function"===typeof i?i():i)||{}},K={namespaced:{configurable:!0}};K.namespaced.get=function(){return!!this._rawModule.namespaced},$.prototype.addChild=function(t,e){this._children[t]=e},$.prototype.removeChild=function(t){delete this._children[t]},$.prototype.getChild=function(t){return this._children[t]},$.prototype.hasChild=function(t){return t in this._children},$.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},$.prototype.forEachChild=function(t){m(this._children,t)},$.prototype.forEachGetter=function(t){this._rawModule.getters&&m(this._rawModule.getters,t)},$.prototype.forEachAction=function(t){this._rawModule.actions&&m(this._rawModule.actions,t)},$.prototype.forEachMutation=function(t){this._rawModule.mutations&&m(this._rawModule.mutations,t)},Object.defineProperties($.prototype,K);var J=function(t){this.register([],t,!1)};function Z(t,e,i){if(e.update(i),i.modules)for(var n in i.modules){if(!e.getChild(n))return void 0;Z(t.concat(n),e.getChild(n),i.modules[n])}}J.prototype.get=function(t){return t.reduce((function(t,e){return t.getChild(e)}),this.root)},J.prototype.getNamespace=function(t){var e=this.root;return t.reduce((function(t,i){return e=e.getChild(i),t+(e.namespaced?i+"/":"")}),"")},J.prototype.update=function(t){Z([],this.root,t)},J.prototype.register=function(t,e,i){var n=this;void 0===i&&(i=!0);var r=new $(e,i);if(0===t.length)this.root=r;else{var s=this.get(t.slice(0,-1));s.addChild(t[t.length-1],r)}e.modules&&m(e.modules,(function(e,r){n.register(t.concat(r),e,i)}))},J.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),i=t[t.length-1],n=e.getChild(i);n&&n.runtime&&e.removeChild(i)},J.prototype.isRegistered=function(t){var e=this.get(t.slice(0,-1)),i=t[t.length-1];return!!e&&e.hasChild(i)};function Q(t){return new tt(t)}var tt=function(t){var e=this;void 0===t&&(t={});var i=t.plugins;void 0===i&&(i=[]);var n=t.strict;void 0===n&&(n=!1);var r=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new J(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._devtools=r;var s=this,a=this,o=a.dispatch,l=a.commit;this.dispatch=function(t,e){return o.call(s,t,e)},this.commit=function(t,e,i){return l.call(s,t,e,i)},this.strict=n;var c=this._modules.root.state;A(this,c,[],this._modules.root),k(this,c),i.forEach((function(t){return t(e)}))},et={state:{configurable:!0}};tt.prototype.install=function(t,e){t.provide(e||d,this),t.config.globalProperties.$store=this;var i=void 0!==this._devtools&&this._devtools;i&&F(t,this)},et.state.get=function(){return this._state.data},et.state.set=function(t){0},tt.prototype.commit=function(t,e,i){var n=this,r=L(t,e,i),s=r.type,a=r.payload,o=(r.options,{type:s,payload:a}),l=this._mutations[s];l&&(this._withCommit((function(){l.forEach((function(t){t(a)}))})),this._subscribers.slice().forEach((function(t){return t(o,n.state)})))},tt.prototype.dispatch=function(t,e){var i=this,n=L(t,e),r=n.type,s=n.payload,a={type:r,payload:s},o=this._actions[r];if(o){try{this._actionSubscribers.slice().filter((function(t){return t.before})).forEach((function(t){return t.before(a,i.state)}))}catch(c){0}var l=o.length>1?Promise.all(o.map((function(t){return t(s)}))):o[0](s);return new Promise((function(t,e){l.then((function(e){try{i._actionSubscribers.filter((function(t){return t.after})).forEach((function(t){return t.after(a,i.state)}))}catch(c){0}t(e)}),(function(t){try{i._actionSubscribers.filter((function(t){return t.error})).forEach((function(e){return e.error(a,i.state,t)}))}catch(c){0}e(t)}))}))}},tt.prototype.subscribe=function(t,e){return b(t,this._subscribers,e)},tt.prototype.subscribeAction=function(t,e){var i="function"===typeof t?{before:t}:t;return b(i,this._actionSubscribers,e)},tt.prototype.watch=function(t,e,i){var r=this;return(0,n.YP)((function(){return t(r.state,r.getters)}),e,Object.assign({},i))},tt.prototype.replaceState=function(t){var e=this;this._withCommit((function(){e._state.data=t}))},tt.prototype.registerModule=function(t,e,i){void 0===i&&(i={}),"string"===typeof t&&(t=[t]),this._modules.register(t,e),A(this,this.state,t,this._modules.get(t),i.preserveState),k(this,this.state)},tt.prototype.unregisterModule=function(t){var e=this;"string"===typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit((function(){var i=P(e.state,t.slice(0,-1));delete i[t[t.length-1]]})),w(this)},tt.prototype.hasModule=function(t){return"string"===typeof t&&(t=[t]),this._modules.isRegistered(t)},tt.prototype.hotUpdate=function(t){this._modules.update(t),w(this,!0)},tt.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(tt.prototype,et);rt((function(t,e){var i={};return it(e).forEach((function(e){var n=e.key,r=e.val;i[n]=function(){var e=this.$store.state,i=this.$store.getters;if(t){var n=st(this.$store,"mapState",t);if(!n)return;e=n.context.state,i=n.context.getters}return"function"===typeof r?r.call(this,e,i):e[r]},i[n].vuex=!0})),i})),rt((function(t,e){var i={};return it(e).forEach((function(e){var n=e.key,r=e.val;i[n]=function(){var e=[],i=arguments.length;while(i--)e[i]=arguments[i];var n=this.$store.commit;if(t){var s=st(this.$store,"mapMutations",t);if(!s)return;n=s.context.commit}return"function"===typeof r?r.apply(this,[n].concat(e)):n.apply(this.$store,[r].concat(e))}})),i})),rt((function(t,e){var i={};return it(e).forEach((function(e){var n=e.key,r=e.val;r=t+r,i[n]=function(){if(!t||st(this.$store,"mapGetters",t))return this.$store.getters[r]},i[n].vuex=!0})),i})),rt((function(t,e){var i={};return it(e).forEach((function(e){var n=e.key,r=e.val;i[n]=function(){var e=[],i=arguments.length;while(i--)e[i]=arguments[i];var n=this.$store.dispatch;if(t){var s=st(this.$store,"mapActions",t);if(!s)return;n=s.context.dispatch}return"function"===typeof r?r.apply(this,[n].concat(e)):n.apply(this.$store,[r].concat(e))}})),i}));function it(t){return nt(t)?Array.isArray(t)?t.map((function(t){return{key:t,val:t}})):Object.keys(t).map((function(e){return{key:e,val:t[e]}})):[]}function nt(t){return Array.isArray(t)||v(t)}function rt(t){return function(e,i){return"string"!==typeof e?(i=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,i)}}function st(t,e,i){var n=t._modulesNamespaceMap[i];return n}function at(t){void 0===t&&(t={});var e=t.collapsed;void 0===e&&(e=!0);var i=t.filter;void 0===i&&(i=function(t,e,i){return!0});var n=t.transformer;void 0===n&&(n=function(t){return t});var r=t.mutationTransformer;void 0===r&&(r=function(t){return t});var s=t.actionFilter;void 0===s&&(s=function(t,e){return!0});var a=t.actionTransformer;void 0===a&&(a=function(t){return t});var o=t.logMutations;void 0===o&&(o=!0);var l=t.logActions;void 0===l&&(l=!0);var c=t.logger;return void 0===c&&(c=console),function(t){var h=g(t.state);"undefined"!==typeof c&&(o&&t.subscribe((function(t,s){var a=g(s);if(i(t,h,a)){var o=ct(),l=r(t),u="mutation "+t.type+o;ot(c,u,e),c.log("%c prev state","color: #9E9E9E; font-weight: bold",n(h)),c.log("%c mutation","color: #03A9F4; font-weight: bold",l),c.log("%c next state","color: #4CAF50; font-weight: bold",n(a)),lt(c)}h=a})),l&&t.subscribeAction((function(t,i){if(s(t,i)){var n=ct(),r=a(t),o="action "+t.type+n;ot(c,o,e),c.log("%c action","color: #03A9F4; font-weight: bold",r),lt(c)}})))}}function ot(t,e,i){var n=i?t.groupCollapsed:t.group;try{n.call(t,e)}catch(r){t.log(e)}}function lt(t){try{t.groupEnd()}catch(e){t.log("—— log end ——")}}function ct(){var t=new Date;return" @ "+ut(t.getHours(),2)+":"+ut(t.getMinutes(),2)+":"+ut(t.getSeconds(),2)+"."+ut(t.getMilliseconds(),3)}function ht(t,e){return new Array(e+1).join(t)}function ut(t,e){return ht("0",e-t.toString().length)+t}},9684:function(t,e,i){"use strict";i.d(e,{Jn:function(){return j},qX:function(){return B},Xd:function(){return X},Mq:function(){return q},ZF:function(){return G},KN:function(){return $}});var n=i(7142),r=i(5168),s=i(223);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class a{constructor(t){this.container=t}getPlatformInfoString(){const t=this.container.getProviders();return t.map((t=>{if(o(t)){const e=t.getImmediate();return`${e.library}/${e.version}`}return null})).filter((t=>t)).join(" ")}}function o(t){const e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}const l="@firebase/app",c="0.7.17",h=new r.Yd("@firebase/app"),u="@firebase/app-compat",d="@firebase/analytics-compat",f="@firebase/analytics",p="@firebase/app-check-compat",g="@firebase/app-check",m="@firebase/auth",v="@firebase/auth-compat",y="@firebase/database",x="@firebase/database-compat",b="@firebase/functions",w="@firebase/functions-compat",k="@firebase/installations",A="@firebase/installations-compat",S="@firebase/messaging",C="@firebase/messaging-compat",E="@firebase/performance",I="@firebase/performance-compat",T="@firebase/remote-config",_="@firebase/remote-config-compat",P="@firebase/storage",L="@firebase/storage-compat",R="@firebase/firestore",O="@firebase/firestore-compat",N="firebase",M="9.6.7",D="[DEFAULT]",F={[l]:"fire-core",[u]:"fire-core-compat",[f]:"fire-analytics",[d]:"fire-analytics-compat",[g]:"fire-app-check",[p]:"fire-app-check-compat",[m]:"fire-auth",[v]:"fire-auth-compat",[y]:"fire-rtdb",[x]:"fire-rtdb-compat",[b]:"fire-fn",[w]:"fire-fn-compat",[k]:"fire-iid",[A]:"fire-iid-compat",[S]:"fire-fcm",[C]:"fire-fcm-compat",[E]:"fire-perf",[I]:"fire-perf-compat",[T]:"fire-rc",[_]:"fire-rc-compat",[P]:"fire-gcs",[L]:"fire-gcs-compat",[R]:"fire-fst",[O]:"fire-fst-compat","fire-js":"fire-js",[N]:"fire-js-all"},z=new Map,V=new Map;function H(t,e){try{t.container.addComponent(e)}catch(i){h.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,i)}}function X(t){const e=t.name;if(V.has(e))return h.debug(`There were multiple attempts to register component ${e}.`),!1;V.set(e,t);for(const i of z.values())H(i,t);return!0}function B(t,e){return t.container.getProvider(e)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Y={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function."},U=new s.LL("app","Firebase",Y);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class W{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new n.wA("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw U.create("app-deleted",{appName:this._name})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j=M;function G(t,e={}){if("object"!==typeof e){const t=e;e={name:t}}const i=Object.assign({name:D,automaticDataCollectionEnabled:!1},e),r=i.name;if("string"!==typeof r||!r)throw U.create("bad-app-name",{appName:String(r)});const a=z.get(r);if(a){if((0,s.vZ)(t,a.options)&&(0,s.vZ)(i,a.config))return a;throw U.create("duplicate-app",{appName:r})}const o=new n.H0(r);for(const n of V.values())o.addComponent(n);const l=new W(t,i,o);return z.set(r,l),l}function q(t=D){const e=z.get(t);if(!e)throw U.create("no-app",{appName:t});return e}function $(t,e,i){var r;let s=null!==(r=F[t])&&void 0!==r?r:t;i&&(s+=`-${i}`);const a=s.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const t=[`Unable to register library "${s}" with version "${e}":`];return a&&t.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&o&&t.push("and"),o&&t.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void h.warn(t.join(" "))}X(new n.wA(`${s}-version`,(()=>({library:s,version:e})),"VERSION"))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function K(t){X(new n.wA("platform-logger",(t=>new a(t)),"PRIVATE")),$(l,c,t),$(l,c,"esm2017"),$("fire-js","")}K("")},7142:function(t,e,i){"use strict";i.d(e,{wA:function(){return r},H0:function(){return c}});i(1703);var n=i(223);class r{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s="[DEFAULT]";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const t=new n.BH;if(this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:e});i&&t.resolve(i)}catch(i){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(null===t||void 0===t?void 0:t.identifier),n=null!==(e=null===t||void 0===t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(n)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(n)return null;throw r}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(l(t))try{this.getOrInitializeService({instanceIdentifier:s})}catch(e){}for(const[t,i]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:n});i.resolve(t)}catch(e){}}}}clearInstance(t=s){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter((t=>"INTERNAL"in t)).map((t=>t.INTERNAL.delete())),...t.filter((t=>"_delete"in t)).map((t=>t._delete()))])}isComponentSet(){return null!=this.component}isInitialized(t=s){return this.instances.has(t)}getOptions(t=s){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const n=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[r,s]of this.instancesDeferred.entries()){const t=this.normalizeInstanceIdentifier(r);i===t&&s.resolve(n)}return n}onInit(t,e){var i;const n=this.normalizeInstanceIdentifier(e),r=null!==(i=this.onInitCallbacks.get(n))&&void 0!==i?i:new Set;r.add(t),this.onInitCallbacks.set(n,r);const s=this.instances.get(n);return s&&t(s,n),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch(n){}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:o(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(n){}return i||null}normalizeInstanceIdentifier(t=s){return this.component?this.component.multipleInstances?t:s:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function o(t){return t===s?void 0:t}function l(t){return"EAGER"===t.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){const e=this.getProvider(t.name);e.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new a(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}},5168:function(t,e,i){"use strict";i.d(e,{in:function(){return r},Yd:function(){return c}});i(1703);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n=[];var r;(function(t){t[t["DEBUG"]=0]="DEBUG",t[t["VERBOSE"]=1]="VERBOSE",t[t["INFO"]=2]="INFO",t[t["WARN"]=3]="WARN",t[t["ERROR"]=4]="ERROR",t[t["SILENT"]=5]="SILENT"})(r||(r={}));const s={debug:r.DEBUG,verbose:r.VERBOSE,info:r.INFO,warn:r.WARN,error:r.ERROR,silent:r.SILENT},a=r.INFO,o={[r.DEBUG]:"log",[r.VERBOSE]:"log",[r.INFO]:"info",[r.WARN]:"warn",[r.ERROR]:"error"},l=(t,e,...i)=>{if(e<t.logLevel)return;const n=(new Date).toISOString(),r=o[e];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[r](`[${n}]  ${t.name}:`,...i)};class c{constructor(t){this.name=t,this._logLevel=a,this._logHandler=l,this._userLogHandler=null,n.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in r))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"===typeof t?s[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,r.DEBUG,...t),this._logHandler(this,r.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,r.VERBOSE,...t),this._logHandler(this,r.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,r.INFO,...t),this._logHandler(this,r.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,r.WARN,...t),this._logHandler(this,r.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,r.ERROR,...t),this._logHandler(this,r.ERROR,...t)}}}}]);
//# sourceMappingURL=chunk-vendors.2f302e4e.js.map